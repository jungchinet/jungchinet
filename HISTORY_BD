1.1.13 (2013.05.15)

===
테스트2에 베스트글 관리기능(초허접 버젼...)이 들어갔습니다.
베스트글의 노출제어 필드가 추가 되었으므로, DB 업글이 필요합니다.
 
ALTER TABLE  `g4_good_list` ADD  `gl_flag` TINYINT( 4 ) NOT NULL AFTER  `gl_id` 
 
===
1.1.13 - 몇개만 손댄다는게 너무 많이 손을...ㅠㅠ...
 
memcache를 추가했습니다. 세션관리에서만 씁니다.
캐쉬관리 등에서까지 쓰려면 머리 아픕니다.
db 세션 기능만 빠져도 아주 이쁘게 사이트가 돌아갑니다.
http://opencode.co.kr/bbs/board.php?bo_table=linux_tips&wr_id=356
 
===
 
common.php
config.php
config.2.php
head.sub.php
 
adm/admin.menu100.php 
adm/admin.menu300.php
adm/banner_date.php
adm/banner_form.php
adm/banner_form_update.php
adm/board_form.php
adm/board_form_update.php
adm/category_*.php
adm/memcache.php
adm/ssh_delete_good_list.php
adm/img/icon_catlevel.gif


bbs/good_list.php
bbs/login_check.php
bbs/move.php 
bbs/new.php
bbs/write_update.php
 
install/index.php
 
lib/b4.lib.php
lib/common.lib.php
lib/latest.lib.php
lib/me2do.lib.php
 
plugin/recommend/index.php
 
skin/banner/basic/banner.skin.php
skin/banner/text/banner.skin.php
 
skin/board/cheditor/list.skin.php
skin/board/cheditor/view.skin.php


skin/good_list/basic/good_list.skin.php
 
skin/member/basic/memo2_view.skin.php


skin/new/basic/new.skin.php
 
 
[ 테스트 2]
 
- 베스트글 관리자
adm/ssh_delete_good_list.php
bbs/good_list.php
skin/good/good_list.skin.php
 
- 최근게시글에 코멘트 갯수출력
bbs/new.php
skin/new/basic/new.skin.php
 
- 베스트글에서 코멘트 안나오는 오류...
skin/good_list/basic/good_list.skin.php


[테스트 1]


-  인기글에서 공지사항 제외
lib/latest.lib.php
 
- 베스트글 게시판 페이징 오류 수정
bbs/good_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1483&mnb=&snb=
 
- 게시판 기본내용 웹편집기 적용 + 그누원본 오류수정
adm/board_form.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_qna&wr_id=1174
https://github.com/open2/gnuboard4-buldang-pack/commit/c89e10ddbf1295ace62226182766e8856762fccf
 
- memcache 관리자추가
adm/admin.menu300.php
adm/memcache.php
https://github.com/open2/gnuboard4-buldang-pack/commit/47729a6227461e57fbfa43a62042d006a828beea
 
- 세션관리에 memcache 추가
config.php
common.php
 
- 코멘트 읽기레벨 관리 프로그램 오류
adm/board_form.php
adm/board_form_update.php
 
- 설치시 라이센스 폰트 깨어짐 오류
install/index.php
 
- 웹접근성 대체 텍스트 
skin/board/cheditor/list.skin.php
skin/board/cheditor/view.skin.php
skin/banner/basic/banner.skin.php
 
- 기본언어 지정
head.sub.php
https://github.com/open2/gnuboard4-buldang-pack/commit/52307d87a36bd637fa4a4636c96ecbc53e92a7c1
 
- move 범위 확대
bbs/move.php
 
- 그누보드 4.36.20
* admin.head.php의 style에 px 붙이는 것은 아득한 옛날에 반영된 것임.
* 불당팩의 js는 다음의 수정된 sideview js를 기반으로 수정한 것이라 반영하지 않음 (코드가 많이 다름)
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=8565


- 일부서버 자동로그인 안되는 오류 수정
bbs/login_check.php
https://github.com/open2/gnuboard4-buldang-pack/commit/df13dea0a0857469f07c44b4b78fc09ee579926a
 
- 게시판, 그룹관리자 이동가능한 범위 확대
bbs/move.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=930
 
- 그누보드 4.36.19
lib/common.lib.php
https://github.com/open2/gnuboard4-buldang-pack/commit/a622a1762261719a826c20f7ccaf0d4b04b763c3


- 네이버단축주소 생성 lib
config.2.php
lib/me2do.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=928
 
- 그누보드 4.31.17 (보안패치)
bbs/write_update.php
https://github.com/open2/gnuboard4-buldang-pack/commit/fba819fb2a40e36c72db070815b6d2485d46dde7


- 그누보드 4.31.18 (보안패치)
lib/common.lib.php
https://github.com/open2/gnuboard4-buldang-pack/commit/160555b3922df68999fde7e3b1a15532e6336f3b


- 배너관리에서 그룹변경시 이미지가 안보이는 오류 
adm/banner_form_update.php 
 
- 그누보드 4.26.16 (해당사항없슴. 불당팩은 이미 방어 완료. urlencode를 해서 %를 없앰)
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=8425
 
- 바이트를 보기좋은 형식으로 출력
lib/b4.lib.php



- 다중카테고리 관리자
config.php
adm/admin.menu300.php
adm/category_*.php
adm/img/icon_catlevel.gif
 
- 알파뉴메릭 시이퀀스 발생함수
lib/b4.lib.php
 
- typo 오류
adm/banner_date.php
adm/banner_form.php
 
- 배너관리 - 배너가 없을 때 액박 나오는 오류 수정
skin/banner/basic/banner.skin.php
skin/banner/text/banner.skin.php
https://github.com/open2/gnuboard4-buldang-pack/commit/5327bc5caf03f4226ed5b53e40e1a7f49e21dae0
 
- $tag를 $seo_tag로 변경
head.sub.php
https://github.com/open2/gnuboard4-buldang-pack/commit/f28cf0901dbda0a21e19beae387f947eb9734910
 
- 쪽지5 보기 style 오류
skin/member/basic/memo2_view.skin.php
https://github.com/open2/gnuboard4-buldang-pack/commit/3f48a1fe08687edb761a34dc9a2b6b1a74128314
 
- 추천 플러그인 오류
plugin/recommend/index.php
https://github.com/open2/gnuboard4-buldang-pack/commit/498995199c133aa36eb5f451580c3013e2e6dbab
 
- 그누보드 4.36.15 (해당사항 없슴. 이미 오래전에 패치함)
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=8396
 
- 그누보드 4.36.13, 그누보드 4.34.14 (XSS 패치)
common.lib.php
https://github.com/open2/gnuboard4-buldang-pack/commit/a741c550eb2805a04a3c0696cc87f7a0fddb4af6


1.1.12 (@013.01.29)

1.11.12는 개인정보 지킴이가 적용되었습니다.
게시판이 비회원 조회가 가능한 상태에서 개인정보(이메일, 주민번호, 전화번호, 핸드폰)가 유출되는 것을 막을수 있습니다.
스킨의 적용이 필요없게 수정하였으며, 다음의 경우에는 보호받지 못함을 알려주세요.
 
O1O-1111-1111 (숫자 0 대신 알파벳 O를 사용)
010-일일일일-1111 (숫자 1 대신 한글을 사용)
010 - 1111 - 2222 ( 번호 사이에 공백을 넣는 경우)
 
주민번호 유출등으로 경고 받은 곳은 바로 적용하실 수 있게 우선 올립니다.
 
===
 
config.2.php
head.sub.php
tail.sub.php
 
bbs/banner_link.php
 
lib/b4.lib.php
lib/common.lib.php
 
skin/member/basic/memo2_view.skin.php
skin/sitemap/naver/sitemap.skin.php
 
 
- 코멘트 비밀글 폰트 크기 small 삭제 (민원이 많았어요...)
skin/board/*/view_comment.skin.php
 
- sitemap 스킨 오류 수정
skin/sitemap/naver/sitemap.skin.php
https://github.com/open2/gnuboard4-buldang-pack/commit/b284e1b0fd031c5adeda5e8efc93c1c23dd054ca
 
- 불당썸 2.0.28
lib/thumb.lib.php
 
- 배너관리 링크 target 오류
bbs/banner_link.php 
https://github.com/open2/gnuboard4-buldang-pack/commit/9d802f075efd55fd53b5fa6333ed782f0a8a6e73
 
- 기타수정
config.2.php
tail.sub.php
 
- 불당 개인정보 지킴이
head.sub.php
lib/b4.lib.php
lib/common.lib.php
 
- 쪽지 스팸 버튼 간격조절
skin/member/basic/memo2_view.skin.php


1.1.11 (2013.01.22)

1.1.11 - 배너관리가 정식으로 추가 되었습니다.
 
===
config.php
 
adm/admin.menu300.php
adm/banner_* (다수의 파일)
adm/board_skin.php
adm/tempsave_list.php
adm/tempsave_list_delete.php
adm/upgrade_bd.php
adm/img/caldndar.gif
bbs/board.php 
bbs/good.php 
bbs/list.php
bbs/mb_leave_update.php
bbs/member_leave.php
 
lib/banner.lib.php
lib/common.lib.php 
lib/daum.lib.php
lib/latest.my.lib.php
 
skin/banner/* (다수의 파일)
skin/member/basic/memo2_memo_address_book.skin.php
skin/popular/daum_social/popular.skin.php
skin/new/basic/new.skin.php
skin/new/basic/img/btn_list.gif
 
 
- 배너관리 1.0.0
config.php
adm/admin.menu300.php
adm/banner_* (다수의 파일)
adm/board_skin.php
adm/tempsave_list.php
adm/tempsave_list_delete.php
adm/img/caldndar.gif
lib/banner.lib.php
skin/banner/* (다수의 파일)
 
- 검색권한 오류 수정 
bbs/list.php
 
- 비밀글 기능오류 수정
bbs/board.php
 
- 다음소셜픽 인기글 (예제)
skin/popular/daum_social/popular.skin.php
 
- 다음소셜픽 프로그램 오류 수정
lib/daum.lib.php
 
- 최신글 스킨 오류 수정
skin/new/basic/new.skin.php
skin/new/basic/img/btn_list.gif
 
- 업그레이드 프로그램 오류 수정
adm/upgrade_bd.php
 
- 최신글 프로그램 오류 수정
lib/latest.my.lib.php
 
- bbs/good.php 수정
bbs/good.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=910
 
- 그누보드 4.36.12 (session_unregister는 2개 파일만 빼고 이미 다 수정되었슴...)
bbs/mb_leave_update.php
bbs/member_leave.php
lib/common.lib.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=8250
http://kr1.php.net/manual/en/function.session-unregister.php
    :  XSS 취약점 해결, 패치된 내역 수정 보완 
        UN Security팀에서 한국인터넷진흥원을 통하여 알려 주셨습니다. 

        lib/common.lib.php 의 아래 코드가 추가 되었습니다. 

            $content = preg_replace_callback("#style\s*=\s*[\"\']?[^\"\']+[\"\']?#i", 
                        create_function('$matches', 'return str_replace("\\\\", "", stripslashes($matches[0]));'), $content); 

    :  session_unregister 는 PHP 5.3 이상 에서 더이상 사용되지 않고 PHP 5.4 에서 사라지는 함수입니다. 
        unset($_SESSION['const']) 로 대체합니다. 
        김선용 님께서 알려 주셨습니다. 
 
- 쪽지 5 - 2.0.6
skin/member/basic/memo2_memo_address_book.skin.php
https://github.com/open2/gnuboard4-buldang-pack/commit/2701f118dc25dbf981bee656c427ec3bece4ce55


1.1.10 (2013.01.02)

별명으로만 가입하는 기능을 추가 했습니다.
사이트 운영시 기본으로 별명 가입만 쓰시면 됩니다.
실명 사이트의 경우 별명난에 실명을 쓰라고 label만 수정하시면 됩니다.
기존 데이터의 변경은 update g4_member set mb_name = mb_nick 이렇게 맞추면 되구요.
굳이 이름... 수집하지 않는게 좋습니다.
 
네이버 연관검색어 함수 추가했고, 다음 소셜픽도 넣었습니다.
 
DB 변경이 있습니다. 
g4_config 테이블의 변경이므로 다음처럼 하셔야 합니다.
 
1. DB를 업글 (adm/upgrade_bd.php를 실행 또는 아래의 SQL을 실행)
2. common.php를 업글
3. 관리자의 환경설정에서 글쓰기제한 설정을 변경 (레벨 3 또는 회원가입시 포인트의 2배 정도면 적당)
 
ALTER TABLE `g4_config` ADD `cf_delay_level` TINYINT( 4 ) NOT NULL ,
ADD `cf_delay_point` INT( 11 ) NOT NULL 
 
그외에 자잘한 오류들 수정했습니다.
 
 
config.php
common.php
 
adm/admin.lib.php
adm/board_form.php
adm/board_form_category.php
adm/board_list.php
adm/config_form.php
adm/config_form_update.php
adm/singo_list.php
adm/upgrade_bd.php
 
bbs/memo.php
bbs/memo2_form_recover.php
bbs/new.php
bbs/register_form.php
bbs/register_form_update.php
bbs/write.php
bbs/write_update.php
bbs/write_comment_update.php
 
nstall/install_db.php
install/sql_gnuboard4.sql
install/sql_opencode.sql
 
lib/daum.lib.php
lib/naver.lib.php
 
skin/latest/naver/latest.skin.php
 
skin/member/basic/memo2.list.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php
 

=== 수정1 ===
 
- 추천기능 튜닝
bbs/good.php
https://github.com/open2/gnuboard4-buldang-pack/commit/84b6a9274133f169eae19694c3372794529a6d4e
 
- 네이버 인기검색어 수정
lib/naver.lib.php
https://github.com/open2/gnuboard4-buldang-pack/commit/3297acd37d5310c346169b059c761375949196b5
 
- 오류수정 (debug용 echo삭제)
bbs/visit_insert.inc.php 
https://github.com/open2/gnuboard4-buldang-pack/commit/3258f11bf8bf67a38374ae02f60acdbfefbbd078
 
- 설치파일오류
install/sql_opencode.sql
https://github.com/open2/gnuboard4-buldang-pack/commit/bb9cd091d263a5220bfaf214da40d5c1177d672a
https://github.com/open2/gnuboard4-buldang-pack/commit/453e06bb9b7bbd931b85bae1b5fec11625ac5b74
 
- 쪽지5 오류 나는 것 테스트용
lib/b4.lib.php
https://github.com/open2/gnuboard4-buldang-pack/commit/5cdd799b1258d274505140b85b1b42d46a33c5ee
 
===

- 네이버 최신글 span을 넣어서 Re 이미지 뒤에 줄바꿈 되는 오류 수정
skin/latest/naver/latest.skin.php
https://github.com/open2/gnuboard4-buldang-pack/commit/761736b00dbfcb9080e15876b3510f590edf471e
 
- 이름/별명으로만 가입하기 
config.php
bbs/register_form_update.php
skin/member/basic/register_form.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=902
 
- 연속글쓰기 제한 개선
common.php
adm/config_form.php
adm/config_form_update.php
adm/upgrade_bd.php
bbs/write.php
bbs/write_update.php
bbs/write_comment_update.php
install/install_db.php
install/sql_gnuboard4.sql
install/sql_opencode.sql
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=906
 
 
- 사소한 수정
adm/board_list.php
https://github.com/open2/gnuboard4-buldang-pack/commit/ac3133698bbf40501959b134a8206ac3523ad6b1
 
- 네이버 인기검색어 등
lib/naver.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=905
 
- 다음 소셜픽
lib/daum.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=904
 
- 쪽지 5 - 2.0.5
bbs/memo.php
bbs/memo2_form_recover.php
skin/member/basic/memo2.list.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=memo4&wr_id=563
 
- 신고목록에서 코멘트의 경우 내용을 볼 수 있게
adm/singo_list.php
http://www.opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4640&mnb=&snb=
 
- sendmail test 프로그램 발신자 수정
adm/sendmail_test.php
https://github.com/open2/gnuboard4-buldang-pack/commit/971472eed62ec663c034f061ca95e4c446538eac
 
- 회원가입화면 style 수정
skin/member/basic/register.skin.php
https://github.com/open2/gnuboard4-buldang-pack/commit/7f3263225662f22d88b01005d3f78f1e917671bf
 
- 게시판 관리 페이지 여는게 너무 늦음
adm/board_form.php
adm/board_form_category.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=903
http://www.opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4634
 
- 주민번호 관련 코드 삭제
adm/admin.lib.php
adm/config_form_update.php
bbs/register_form.php
bbs/register_form_update.php
install/install_db.php
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php
 
- 최신글 오류
bbs/new.php
http://www.opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1443


1.1.09 (2012.12.21)

1.1.08버젼 이후에 opencode를 테스트 하면서 나오는 버그와 사소한 수정 사항들을 업글하는 것 입니다.
수정중인 현재 상태의 파일은 github에서 소스를 copy 해서 쓰시면 됩니다.
https://github.com/open2/gnuboard4-buldang-pack/commits/
 
쪽지는 기능개선을 통해서 2.0.4로 업글 되었습니다. 트래픽과 속도 모두 크게 개선 되었습니다.
쪽지만 업글하시려면 쪽지5 - 2.0.4를 업글 하면 됩니다.
 
common.php
config.2.php
head.php
head.sub.php
memo.config.php 
tail.sub.php
 
adm/gd_info.php
adm/index.php
adm/memo4.sql
adm/point_list.php
adm/recycle_list.php
adm/recycle_list_delete.php
 
bbs/download_memo_file.php
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
bbs/memo.php 
bbs/memo2_config_update.php 
bbs/memo2_form_cancel.php 
bbs/memo2_form_delete.php 
bbs/memo2_form_update.php 
bbs/memo2_withdraw_notice.php 
bbs/profile.php
bbs/singo_popin.php
bbs/singo_popin_update.php
bbs/unsingo_popin_update.php
bbs/visit_insert.inc.php
bbs/write.php
bbs/write_id.php
bbs/zip.db
 
cheditor5/* (기존 디렉토리 이름바꾸고 전체 upload)
 
lib/b4.lib.php
lib/common.lib.php
 
skin/member/basic/profile.skin.php
skin/member/basic/friend_memo_update.php 
skin/member/basic/friend_update.php 
skin/member/basic/memo2.css 
skin/member/basic/memo2.head.skin.php 
skin/member/basic/memo2.skin.php 
skin/member/basic/memo2.tail.skin.php 
skin/member/basic/memo2_adsense.php 
skin/member/basic/memo2_config.skin.php 
skin/member/basic/memo2_group_admin.skin.php 
skin/member/basic/memo2_group_delete.php 
skin/member/basic/memo2_group_member.skin.php 
skin/member/basic/memo2_group_member_delete.php 
skin/member/basic/memo2_group_member_update.php 
skin/member/basic/memo2_group_name_update.php 

skin/member/basic/memo2_online.skin.php
skin/member/basic/memo2_group_update.php 
skin/member/basic/memo2_list.skin.php 
skin/member/basic/memo2_memo_address_book.skin.php 
skin/member/basic/memo2_online.skin.php 
skin/member/basic/memo2_view.skin.php 
skin/member/basic/memo2_write.skin.php 
 
zmSpamFree/zmSpamFree.php
 
 
- 설치시 extend 디렉토리 안만들게
extend/
extend/index.php
install/install_db.php
 
- 쪽지 5 - 2.0.4 업데이트
bbs/memo2_form_update.php
skin/member/basic/memo2_online.skin.php
 
- 그누보드 4.36.11
lib/common.lib php
    :  글읽기에서 실행되는 XSS 취약점 보완 
        UN Security팀에서 한국인터넷진흥원을 통하여 알려 주셨습니다. 

        lib/common.lib.php 에 아래와 같이 추가합니다. 
        
        // <IMG STYLE="xss:e\xpression(alert('XSS'))"></IMG> 와 같은 코드에 취약점이 있어 수정함. 121213 
        $content = preg_replace("/(?<=style)(\s*=\s*[\"\']?xss\:)/i", '="__XSS__', $content);
 
- 화면에 나올게 없으면 캐쉬하지 않습니다 (naver api의 반응지연으로...)
lib/b4.lib.php
https://github.com/open2/gnuboard4-buldang-pack/commit/1eaef36e76e51e98a438ecf3a0c5f5ee4a5e0644
 
- 그누보드 4.36.10 (보안패치)
common.php
https://github.com/open2/gnuboard4-buldang-pack/commit/804b76c5cf482e01db09e73f926418e86167c1ed
 
- 그누보드 4.36.09 (보안패치)
lib/common.lib.php
https://github.com/open2/gnuboard4-buldang-pack/commit/22a77b2eafbdcb51e88aa7b5daaa1335fb40b901
 
- 프로그램 오류 수정
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1427
 
- 쪽지 5 - 2.0.4
memo.config.php
adm/memo4.sql
bbs/memo2_form_delete.php
lib/b4.lib.php
skin/member/basic/memo2.head.skin.php
skin/member/basic/memo2.view.skin.php
skin/member/basic/memo2_group_admin.skin.php
 
- 쓰기 안하고 나올 때 경고하는 것을 옵션으로 변경
config.2.php
bbs/write.php
 
- cheditor 5.09.3 버젼업
cheditor5/* (기존 디렉토리 이름바꾸고 전체 upload)
 
- 휴지통삭제 오류
adm/recycle_list.php
adm/recycle_list_delete.php
 
- SEO 오류 수정
head.sub.php
bbs/visit_insert.inc.php 
https://github.com/open2/gnuboard4-buldang-pack/commit/66a1bfc8b53b501d26ab8e62a89a141957652cfe 
https://github.com/open2/gnuboard4-buldang-pack/commit/1a8228aaf5a91f27a7d279a41717d5b0fb7cca94 
 
- 관리자 불필요코드 삭제
adm/index.php
http://www.opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=895]
 
- gr_id 오류 수정
common.php
https://github.com/open2/gnuboard4-buldang-pack/commit/8c193da4289d28ebcaebdd94fc2fb02a74489ff8
 
- 신고프로그램 오류수정
bbs/singo_popin_update.php
https://github.com/open2/gnuboard4-buldang-pack/commit/a7e4a836d7f38a0f26173a4b3adfbd6e182fbe62
 
- resize 관련 수정한거 없어진거 복원... 수정한게 어디로?
lib/b4.lib.php 
 
- 불필요 코드 삭제 (이게 왜 들어 갔지?)
skin/board/cheditor/employ.inc.php (삭제)
 
- 쪽지5 - 친구관리 연동해서 수정
adm/point_list.php
 
- 쪽지5 - 2.0.2, 2.0.3
memo.config.php 
bbs/write_id.php
 
- 쪽지5 - 2.0.1
memo.config.php 
bbs/download_memo_file.php
bbs/memo.php 
bbs/memo2_config_update.php 
bbs/memo2_form_cancel.php 
bbs/memo2_form_delete.php 
bbs/memo2_form_update.php 
bbs/memo2_withdraw_notice.php 
skin/member/basic/friend_memo_update.php 
skin/member/basic/friend_update.php 
skin/member/basic/memo2.css 
skin/member/basic/memo2.head.skin.php 
skin/member/basic/memo2.skin.php 
skin/member/basic/memo2.tail.skin.php 
skin/member/basic/memo2_adsense.php 
skin/member/basic/memo2_config.skin.php 
skin/member/basic/memo2_group_admin.skin.php 
skin/member/basic/memo2_group_delete.php 
skin/member/basic/memo2_group_member.skin.php 
skin/member/basic/memo2_group_member_delete.php 
skin/member/basic/memo2_group_member_update.php 
skin/member/basic/memo2_group_name_update.php 
skin/member/basic/memo2_group_update.php 
skin/member/basic/memo2_list.skin.php 
skin/member/basic/memo2_memo_address_book.skin.php 
skin/member/basic/memo2_online.skin.php 
skin/member/basic/memo2_view.skin.php 
skin/member/basic/memo2_write.skin.php 
http://opencode.co.kr/bbs/board.php?bo_table=memo4&wr_id=530
 
- 그누보드 4.36.08
lib/common.lib.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=8052 
    : 태그에 포함되지 않은 __EXPRESSION__ 속성이 변환되는 것을 방지
* bbs/memo.php는 패치 안합니다. 그거는 이미 몇년전에 반영된 사항 입니다.
 
- 신고횟수제한 안되는 오류, 신고해제 오류 수정
bbs/singo_popin.php 
bbs/unsingo_popin_update.php
http://www.opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4555
 
- 회원 정보보기에서 추천, 비추천 정보를 볼 수 있게 하기
bbs/profile.php
skin/member/basic/profile.skin.php
 
- 회원정보 보기에서 가입일수에 콤마가 나오게 수정 (천일이 넘는 경우...)
skin/member/basic/profile.skin.php
 
- tail.sub.php를 단독으로 못 부르게 코드수정
tail.sub.php
 
- zmSpamFree에 날짜 정의 추가
zmSpamFree/zmSpamFree.php
 
- 그누보드 4.36.05 (우편번호만 변경된거라...지금 반영)
bbs/zip.db
    : 우편번호 2012.07.13.자 반영 52,017건
 
- 다음위젯제거(다음이 위젯포기하는 듯...) github 로고와 링크추가
head.php
images/github_logo.jpg
 
- 관리자 그룹 설정시 나오는 경고문
common.php
http://www.opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4541
 
- 관리자 gd정보에서 jpeg 오류난거 수정 (jpeg이 되는데, 안된다고 거짓말을 했슴. 팁 개발자의 typo오류...ㅠ.ㅠ...)
adm/gd_info.php


1.1.08 (2012.09.25)

bbs/view_comment.php 버젼에 상관없이 교체 요청 드립니다.
보안버그가 있습니다.
 
불당팩 1.1.08의 과제는 SEO(루시올라님께 감사^^)와 모바일, 그리고 추천기능의 보강,
KISA의 새로운 규정에 맞춘 회원가입, 비회원쓰기 입니다.
1.1.07 버젼의 오류도...ㅠ.ㅠ...
 
이후에 당분간은 큰 기능개선은 없고, 그동안 밀린 일을 할 겁니다.
모바일, 광고관리 등등...
 
===
 
* 개인정보 제3자 제공, 취급위탁 관련 동의 받기
ALTER TABLE ADD `mb_agree_3rd_pty` TINYINT( 4) NOT NULL ;
 
* 개인정보 제3자 제공 항목 추가
ALTERTABLE`g4_config_reg`ADD`cf_privacy_5` TEXT NOTNULL ;
 
* 게시판별 추천, 비추천 포인트
ALTER TABLE  `g4_board` ADD  `bo_good_point` INT( 11 ) NOT NULL ;
ALTER TABLE  `g4_board` ADD  `bo_nogood_point` INT( 11 ) NOT NULL ;

* 추천/비추천된 내글
ALTER TABLE `G4_BOARD_GOOD` ADD `WR_MB_ID` VARCHAR( 255 ) NOT NULL ;
ALTER TABLE `g4_board_good` ADD INDEX `wr_mb_id` ( `wr_mb_id` )

 * 사이트에 접근하는 keyword의 종류 및 접근 게시글
CREATE TABLE IF NOT EXISTS `g4_seo_tag` (
  `tag_id` int(11) NOT NULL AUTO_INCREMENT,
  `tag_name` varchar(255) NOT NULL,
  `tag_date` date NOT NULL,
  `bo_table` varchar(20) NOT NULL,
  `wr_id` int(11) NOT NULL,
  `count` int(11) NOT NULL,
  PRIMARY KEY (`tag_id`),
  UNIQUE KEY `unique_key` (`tag_name`,`bo_table`,`wr_id`)
)

* 사이트에 접속하는 agent의 빈도
CREATE TABLE IF NOT EXISTS `g4_seo_server` (
  `server_id` int(11) NOT NULL AUTO_INCREMENT,
  `server_name` varchar(255) NOT NULL,
  `server_date` date NOT NULL,
  `count` int(11) NOT NULL,
  PRIMARY KEY (`server_id`),
  UNIQUE KEY `server` (`server_name`,`server_date`)
)

* History
CREATE TABLE IF NOT EXISTS `g4_seo_history` (
  `seo_id` int(11) NOT NULL AUTO_INCREMENT,
  `seo_datetime` datetime NOT NULL,
  `server_name` varchar(255) NOT NULL,
  `tag_name` varchar(255) NOT NULL,
  `bo_table` varchar(255) NOT NULL,
  `wr_id` int(11) NOT NULL,
  PRIMARY KEY (`seo_id`),
  KEY `server_name` (`server_name`),
  KEY `bo_table` (`bo_table`),
  KEY `tag_name` (`tag_name`)
)

===
common.php
config.php
head.sub.php
robots.txt
 
adm/admin.menu200.php
adm/config_form.php
adm/config_form_update.php
adm/seo_keyword_list.php
adm/sql_write.sql
adm/upgrade_bd.php

bbs/board.php
bbs/delete.php
bbs/good.php
bbs/my_good_ed.php
bbs/register_form_update.php
bbs/view_comment.php
bbs/write.php
bbs/write_update.php
 
layout/naver/layout.php
 
lib/common.lib.php
lib/latest.lib.php
 
modules/my_read_list.php
 
skin/board/cheditor/write.skin.php
 
skin/board/cheditor_banner/*
 
skin/member/basic/good.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php

=== 테스트 3 ===
 
- SEO 오류수정
adm/board_delete.inc.php
head.sub.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1409
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1408
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1407
 
- SEO keyword 출력 옵션으로 처리하기
config.php
head.sub.php

- 쪽지 5 - 1.0.12
memo.config.php
bbs/memo.php
bbs/memo2_form_update.php
http://opencode.co.kr/bbs/board.php?bo_table=memo4&wr_id=478
 
- 프로그램 오류수정
lib/latest.lib.php
skin/latest/naver/latest.skin.php
 
- 프로그램 오류 (에그당님)
adm/board_form.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1405
 
- 개인정보 최종안 반영
adm/config_form.php
skin/member/register.skin.php
skin/board/cheditor/write.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=other_tips&wr_id=109

=== 테스트 2 ===

 
- head.sub.php에서 ($result를 $result_m, $result_c 로)
head.sub.php
 
- adm/admin.lib.php 수정 ($result를 $result_a로... 이거 넣는 위치에 따라 오류가 날 수 있어서)
adm/admin.lib.php
 
- 프로그램 오류수정
modules/my_read_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1376
- 업글오류
adm/upgrade_bd.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack&wr_id=1547
 
- 그누 SEO
adm/seo_keyword_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=856
 
- 그누보드 4.36.04 
수정사항은 4.36.03의 common.php 수정을 취소하는 것
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=7841
 
- 그누보드 4.36.03
bbs/write.php
bbs/write_update.php
lib/common.lib.php
4.36.03 (2012.07.20) 
    :  [보안] 비회원 글쓰기에서 다른 사람의 글에 수정할수 있는 오류가 있어 수정 (이준호님께서 알려 주셨습니다.) 
    :  공백 비교 코드 오류로 인한 수정 (letsgolee님께서 알려 주셨습니다.) 

- SEO tag_name 오류 
head.sub.php
- 비회원 게시판의 개인정보 동의 받기
adm/config_form.php
adm/config_form_update.php
bbs/register_form_update.php
skin/board/cheditor/write.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=883
 
- 구글 검색의 비밀코멘트 캐슁 관련 버그
bbs/view_comment.php
 
 
=== 테스트 1 ===

- 글삭제 오류 (에그당님)
bbs/delete.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1359

- cdn_path 중복 삭제
config.php

- 없어진 common.php 작업 복구하기 (그래도 뭔가 빠진거 같음...ㅠ.ㅠ...)
common.php

- 추천, 비추천에 포인트 부여하기
config.php
bbs/good.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=881

- banner 게시판 수정
skin/board/cheditor_banner/*
- 추천/비추천 된 내글 (bbs/my_good.php와 거의 같은 코드죠...)
adm/upgrade_bd.php
bbs/my_good_ed.php
layout/naver/layout.php
skin/member/basic/good.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=880
 
- latest_good의 정렬을 bg_id로
lib/latest.lib.php
 
- SEO robots.txt
adm/admin.menu200.php
adm/seo_keyword_list.php
robots.txt
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=870

- SEO h1은 title과 중복되기 때문에 적용하지 않습니다.
 
- SEO title
bbs/board.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=868
 
- SEO - 메타태그
head.sub.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=867
 
- 게시물의 canonical link(정규링크) 지정하기
head.sub.php
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=20826 
 
- ca_name에 index 걸어주기
adm/sql_write.sql
adm/upgrade_bd.php


1.1.07 (2012.7.11)

1.1.07은 세션 등의 디비 변경이 있습니다.
그리고 오류나면 알려주세요.
뭔가 빼먹거나 엉키거나 했을 수 있습니다. ㅠㅠ...

그누보드 4.30.28, 29, 30은 모두 보안패치에 대한거라, 관련파일 lib/common.lib.php를 올려둡니다.
기존 사용자중 file 세션을 사용하는 경우, .htaccess를 data/session 디렉토리에 넣으면 됩니다.
내용은 deny from all 이라고 쓰구요. 첨부하니 이상하게 내려와서...
=== 
불당팩에서 사용하던 배추의 db 세션을 관리자님의 원본으로 교체 합니다.
db 세션의 변경에 db 테이블의 필드가 일부 변동 됩니다.
 
ALTER TABLE `g4_member` ADD `mb_good` INT( 11 ) NOT NULL ,
ADD `mb_nogood` INT( 11 ) NOT NULL ;
 
ALTER TABLE `g4_session` CHANGE `id` `ss_id` VARCHAR( 32) ;
ALTER TABLE `g4_session` CHANGE `ss_data` `ss_data` TEXT ;
ALTER TABLE `g4_session` ADD INDEX `ss_datetime` (`ss_datetime`) ;
 
ALTER TABLE `g4_member_suggest` ADD `join_email` VARCHAR( 255) NOT NULL AFTER `join_hp` ;
ALTER TABLE `g4_member_suggest` ADD `mb_email` VARCHAR( 255) NOT NULL AFTER `mb_hp` ;
ALTER TABLE `g4_member_suggest` ADD `email_certify` VARCHAR( 255) NOT NULL ;
ALTER TABLE `g4_member_suggest` ADD INDEX `mb_id` (`mb_id`) ;
ALTER TABLE `g4_member_suggest` ADD INDEX `email_certify` (`email_certify`) 
 
 
 
common.php
config.php
config.2.php
on_pm.html
tail.sub.php
 
adm/upgrade_bd.php

bbs/delete_comment.php
bbs/email_re_certify.php
bbs/email_re_certify_update.php
bbs/good.php
bbs/list.php
bbs/my_good.php
bbs/my_good_update.php
bbs/profile.php
bbs/view.php
bbs/write_comment_update.php

data/session/.htaccess
 
install/install_db.php
 
layout/layout.lib.php
layout/naver/layout.php
 
lib/b4.lib.php
lib/common.lib.php
lib/dbsession.lib.php
lib/latest.lib.php
lib/naver.lib.php
lib/thumb.lib.php
 
lib/mw.session.db.lib.php (삭제)
 
plugin/recommend/*
 
skin/board/cheditor/list.skin.php
skin/board/cheditor/view.skin.php
skin/board/cheditor_unicro/view.skin.php
 
skin/member/basic/good.skin.php
skin/member/basic/profile.skin.php 
skin/member/basic/register_form.skin.php

skin/latest/scrap/latest.skin.php
skin/latest/simple/latest.skin.php
skin/latest/naver/latest.skin.php
 
skin/outlogin/transparent/outlogin.skin.1.php
skin/outlogin/transparent/outlogin.skin.2.php
skin/outlogin/naver/outlogin.skin.1.php
skin/outlogin/naver/outlogin.skin.2.php

skin/popular/naver_popular/*

 
 
테스트 2
- 프로그램 보완
lib/latest.lib.php

- 베스트글 오류 수정
bbs/good.php
bbs/delete_comment.php
bbs/write_comment_update.php

- 프로그램 오류 수정 (팁적용 누락)
common.php

- sql_query 함수에서 테이블 복구 안되던 오류 수정
lib/common.lib.php

===
 
- 웹접근성을 위한 프로그램 수정 (게시판 스킨은 추후 수정할 일이 있을때... 같이 수정)
tail.sub.php
lib/common.lib.php
skin/latest/simple/latest.skin.php
skin/outlogin/naver/outlogin.skin.1.php
skin/outlogin/naver/outlogin.skin.2.php
skin/outlogin/transparent/outlogin.skin.1.php
skin/outlogin/transparent/outlogin.skin.2.php
 
- 추천 비추천을 회원정보에도 남기기
bbs/good.php
bbs/profile.php
skin/member/basic/profile.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=860&mnb=&snb=
 
- async 페이지 로딩 함수 기능 추가
b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=jquery_tips&wr_id=81
 
- 내가 추천/비추천한글
bbs/my_good.php
bbs/my_good_update.php
layout/naver/layout.php
skin/member/basic/good.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=848
 
- 설정 전달값에 head_on 변수 추가 
config2.php
 
- get_write2 함수추가
lib/b4.lib.php
- 그누보드 4.36.02
lib/common.lib.php
: 플래시의 액션스크립트와 자바스크립트의 연동을 차단하여 악의적인 사이트로의 이동을 막는다. (i2sec 김준규님께서 알려 주셨습니다.)
: 4.36.01 의 코드에 오류가 있어 수정했습니다.
 
- 그누보드 4.36.01
: XSS 취약점 수정 보완 (i2sec 강우석님께서 원인과 해결책을 모두 알려 주셨습니다.) 
기존코드에 헛점이 있어 코드를 수정 보완 하였습니다.
lib/common.lib.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=7685
 
- 댓글앞에 광고 가능하게 스킨수정
skin/board/cheditor/view.skin.php
skin/board/cheditor_unicro/view.skin.php
skin/board/cheditor_metacoupon/view.skin.php
 
- 네이버인기검색어 함수
lib/naver.lib.php
 
- 접속오류 메시지 개선
on_pm.html
lib/common.lib.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=847
 
- php 5.4.x 오류 수정
skin/latest/scrap/latest.skin.php
skin/latest/naver/latest.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=php_tips&wr_id=161
 
- 메타쿠폰, 네이버 인기글 스킨추가
skin/board/metacoupon/*
skin/popular/naver_popular/*
 
- php 5.3.x 오류 수정
config.php
http://opencode.co.kr/bbs/board.php?bo_table=php_tips&wr_id=162
 
- 4.36.00
4.36.00 (2012.06.21) 
: DB SESSION 의 MySQL 과부하로 인하여 기존의 FILE SESSION 으로 되돌림
data/session/.htaccess
install/install_db.php
 
- 메뉴 영역 변수를 별도 설정으로 분리
common.php
config.2.php
bbs/list.php
bbs/view.php
 
- wr_1~wr_10의 확장필드 값으로 정렬을 할 때
lib/common.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=843
 
- 특정 횟수 이하의 조회글을 보고자 할 때
lib/common.lib.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=842
 
- 유용한 함수 추가
lib/b4.lib.php
 
- 관리자는 무조건 추천이 보이게 하던 기능 삭제 (각 1줄씩 관련 코드 삭제...)
skin/board/cheditor/list.skin.php
skin/board/cheditor/view.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=122
 
- 그누보드 4.35.02 (2012.06.15) (변경할 것 없슴...)
    :  4.35.01 의 세션테이블 생성할때 utf-8 사용시 세션테이블을 utf8 로 생성 (내일을위하여 님이 알려주시고 모바일님이 해결해 주셨습니다.)  
- 그누보드 4.35.01
common.php
    : 4.35.00 에서 cookie_domain 의 설정등이 누락되어 서브도메인간의 세션 공유가 되지 않던 오류를 수정 (cosy님께서 알려주셨습니다.) 
: 세션 데이터의 유지시간이 기본 1440초(24분)으로 짧아 10800초(3시간) 동안 유지되도록 수정 
: 세션 테이블 생성시 날짜시간에 인덱스를 추가
 
- 그누보드 4.35.00
: SESSION Data 가 노출되지 않도록 DB SESSION 사용 (HSEngine 님께서 알려 주셨습니다.) 
: $_SERVER['PHP_SELF'] 변수를 사용한 XSS 취약점 수정
common.php
lib/dbsession.lib.php
lib/mw.session.db.lib.php (삭제)
 
- 추천가입 플러그인
config.php (추천 관련코드 삭제, 추천포인트 추가)
bbs/email_re_certify.php
bbs/email_re_certify_update.php
plugin/recommend/*
skin/member/basic/register_form.skin.php
skin/outlogin/transparent/outlogin.skin.2.php
 
- 불당썸 2.0.27
lib/thumb.lib.php
 
- 최신글 권한 조정 프로그램 수정 (list_level 옵션추가)
lib/latest.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4399
 
- 그누보드 4.34.30
lib/common.lib.php
: 4.34.28 의 검색 구문 수정후 게시판에서 분류 검색이 되지 않는것을 수정 
lib/common.lib.php 의 get_sql_search() 함수가 수정 되었습니다.
 
- 그누보드 4.34.29
lib/common.lib.php
: 4.34.28 패치에서 embed 태그중 allowscriptaccess 코드를 script 로 인식하여 동영상 작동이 안되는것을 수정 
lib/common.lib.php 의 bad120422() 함수가 수정 되었습니다.
 
- 그누보드 4.34.28
lib/common.lib.php
: 게시판 검색시 검색어에 태그가 들어가는 경우 쿼리 에러가 나는것을 수정 (곱슬최씨님께서 알려 주셨습니다.) 
get_sql_search() 함수 수정 
: [보안패치] XSS 취약점 오류 수정 (i2sec 하동민님께서 알려 주셨습니다.) 
conv_content(), bad120422() 함수 수정 
 
- 제목에서 특수문자 없애기, 빈공간에서 _로 변경 (안보이는 경우가 나오네요)
lib/b4.lib.php
 
- 불당빌더 1.0.11
layout/layout.lib.php
 
- microsoft office name space 오류 수정
lib/common.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4403


1.1.06 (2012.05.24)

이천이지님이 알려주신 코멘트 편집기 오류는 cheditor 최근판의 버그 입니다.
당분간은 5.0.4 버젼을 써주세요. 최근 버젼에는 버그가 너무 많습니다. =..=

테스트3 배포판에서 bbs/memo.php에 오류가 있었습니다.
where where... 2번이나... 수정했습니다.
 
테스트2 배포판에서 bbs/password_lost_certify.php에 오류가 있습니다.
수정 했습니다.
 
테스트1 배포판에서 memo.config.php를 수정중인 것을 배포했습니다.
바꿔주세요. 쪽지가 안됩니다.
 
=== 
불당팩에서는 이미 .htaccess 파일을 통해서 data 디렉토리를 방어하고 있었습니다. 으쓱~ ㅎㅎ....
패치에서는 .htaccess의 문법의 일부를 그누보드의 릴리즈에 맞춰서 보완한 것 입니다.
이미 설치된 경우에는 /img/.htaccess 파일을 /data 디렉토리에 복사하시면 됩니다.
 
TopSchool님과 같이 5월초에 진행한 보안패치 입니다.
중요도는 슈퍼 A++ 입니다.
 
하위 버전이더라도, 수정사항을 체크해서 반드시 패치 해야 합니다.
 
===

common.php
index.mnb.php
memo.config.php 

bbs/download.php
bbs/memo.php
bbs/list.php
bbs/password_lost_certify.php
bbs/register_form.php
bbs/view.php

layout/layout.lib.php
layout/naver/layout.php (예제추가)
  
img/.htaccess
data/.htaccess (기존 홈페이지의 경우)

lib/b4.lib.php
lib/common.lib.php

modules/join_sugget.php

modules/join_sugget_re.php
 
===(테스트 5)

- 그누보드 4.34.27

bbs/download.php

    : [보안패치] SQL Injection 공격 취약점을, 김동현(BlackFalcon)님께서 한국인터넷진흥원을 통하여 알려 주셨습니다. 

 
 
- 불당빌더 1.0.10
 
index.mnb.php
 
layout/layout.lib.php
 
layout/naver/layout.php
 
 
 
- 불당빌더 관련 오류 수정
 
bbs/list.php
 
bbs/view.php
 
 
 
- 추천 관련 프로그램 업데이트 (제가 쓰는거...ㅠ.ㅠ..)
 
modules/join_sugget.php
 

modules/join_sugget_re.php
 
 
 

=== (테스트4) 



- 프로그램 오류 수정
 

bbs/memo.php
 
 
 
 
 
=== (테스트3) 
 
 
 
- 프로그램 오류 수정
 

bbs/password_lost_certify.php
 

 
 
=== (테스트2)
 
 
 

- 쪽지5 - 1.0.11 (보안패치)
 

memo.config.php
 
 
 
 
 
=== (테스트 1)
 
 
 
- 쪽지5 - 1.0.11 (보안패치)
 

memo.config.php
 
bbs/memo.php
 
 
 
- 보안패치 (3)
 
common.php
 
bbs/password_lost_certify.php
 
bbs/register_form.php
 
 
 
- 보안패치 (1) (2)
 
lib/common.lib.php
 
 
 
- 그누보드 4.34.26
 
: 4.34.23 에서 이상 없는 OBJECT 태그의 반환이 제대로 되지 않던 오류 수정 (곱슬최씨님께서 고쳐 주셨습니다.) 
lib/common.lib.php
 
 
 
- 레벨업 할때, 최신글/댓글에 검증일수 적용 추가
 
lib/b4.lib.php
 
 
 
- 그누보드 4.34.25
 
/img/.htaccess
 
: [보안강화] 설치시 data 디렉토리에 .htaccess 파일을 생성하여 data 디렉토리 및 하위 디렉토리에서는 
.htaccess .htpasswd .php .phtml .html .htm .inc .cgi .pl 파일을 실행 할 수 없습니다. 

http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=7362


1.1.05 (2012.04.20)

test2에서 bbs/write_update.php가 변경되었습니다. 서버에 있는거는 pc로 다운하지 않았네요. =..=
3.12일 그누보드 업으로 lib/common.lib.php가 추가 변경 되었습니다.

ALTERTABLE`g4_board`ADD`bo_search_level` TINYINT( 4)NOTNULL ;

crop에 대한거 빼고는 대부분 다 수정했습니다.
검색은 진작에 막았어야 했는데, 그동안 깜박했었어요.
 
===
config.php
common.php
head.sub.php
 
adm/board_form.php
adm/board_form_update.php
adm/board_new_sort.php
adm/config_form.php
adm/config_form_update.php
adm/member_delete.php
adm/member_level_execute.php
adm/upgrade_bd.php

bbs/login.php 
bbs/logout.php
bbs/list.php
bbs/register_form.php
bbs/search.php
bbs/write.php
bbs/write_update.php
bbs/zip.db
 
install/sql_opencode.sql
 
lib/common.lib.php
 
skin/member/basic/register.skin.php 

skin/new/basic/new.skin.php
  
skin/sitemap/basic/* (삭제. 안쓰는 코드)


- 그누보드 4.34.23 (보안패치)
: [XSS] OBJECT 태그에서 javascript를 실행할수 있는 버그를 수정 (i2Sec 8기 하동민님께서 알려 주셨습니다.) 
: [XSS] 글쓰기시 이름에 HTML 태그가 입력되지 못하도록 수정 (i2Sec 8기 강우창님께서 알려 주셨습니다.) 
: login, logout시 외부로 리다이렉트 할 우려가 있어 url에 도메인을 지정하지 못하도록 수정 (i2Sec 8기 조민기님께서 알려 주셨습니다.) 
bbs/login.php 
bbs/logout.php
bbs/write_update.php 
lib/common.lib.php

- 프로그램 오류 수정 
adm/board_new_rebuild.php
 
(테스트 3)
 
- 검색권한 (게시판별)
adm/board_form.php
adm/board_form_update.php
bbs/list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=820

- 검색권한 (전체검색)
config.php
bbs/search.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4352
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=819
 
- 게시판 검색시 공지가 나오게 수정
bbs/list.php
 
- 그누보드 4.34.22
: 주민등록번호를 입력받지 못하게 수정
adm/config_form.php
adm/config_form_update.php
bbs/register_form.php 
skin/member/basic/register.skin.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=7223
 
- 레벨업 관련 오류 수정
adm/member_level_execute.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1337
 
- 사소한 오류 수정 (기능과는 무관)
bbs/write_update.php
 
- db session 설정을 config.php로 분리
config.php
common.php
 
- proxy로 접속하는 경우, 실제 ip로 처리하게 하기
common.php 
http://opencode.co.kr/bbs/board.php?bo_table=php_tips&wr_id=157

- new.skin.php 오류 안고친거
skin/new/basic/new.skin.php
 
- 게시판 정렬 관련 수정
adm/board_new_sort.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1335

(테스트 2)
- 그누보드 4.32.21
4.34.21 (2012.03.09) 
    :  [보안패치] 파일명을 이용한 XSS 취약점 수정 (wh1ant님께서 도움 주셨습니다.) 
    :  UTF-8 사용시 링크에서 한글이 깨지던 오류 수정 (forever님, NaviGator님께서 도움 주셨습니다.) 
lib/common.lib.php 
 
view.skin.php는 수정하지 않았습니다.
파일이름에 tag 없애고, 조치해두는게 더 나은거라는 판단에서
그누 원본과 달리 원본파일 이름을 업로드할 때, 수정해 버렸기 때문 입니다.
 
- 긴 파일명에 대처하는 방법
bbs/write_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=809
 
- 쓰기 버튼 이외의 버튼을 눌렀을 때 경고창 날려주기
bbs/write.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=811
 
- 그누보드 4.34.20
lib/common.lib.php 
bbs/zip.db
 
4.34.20 (2012.03.02) 
    :  UTF-8 사용시 cut_str 함수가 제대로 작동되지 않는 부분을 수정 (님께서 도움 주셨습니다.) 
        거친마루님의 팁이 적용 되었습니다. 
        http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=1328#c_1355 
    :  우편번호 2012.01.26.자 반영 51,898건 (FM2fmedia님께서 도움 주셨습니다.) 
        lib/common.lib.php 의 cut_str() 함수 수정 
        bbs/zip.db
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=7108
 
-ie-ua가 안먹히는 오류 ( echo를 빼 먹어씀...ㅠ.ㅠ..)
head.sub.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack&wr_id=1465
 
- get_list 함수에 게시판제목 찾는거 추가 (이거 아주 가끔 쓸 일이 있슴)
lib/common.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_qna&wr_id=1027
 
- 회원삭제시 패스워드 비교하는 코드 삭제 (이게 언제 없어진거죠? ㅠ.ㅠ...)
adm/member_delete.php


1.1.04 (2012.02.29)

누락된 db_cache 테이블 추가를 해야 합니다. =..=a...
업그레이드 해주시면 됩니다.
 
cheditor 5.0.9는 문제가 있을 수 있으므로, 5.0.4로 써주세요.
배포판에서는 변경하지 않겠지만.
 
resize 관련 정규식과 몇가지의 수정만 끝나면 1.1.04 버젼은 일단 마무리 합니다.
 
 
CREATE TABLE IF NOT EXISTS `g4_cache` (
  `c_id` int(11) NOT NULL AUTO_INCREMENT,
  `c_name` varchar(255) NOT NULL,
  `c_text` text NOT NULL,
  `c_datetime` datetime NOT NULL,
  PRIMARY KEY (`c_id`),
  UNIQUE KEY `c_name` (`c_name`)
)
 
===
 
config.php
head.sub.php
index.main.php
 
adm/admin.menu300.php
adm/board_skin.php
adm/upgrade_bd.php
 
bbs/ajax_whatson.php
bbs/download.php
bbs/myon.php
bbs/whatson.php
 
cheditor5/cheditor.js
 
install/sql_opencode.sql
 
layout/layer.lib.php
 
lib/b4.lib.php
lib/whatson.lib.php
 
skin/board/cheditor/view_comment.skin.php
 
skin/myon/basic/myon.skin.php
 
skin/new/basic/new.skin.php
 
skin/outlogin/transparent/outlogin.skin.1.php
 
skin/whatson/basic/whatson.skin.php
 
 
= 테스트 3 =========
 
- 쪽지 5 - 1.0.10
lib/b4.lib.php
 
= 테스트 2 =========
 
- whatson 안읽은 글이 이상하게 위로 이동하는거 (효과 없어서 한곳에서만 해봄)
skin/board/cheditor/view_comment.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=html_tips&wr_id=33
 
- x 눌러서 삭제시 rows가 제대로 안보여지는 오류
bbs/ajax_whatson.php
skin/whatson/basic/whatson.skin.php
 
= 테스트 1 =========
 
- 빼버렸던 IE 호환성 코드 추가
config.php
head.sub.php
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=3611
 
- 사용안하는 게시판 스킨
adm/admin.menu300.php
adm/board_skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1314
 
- download 카운트가 이상하게 올라가는 문제, utf-8에서 파일이름 깨어지는 문제
bbs/download.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4251
 
- whatson skin의 페이징, 폰트 등의 문제
lib/whatson.lib.php
skin/whatson/basic/whatson.skin.php
 
- 불당빌더 1.0.9 
layer/layer.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=layout&wr_id=41
 
- 최신글 스킨에서 form submit 오류
skin/new/basic/new.skin.php
 
- whatson title 변경 (그누보드 -> 사이트명) 
bbs/whatson.php
 
- myon.skin.php 수정 (수정된거를 opencode 서버에만 올려뒀었네요. =..=)
skin/myon/basic/myon.skin.php
 
- main화면 예제 변경
index.main.php
 
- cheditor 5.0.9 수정 (창 잡아늘리기 하면 ff에서 먹통 되는거)
cheditor5/cheditor.js
 
- db_cache 테이블추가
adm/upgrade_bd.php
install/sql_opencode.sql
 
- bbs/myon.php의 스킨지정을 url에서 하게 하기 (../bbs/myon.php?myon_skin=www&)
bbs/myon.php
 
- transparent outlogin에서 캡션 지우기 (ipad에서 글자가 남아요)
skin/outlogin/transparent/outlogin.skin.1.php


1.1.03 (2012.02.03)
===
사이트 업글을 하면서 어지간히 버그 잡았습니다. =..=...
진짜 고칠거 많은데, 또 눈에 보이는게 있네요.
 
오류가 있으면 알려주세요.
너무 수정이 많아서 여기서 일단 정리하고 다음에 추가로 하겠습니다.
 
===
테스트 5에서 db 수정이 생겼습니다. 인기 검색어 때문에... 
불당팩 업글을 하시거나 아래 SQL을 수행해 주세요.
 
ALTER TABLE `g4_popular_sum` ADD `mb_info` TINYINT( 4) NOT NULL ;
ALTER TABLE `g4_popular_sum` ADD INDEX `mb_info` (`mb_info`) 
 
인기검색어에서 mb_id, mb_nick을 제외 시키는 것은 1.1.03의 테스트5 부터 가능 합니다. 
버뜨~ 
기존 데이터에 대해서는 처리를 하지 않습니다 (엄청난 부하가 있어서...)
경과를 위해서 문제가 되는 인기 검색어는 filter 기능을 이용해서 보이지 않게 하시면 됩니다.
 
===
1.1.03부터 head.sub.php의 DTD가 변경되었습니다.
DTD 변경으로 이상하거나 무리인 곳이 있으면 알려주세요.
특별히 문제가 되는 경우는 없을 겁니다.
 
1.1.03 부터 naver의 DTD를 기반으로 UX를 만들었고, 그걸 불당빌더라고 주장 합니다.
네이버 짝퉁이 아니라, 네이버 베끼기구요, 불당빌더 1.0.4까지 적용되어 있습니다.
http://html.nhndesign.com/ 
 
===
 
common.php
config.php
head.php
head.sub.php
index.php
tail.php
 
adm/config_form_update.php
adm/admin.menu300.php
adm/board_new_sort.php
adm/dbcache_list.php
adm/dbcache_list_delete.php
adm/member_join_stat.php
adm/member_level_list.php
adm/upgrade_bd.php
 
bbs/board.php
bbs/delete.php 
bbs/good_list.php
bbs/good_view.php
bbs/new.php
bbs/new_view.php
bbs/scrap.php
bbs/scrap_delete.php
bbs/visit_insert.inc.php
bbs/write.php
bbs/write_comment_update.php
bbs/write_update.php
 
bbs/proc/mw.btn.secret.php
bbs/proc/mw.time.now.php
 
cheditor5/cheditor.js
 
company/disclaimer.php
company/privacy.php
company/rejection.php
company/service.php
 
layout/*
 
lib/common.lib.php
lib/latest.lib.php
lib/latest.my.lib.php
lib/poll.lib.php
lib/popular.lib.php
lib/sitemap.lib.php
lib/whatson.lib.php
 
modules/image_all.php
modules/sitemap.php
 
skin/connect/basic/* (img는 다 지워도 됩니다. 안씁니다)
 
skin/latest/naver/*
skin/latest/one/*
skin/latest/scrap/*
 
skin/member/basic/_common.php
skin/member/basic/scrap.php
skin/member/basic/scrap_memo_update.php
 
skin/myon/basic/tab.html
 
skin/new/basic/new.skin.php
 
skin/outlogin/transparent/*.php
 
skin/poll/basic/poll.skin.php
 
skin/popular/board/popular.skin.php
 
skin/visit/basic/visit.skin.php
 
skin/whatson/basic/*
 
 
 
modules/my_comment.php (삭제)
 
 
 
=== 테스트 7 ===
 
- firefox 10.0 로그인 오류 (cpas lock 체크 코드가 완전이 빠진게 아니라서, 완전히 삭제) 
skin/outlogin/transparent/outlogin.skin.1.php
 
- 관리자 , 최근글 정렬오류 (첫화면이 이상하다...=..-...)
adm/board_new_sort.php
 
- whatson skin 최신글에서 삭제후 메인으로 이동 하는 것을 Whatson 페이지로 이동하게 (코드 베끼면서 실수...)
skin/whatson/basic/whatson.skin.php
 
- whatson skin 페이징 안보이는거 ($write_pages를 빼 먹었슴...=..=)
skin/whatson/basic/whatson.skin.php
 
 
 
=== 테스트 6 ===
 
- 누락 이미지파일 수정
layout/naver/img/bg_bar_end.png
skin/connect/basic/connect.skin.php
 
- head_on에 값이 있으면, scrap.php가 head.php, tail.php를 읽게
bbs/scrap.php
bbs/scrap_delete.php
skin/member/basic/scrap.php
skin/member/basic/scrap_memo_update.php
 
- 불필요 코드 삭제 (new.php로 기능이 대체 되었슴)
modules/my_comment.php (삭제)
skin/myon/basic/tab.html
 
- 불당빌더 1.0.8
head.php
tail.php
layer/layer.lib.php
layer/naver/layer.php
http://opencode.co.kr/bbs/board.php?bo_table=layout&wr_id=40
 
- 내가올린글/내가올린코멘트 url 오류 수정
lib/latest.my.lib.php
 
- 누락파일 업로드
company/disclaimer.php
company/privacy.php
company/rejection.php
company/service.php
skin/latest/scrap/*
 
- transparent outlogin 스킨, 휴지통 등이 빠진거 보완
skin/outlogin/transparent/outlogin.skin.2.php
 
=== 테스트 5 ===
 
- cheditor 5.0.9 업데이트
cheditor5/cheditor.js 
http://opencode.co.kr/bbs/board.php?bo_table=cheditor&wr_id=60
 
- db cache - 관리자
adm/admin.menu300.php
adm/dbcache_list.php
adm/dbcache_list_delete.php
 
- is_utf8 함수 누락된거 (b4.lib.php에 있던거 분명히 옮겼는데, 없어졌네요. 귀신이 곡할 노릇. ㅠㅠ...)
lib/common.lib.php
 
- 인기검색어 mb_id, mb_nick이 나오지 않게 하기
adm/upgrade_bd.php
lib/popular.lib.php
lib/common.lib.php
 
- 투표 skin에 요약내용을 title로 보여주기 (title을 이용해서)
lib/poll.lib.php
skin/poll/basic/poll.skin.php
 
- 최근 스크랩
lib/latest.my.lib.php
 
- 불당빌더 1.0.7
layer/layer.lib.php
layer/naver/layer.php 
 
 
=== 테스트 4 ===
 
- 불당빌더 1.0.5 & 1.0.6
layer/layer.lib.php
 
- 최신글에 목록보기 권한 코드 추가
lib/latest.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=797
 
 
=== 테스트 3 ===
 
- 불당빌더 1.0.4
head.php
index.php
index.mnb.php
index.main.php
layout/layout.lib.php
layout/naver/layout.php ($mnb_default 변수 관련 코드 삭제)
http://opencode.co.kr/bbs/board.php?bo_table=layout&wr_id=30
 
- 각잡기 옵션이 먹히게 최신글 naver 스킨 수정
skin/latest/naver/latest.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=793
 
- 회원레벨관리, 쥐꼬리만한 설명 추가
adm/member_level_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_book&wr_id=34
 
- 관리자 회원가입통계 오류 수정
adm/member_join_stat.php
 
- sitemap 수정 (불당빌더) 
lib/sitemap.lib.php
skin/sitemap/naver/*
 
- 나의 스크랩 최신글 형식으로 출력하기
lib/latest.my.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=790
 
- 지정된 한개의 게시글만 출력
lib/latest.lib.php
skin/latest/one/*
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=789
 
- 불당빌더 1.0.3
layout/layout.lib.php
layout/naver/layout.php (talk 그룹만 수정...귀챦아서...ㅠ.ㅠ...)
 
- 기본 로그인을 transparent로 변경
head.php
 
- 아웃로그인 조금 수정
skin/outlogin/transparent/*.php
 
- </a> 태그 하나 빼먹은거
skin/poll/basic/poll.skin.php
 
- 제목이 좌정렬 되는 오류 수정, 줄간격 조정 (보기 좋게)
skin/connect/basic/current_connect.skin.php
 
 
=== 테스트 2 ===
 
- 불당빌더 관련 오류 수정 및 보완
head.php
bbs/good_list.php
bbs/good_view.php
bbs/new.php
bbs/new_view.php
layout/layout.lib.php
layout/naver/* (모두 다 바꿔주세요)
skin/board/*/write.skin.php
skin/connect/basic/*
skin/poll/basic/*
skin/popular/board/popular.skin.php
 
 
===  테스트 1 ===
 
- 그누보드 4.34.19
kcaptcha 수정사항이라 변동할거 없슴
 
- 빌더류 연동을 위한 코드수정
bbs/list.php
bbs/view.php
bbs/write.php
bbs/proc/mw.btn.secret.php
bbs/proc/mw.time.now.php
skin/board/*/write.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=779
 
- 게시판 링크 경로 오류 수정
skin/popular/board/popular.skin.php
 
-UX 작업
head.php
head.sub.php
index.php
tail.php
company/disclaimer.php
company/privacy.php
company/rejection.php
company/service.php
layout/*
lib/whatson.lib.php
skin/connect/basic/*
skin/latest/naver/*
skin/poll/basic/poll.skin.php
skin/popular/board/popular.skin.php
skin/visit/basic/visit.skin.php
skin/whatson/basic/*
 
- mysql_affected_rows() 다음에 있는 insert를 하면서, FALSE가 없는 경우
common.php
bbs/board.php
bbs/good.php
bbs/visit_insert.inc.php
bbs/write_comment_update.php
bbs/write_update.php
 
- code정리 (css_path 삭제)
config.php 
 
- code 정리
common.php 
head.sub.php
 
- sitemap 수정
lib/sitemap.lib.php
modules/sitemap.php
skin/sitemap/basic/sitemap.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1238
 
- image_all.php 수정 (썸사용, 보안 등등)
modules/image_all.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1238
 
- new.php를 firebug에서 봤을 때 나오는 java script 오류, 그룹 선택 안되던거 등 수정
bbs/new.php
skin/new/basic/new.skin.php
 
- new.php에서 전체검색 체크 안된 게시판이 보이는 오류
bbs/new.php 
 
- 그누보드 4.34.18
skin/member/basic/_common.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=6928
 : PHP 버전에 따른 basic 회원 스킨 사용시 euc-kr 버전에서 ajax 가 제대로 작동되도록 수정 (konahn님) 

 
- utf-8 cheditor 수정 (인코딩 안한거)
cheditor/popup/*
 
- 휴지통 체크 되었는데, 휴지통 게시판이 없으면 오류 출력
adm/config_form_update.php
bbs/delete.php
 
- new.php의 코멘트 페이징 오류
bbs/new.php
 
- 핸드폰 인증없이 답글 작성이 가능하게
bbs/write.php
 
- new.php 링크를 잘못쓴 오류. ㅠ.ㅠ...
skin/new/basic/new.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1213


1.1.02 (2012.12.23)

급한 오류는 없는거 같아, 천천히 합니다.
cheditor 5.0.8은 천천히 적용하세요. 
TopSchool 님의 말에 따르면 오류 난답니다. IE7에서.
 
속도를 위해 g4_login 테이블에 인덱스를 추가했고,
best글 테이블에 mb_id도 추가를 해서, DB 업글 해줘야 합니다.
테스트 1 받으신 분들은 php myadmin에서 g4_good_list 테이블에 mb_id를 추가해 주세요.
 
트래픽이 많은 경우 베스트글에 동시에 2-5개의 request가 들어가는 경우가 나옵니다. =..=a
테이블 Lock을 걸 수 없는 상황이라 인덱스를 걸어서 막아야 할 것 같네요.
테스트 2 받으신 분들은 php myadmin에서 g4_good_list 테이블에 index를 추가해 주세요.
 
===
ALTER TABLE `g4_login` ADD INDEX `lo_datetime` ( `lo_datetime` ) 
ALTER TABLE `g4_good_list` ADD `mb_id` VARCHAR( 255 ) NOT NULL ;
ALTER TABLE `g4_good_list` ADD UNIQUE `unique` (`bo_table` ,`wr_id`) ;
===
 
adm/board_form_update.php
adm/board_list_update.php
adm/board_new_sort.php
adm/upgrade_bd.php
 
bbs/board.php
bbs/good.php
bbs/good_list.php
bbs/levelup.php
bbs/list.php
bbs/profile.php
bbs/write_comment_update.php
 
install/sql_opencode.sql
 
lib/b4.lib.php
lib/common.lib.php
lib/latest.group.lib.php
lib/latest.my.lib.php
lib/popular.lib.php
lib/thumb.lib.php 
 
modules/my_comment.php
 
skin/member/basic/profile.skin.php
skin/member/basic/register.skin.php
 
skin/popular/board/popular.skin.php 
 
 
=== 수정할거 ===
 
- 회원가입 화면 오류 수정 (싸소한거)
skin/member/basic/register.skin.php
 
- 베스트글 (한번에 여러개가 동시에 insert 되지 않게 index 수정)
adm/upgrade_bd.php
 
- 전체공지와 공지가 중복되는거 (고쳤는데... 왜 또? ㅠ..ㅠ...)
bbs/list.php
 
- 나의 최신글 갯수에서 비회원의 경우 무조건 0을 return
lib/latest.my.lib.php
 
 
=== 테스트 2 ===
 
- 베스트글 정보에 mb_id 추가
adm/upgrade_bd.php
bbs/board.php
bbs/good.php
bbs/write_comment_update.php
 
- 그룹 변경시 gr_id 정보 변경
adm/board_form_update.php
adm/board_list_update.php
 
- 베스트글에 gr_id 정보 입력
bbs/board.php
bbs/good.php
bbs/write_comment_update.php
 
- 베스트글 목록 오류 수정 (베스트글로 선정된거 일부 누락)
bbs/good_list.php
 
- 베스트글 wr_datetime 안들어가는 오류 수정
bbs/board.php
bbs/good.php
bbs/write_comment_update.php
 
- 본인인증 현황을 자기소개에서 확인 할 수 있게 하기
bbs/profile.php
skin/member/basic/profile.skin.php
 
- 본인인증 회원은 장터게시판 글쓰기 차단에서 +1 신고횟수 삭제 가점주기
lib/b4.lib.php
 
=== 테스트 1 ===
 
- 회원레벨 모니터
bbs/levelup.php
 
- 나의 글, 코멘트 갯수 구하기 함수 추가
lib/latest.my.lib.php
 
- 인기게시판 (방문자로 구분)
lib/popular.lib.php
skin/popular/board/popular.skin.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=751
 
- 그룹최신글 오류
lib/latest.group.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_book&wr_id=66
 
- is_utf8 프로그램 위치변경
lib/b4.lib.php
lib/common.lib.php
 
- 최신글 정렬 프로그램 수정 
adm/board_new_sort.php
 
- g4_login의 튜닝 (인덱스 추가)
adm/upgrade_bd.php
install/sql_opencode.sql
 
- 내가 올린 글, 오류 수정
modules/my_comment.php
http://opencode.co.kr/modules/my_comment.php
 
- 불당썸 2.0.26
lib/thumb.lib.php 
 
- 회원가입 화면 약간 변경
skin/member/basic/register.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=745


1.1.01 (2012.12.13)

cheditor5 5.0.8을 업로드 하기전에 cheditor5(5.0.4) 디렉토리 이름을 다른 것으로 바꿔주시고
사용상의 문제가 전혀 없다는 것을 확인후에 기존의 cheditor 디렉토리를 삭제하면 됩니다.
그리고, DB 업글이 있었으므로 해주셔야 합니다.
 
이제 버그 없겠죠??? 
모바일 작업을 해도 되겠죠???
 
===
모든 코멘트 있는 글이 베스트글로 등록되는 심각한 오류가 있었습니다.
기준이 아닌 글을 하나씩 지우던가, 그게 귀챦으면 베스트글 테이블을 비워주셔야 합니다. =..=...
 
===
갤러리 게시판처럼 공지사항이 위 아래 두번 나오는게 바람직 하지 않은 경우가 있습니다.
그런 경우에는 공지사항 중복금지 설정을 체크하면 되게 코드를 추가 했습니다.
 
===
ALTER TABLE `g4_board` ADD `bo_notice_joongbok` TINYINT( 4 ) NOT NULL ;
===
 
config.php
 
adm/sms_admin/* (다 바꾸시면 됩니다)
adm/admin.menu300.php
adm/board_delete.inc.php
adm/board_form.php
adm/board_form_update.php
adm/board_new_rebuild.php
adm/board_new_sort.php
adm/db_backup.php
adm/member_delete.php
adm/member_form.php
adm/upgrade_bd.php
 
bbs/category_all.php 
bbs/good_view.php
bbs/list.php
bbs/new.php
bbs/new_view.php
bbs/rss.php
bbs/rss_ajax.php
bbs/rss_list.php
bbs/search.php
bbs/write_comment_update.php
 
bbs/img/btn_rss.gif 
cheditor5/* 
 
js/jquery.js
 
lib/common.lib.php 
lib/sms.lib.php
 
modules/join_suggest.php
modules/hp_certify_suggest.php
 
rss/*
 
sms/* (다 바꾸시면 됩니다)
 
skin/new/basic/new.skin.php
 
 
=== 마지막 작업 ===
 
- 그누보드 4.34.17 (보안패치)
bbs/search.php
lib/common.lib.php 
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=6862
 
- RSS 관련 기능 수정 보완
bbs/rss.php
bbs/rss_ajax.php
bbs/rss_list.php
bbs/img/btn_rss.gif
rss/* (디렉토리 전체)
 
- 게시판 삭제 오류 (typo)
adm/board_delete.inc.php
 
=== 테스트 3 ===
 
- 최신글 정렬, 리빌드 기능 
adm/admin.menu300.php
adm/board_new_rebuild.php
adm/board_new_sort.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=740
 
=== 테스트 2 ===
 
- 관리자 패스워드 확인 하는거 코드 추가 (누락된 것임. member_form에서만 패스워드 입력...)
adm/member_delete.php
 
- 회원삭제 관련 코드 오류 수정
adm/member_form.php
 
- new.php 조금 수정
bbs/new.php
 
- db 백업 코드 재개발
adm/db_backup.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=726
 
=== 테스트 1 ===
 
- 사소한 코드수정
bbs/new.php
 
- 왕창 카테고리 바꾸는 코드 오류
bbs/category_all.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4088 
 
- 공지글 중복을 허용하지 않는 설정 추가
adm/board_form.php
adm/board_form_update.php
bbs/list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=724
 
- 전체공지이면서, 해당 게시판에서는 공지가 아닌경우 출력이 안되던 것을 출력이 되도록 수정
bbs/list.php
 
- 베스트글, 최근글에서 수정/삭제/답글 버튼 복귀
bbs/good_view.php
bbs/new_view.php
 
- 최근글 스킨에서 배치 삭제하기 전에, confirm을 넣기
skin/new/basic/new.skin.php
 
- 베스트글 등록 오류 수정
bbs/write_comment_update.php
 
- SMSHub 코드로 변경 (더이상 icord는 지원하지 않습니다)
adm/sms_admin/* (다 바꾸시면 됩니다)
lib/sms.lib.php
modules/join_suggest.php
modules/hp_certify_suggest.php
sms/*
 
- jQuery 1.7.1 업그레이드
js/jquery.js
 
- cheditor 5.0.8 
cheditor5/*
 
- 최근글, 베스트글의 하단부 전체목록을 옵션으로 분리 (DB화는 안시킵니다. 자주 변경할거는 아니라)
config.php
bbs/good_view.php
bbs/new_view.php


1.0.99 (2012.12.02)

베스트글과 최근게시글을 하나의 게시판처럼 보이게 하는 작업이 끝났습니다.
베스트글의 설정하기는 config.php에 있습니다.
오류나 개선사항 알려주세요.
 
글쿠 베스트글의 스탈에 좀 문제 있습니다.
보기와 목록이 줄이 맞지 않습니다.
눈도 아프고 머리도 아퍼서 패스 했습니다. ㅠㅠ...
 
테스트중에 마이너스 포인트 처리 때문에, DB가 변경 되었습니다.
아래의 SQL 또는 업그레이드를 해주시면 됩니다 (DB 버젼은 1100...ㅠ.ㅠ...)
 
하느라기님의 cheditor thumb 삭제 오류문제가 해결하면, 마무리 합니다.
sms Hub로 sms 발송을 바꾸는거 등은 2.0에서 작업 합니다.
상황에 따라서, icord와 smsHub를 같이 사용가능하게 하려고 생각중입니다.
icord는 고객대응이 영~ 몇번 씹히니 기분도 나쁘고.
 
 
===
1:1 게시판은 cheditor 게시판에 list.head.skin.php, view.head.skin.php를 추가하는거로 바꿉니다.
1:1 게시판을 옵션으로 제어할 수도 있지만, 1:1 게시판만의 공지 등이 들어 갈 수 있어서 분리합니다.
===
 
베스트글과 본인인증 등을 위한 DB 변경이 있습니다. 
아래의 SQL은 관리자에서 불당팩 업그레이드를 누르면 실행 됩니다.
 
ALTER TABLE `g4_board` ADD `bo_read_point_lock` TINYINT( 4) NOT NULL ;
 
ALTER TABLE `g4_board` ADD `bo_realcheck` TINYINT( 4 ) NOT NULL ;
 
ALTER TABLE `g4_board` ADD `bo_list_good` INT( 11 ) NOT NULL ;
ALTER TABLE `g4_board` ADD `bo_list_nogood` INT( 11 ) NOT NULL ;
ALTER TABLE `g4_board` ADD `bo_list_view` INT( 11 ) NOT NULL ;
ALTER TABLE `g4_board` ADD `bo_list_comment` INT( 11 ) NOT NULL ;


CREATE TABLE IF NOT EXISTS `g4_good_list` (
  `gl_id` int(11) NOT NULL AUTO_INCREMENT,
  `gr_id` varchar(255) NOT NULL,
  `bo_table` varchar(255) NOT NULL,
  `wr_id` int(11) NOT NULL,
  `wr_datetime` datetime NOT NULL,
  `gl_datetime` datetime NOT NULL,
  `good` mediumint(11) NOT NULL,
  `nogood` int(11) NOT NULL,
  `hit` int(11) NOT NULL,
  `comment` int(11) NOT NULL,
  PRIMARY KEY (`gl_id`),
  KEY `bo_table` (`bo_table`),
  KEY `hit` (`hit`),
  KEY `comment` (`comment`),
  KEY `good` (`good`),
  KEY `wr_datetime` (`wr_datetime`),
  KEY `gr_id` (`gr_id`)
)
 
CREATE TABLE IF NOT EXISTS `g4_namecheck` (
  `cb_id` int(11) NOT NULL AUTO_INCREMENT,
  `mb_id` varchar(255) NOT NULL,
  `mb_jumin` varchar(255) NOT NULL,
  `mb_name` varchar(255) NOT NULL,
  `cb_ip` varchar(255) NOT NULL,
  `cb_datetime` datetime NOT NULL,
  `cb_returncode` tinyint(4) NOT NULL,
  PRIMARY KEY (`cb_id`),
  KEY `mb_id` (`mb_id`)
)
 
CREATE TABLE IF NOT EXISTS `g4_realcheck` (
  `cb_id` int(11) NOT NULL AUTO_INCREMENT,
  `mb_id` varchar(255) NOT NULL,
  `cb_ip` varchar(255) NOT NULL,
  `cb_datetime` datetime NOT NULL,
  `cb_authtype` char(1) NOT NULL,
  `cb_errorcode` char(4) NOT NULL,
  PRIMARY KEY (`cb_id`),
  KEY `mb_id` (`mb_id`)
)
 
===
common.php
config.php
 
adm/admin.menu100.php
adm/admin.menu300.php
adm/board_delete.php
adm/board_delete.inc.php
adm/board_form.php
adm/board_form_update.php
adm/chimage_unused_list.php
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
adm/cron_point_clear.php
adm/chimage_list.php
adm/filter_list.php
adm/mail_domain_list.php
adm/member_form_update.php
adm/member_join_stat.php
adm/member_list.php
adm/point_list.php
adm/poll_form.php
adm/stat_write.php
adm/sql_write.sql
adm/tempsave_list.php
adm/tempsave_list_delete.php
adm/thumb_clear.php
adm/upgrade_bd.php
adm/visit.sub.php
 
bbs/board.php
bbs/delete.php
bbs/delete_all.php
bbs/good.php 
bbs/good_list.php
bbs/good_view.php
bbs/login_check.php
bbs/memo2_form_cancel.php 
bbs/memo2_form_delete.php
bbs/move_update.php
bbs/move2_update.php
bbs/new.php
bbs/new_view.php
bbs/password_lost2.php
bbs/password_lost_certify.php
bbs/poll_form.php
bbs/poll_result.php
bbs/scrap.php
bbs/singo_popin_update.php
bbs/write.php 
bbs/write_id.php
bbs/write_comment_update.php
 
cheditor5/imageUpload/upload.php
 
js/b4.common.js
js/common.js
js/압축/b4.common.js
js/압축/common.js
 
lib/b4.lib.php
lib/common.lib.php 
lib/latest.lib.php 
lib/latest.group.lib.php
lib/security.lib.php
lib/whatson.lib.php
 
modules/join_suggest.php 
 
skin/board/cheditor_1to1/* (모든 파일)
 
skin/board/free_image3/list.skin.php
skin/board/free_image3/view.skin.php
skin/board/free_image3/write.skin.php
 
skin/good_list/basic/*
 
skin/member/basic/memo2.head.skin.php
skin/member/basic/memo2_online.skin.php
skin/member/basic/scrap.skin.php
 
skin/new/basic/*
 
adm/b4_upgrade/b4_upgerade_db.php (불용파일 삭제)

 
 
=== 테스트 13 ===
 
- 최신글 개선
bbs/new.php
bbs/new_view.php
skin/new/basic/*
 
=== 테스트 12 === 
 
- 쪽지5 - 1.0.9
bbs/memo2_form_cancel.php
bbs/memo2_form_delete.php
lib/b4.lib.php
skin/member/basic/memo2.head.skin.php
 
- 모바일 환경에서 자동로그인 관련 수정
common.php
bbs/login_check.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=721
 
- CCL 주소변경 + CCL type을 6개로 재정리
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1195 
 
=== 테스트 11 === 
 
- 마이너스 포인트에 대처하는 법
adm/board_form.php
adm/board_form_update.php
adm/upgrade_bd.php
bbs/board.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=718
 
- 베스트글 코멘트 insert 할 때 wr_datetime 안들어가는 오류
bbs/write_comment_update.php
 
- 베스트글 프로그램 오류 수정 (게시판 목록이 깨어지는 오류)
bbs/good_list.php
bbs/good_view.php
 
 
=== 테스트 10 ===
 
- 베스트글
config.php
adm/board_form.php
adm/board_form_update.php
bbs/board.php
bbs/delete.php
bbs/delete_all.php
bbs/good.php
bbs/good_list.php
bbs/good_view.php
bbs/move_update.php
bbs/move2_update.php
bbs/write_comment_update.php
skin/good_list/basic/*
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=705
  
- get_datetime 함수에서 입력값이 없으면 null로 리턴하게 수정
lib/b4.lib.php
 
- phpmyadmin이 popup으로 뜨게 메뉴수정
adm/admin.menu100.php
 
- sms 추천 070 가능하게
modules/join_suggest.php
 
- 본인인증 회원 글쓰기 제한 관리자 코드 추가 (이게 왜 없어졌나? ㅠㅠ...)
adm/board_form.php
adm/board_form_update.php
 
=== 테스트 9 === 
 
- 회원레벨업 정보를 WhatsOn에 표시
bbs/login_check.php
lib/whatson.lib.php
 
- 관리자 회원정보 업데이트에서 필터기능 삭제 (관리자까지는...좀...)
adm/member_form_update.php
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=3297
 
=== 테스트 8 ===
 
- chimage 업데이트시 db 레코드 삭제 안되는 오류 (typo 오류)
bbs/write_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4008
 
- 회원레벨관리에서 일괄 레벨업 하는 코드 작성 (하다가 그만둔거)
adm/member_level_execute.php
 
- 회원레벨관리 기능을 함수로 분리
bbs/login_check.php
lib/b4.lib.php 
 
- 불당썸 썸파일 삭제 (관리자 모듈, 생성된지 90일 지난걸 모두 clear)
adm/thumb_clear.php
 
 
=== 테스트 7 ===
 
- rslash 함수 추가
lib/b4.lib.php 
http://opencode.co.kr/bbs/board.php?bo_table=php_tips&wr_id=142
 
- 불당썸 썸파일 삭제 (관리자 모듈, 생성된지 90일 지난걸 모두 clear)
adm/admin.menu300.php
adm/thumb_clear.php
 
- 게시글 복사할 때, 누락된 필드 추가, wr_imagesize
bbs/move_update.php
bbs/move2_update.php
 
- 프로그램 오류 (kcaptcha를 zmSpamFree로 변경)
bbs/password_lost2.php
 
- scrap 목록의 비밀글 아이콘 출력 오류 수정
bbs/scrap.php
skin/member/basic/scrap.skin.php
 
- scrap 목록의 제목을 스크랩 당시의 글 제목이 나오게 수정 (link 위의 제목은 현재의 제목으로)
bbs/scrap.php
skin/member/basic/scrap.skin.php
 
- 파일크기 표현 오류 수정
adm/chimage_list.php
cheditor5/imageUpload/upload.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4026
 
 
=== 테스트 6 ===
 
- 불당썸+리사이즈 프로그램 개선 (chrome에서 이미지 안보이는거) 
js/b4.common.js
js/common.js
 
=== 테스트 5 ===
 
- 프로그램 오류
adm/board_delete.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4022
 
- 비번찾기에서 mb_no 노출되는거
bbs/password_lost2.php
bbs/password_lost_certify.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=715
 
- 비밀번호 찾기 불필요 코드 삭제, 메시지 추가
bbs/password_lost2.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=716
 
=== 테스트 4 ===
 
- 필터관리 프로그램 오류
adm/filter_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4015
 
- 관리자 submenu id정리
adm/admin.menu300.php
adm/chimage_unused_list.php
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
adm/tempsave_list.php
adm/tempsave_list_delete.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4009
 
- cron을 위한 코멘트 보완 
adm/cron_point_clear.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4010
 
- 관리자 /회원정보 /회원 번호로 검색 추가 (비번 찾기 오류에서는 번호를 쓴다.ㅠ.ㅠ...)
adm/member_list.php
 
- poll_form 프로그램 오류
adm/poll_form.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4003
 
- 게시판 삭제시 포인트 정리 (sum으로 해서 1건으로 압축), whatson, 베스트글, chimage 등 삭제
adm/board_delete.php
adm/board_delete.inc.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3996
 
- 프로그램오류
adm/mail_domain_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=4018
 
- 프로그램 오류
adm/board_form.php
adm/board_form_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3997
 
=== 테스트 3 ===
 
- 쪽지오류 (쪽지5 - 1.0.7)
bbs/write_id.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3980
 
- 포인트경매 테이블정의 삭제한거 복구
config.php
 
=== 테스트 2 ===
 
- 최근글에서 공지사항 제외 옵션 추가
lib/latest.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3895
 
- 트랙백 흔적 지우기 
adm/sql_write.sql 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3970
 
- 투표기능 오류 수정
bbs/poll_result.php
 
- 프로그램 오류 수정
lib/security.lib.php
 
=== 테스트 1 ===
 
- 게시판 생성시 wr_imagesize 필드추가
adm/sql_write.sql
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3923
 
- free_image3 스킨 수정 (수정해서 쓸 기본 스킨...)
skin/board/free_image3/list.skin.php
skin/board/free_image3/view.skin.php
skin/board/free_image3/write.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3905
 
- 그누보드 4.34.16 (conv_cotent 함수가 바뀌었습니다)
lib/common.lib.php
 : [보안패치] XSS 취약점 권고에 대한 수정 (i2Sec-김태형님) 
 
- 메일발송 cheditor의 이미지 관리 (게시판이 아닌 곳에서는 안올라 가게 처리)
cheditor5/imageUpload/upload.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3878
 
- 포인트리스트(관리자)에서 sumup 기능 해제 (너무 큰 부하를 주네요. 코멘트로 기능차단 했습니다)
adm/point_list.php
 
- 연속 쓰기 제한 관련 개선 (write와 write_update 분리)
bbs/write.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3890
 
- 안쓰는 테이블정의 삭제 (공구경매 테이블정의)
config.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3889 
 
- 친구관리 메모수정이 안되는 버그
skin/member/basic/memo2_online.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3887
 
- 새로운 버젼의 1:1 게시판 적용
skin/board/cheditor_1to1/* (모든 파일)
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=709
 
- 테이블표시 오류 (불당팩 변환에 필요한 업글 php는 수정은 하였으나, 필요한게 아니라 기록은 안함)
adm/member_join_stat.php
adm/stat_write.php
adm/upgrade_bd.php
lib/latest.group.lib.php
lib/security.lib.php
lib/ip_check.php (ip 체크하는 예제 파일 입니다)
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3873
 
- 달력오류
adm/poll_form.php
adm/visit.sub.php
bbs/poll_form.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3871
 
- 프로그램 오류
skin/member/basic/scrap.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3862
 
- 신고시 수신자의 안읽은 메일갯수랑 업데이트 안되는 오류
bbs/singo_popin_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3858
 
- 본인인증 회원만 글쓰게 하기
adm/board_form.php
adm/board_form_update.php
bbs/write.php 


1.0.98 (2011.11.09)

잔잔한 마무리 + 트랙백 기능삭제 + 기타 등등의 작업만 하려고 했는데,
당분간은 중요한 업그레이드는 하고 싶지가 않았는데, MyOn을 만들었습니다.
신고건수 보고 싶다 등등의 의견이 있어서요. ㅠㅠ...
 
bbs/write_update.php의 문제로 인해서 g4_board_cheditor에 쓰레기가 잔뜩 들어가 있습니다.
chrome과 firefox 브라우져의 세션이 요상해서, 역시 쓰레기 잔뜩 들어가 있습니다.
참 어려운 문제라서 계속 코딩을 수정했고 이제 어지간히 된거 같습니다.
 
g4_board_cheditor 테이블을 phpmyadmin에서 비우기 하신 후에
첨부 bbs/write_update.php를 올리시기 바랍니다.
===
 
config.php
 
adm/admin.menu100.php
adm/board_form.php
adm/board_form_update.php
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
adm/chimage_unused_list.php
adm/member_form.php
adm/repair.php
 
bbs/move_update.php
bbs/move2_update.php
bbs/password_lost2.php 
bbs/recycle_list.php
bbs/register_form.php
bbs/view.php
bbs/view_comment.php
bbs/whatson.php
bbs/write.php
bbs/write_update.php
 
cheditor5/icons/button/edit_cell.gif
cheditor5/imageUpload/upload.php
 
lib/b4.lib.php
lib/latest.my.lib.php
 
skin/board/*/view_comment.skin.php
skin/board/*/view.skin.php
skin/board/*/write.skin.php
  
skin/outlogin/transparent/outlogin.skin.2.php
skin/outlogin/transparent/img/myon.gif
 
skin/whatson/basic/whatson.skin.php
 
===
bbs/tb.php (파일삭제)
bbs/tb_token.php (파일삭제)
 
lib/etc.lib.php (파일삭제)
lib/trackback.lib.php (파일삭제)
===
 
- 관리자 회원정보에서 추천인이 2번 나오는 문제
adm/member_form.php
 
- 누락된 cheditor icon
cheditor5/icons/button/edit_cell.gif
 
- 관리자가 회원정보 업데이트를 할 때, email, nickname 중복 확인 안하는 오류 수정
adm/member_form_update.php
 
- 닉네임 테이블 관련오류 수정
bbs/register_form_update.php 
 
- 프로그램 오류
adm/chimage_unused_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3838
 
- 프로그램 오류
bbs/write_update.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3835
 
- 추천 가입코드 오류 수정 ㅠ..ㅠ...
config.php
bbs/register_form.php
 
- session_unregister 함수 삭제 (deprecated function, 안쓰는 함수)
bbs/password_lost2.php 
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=27552 
 
 
- 관련글 프로그램 오류 수정 (비밀글)
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1169
 
- chimage 오류수정(2)
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
adm/chimage_unused_list.php
bbs/write_update.php
cheditor5/imageUpload/upload.php
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1151
 
- 그누보드 업그레이드 메뉴 삭제
adm/admin.menu100.php
 
- typo오류 수정
adm/repair.php 
 
- chimage 오류
bbs/write_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1143
 
- 프로그램 예외상황 처리 추가
lib/latest.my.lib.php
 
- 마이페이지 (기본정보, 신고정보, ...)
bbs/myon.php
skin/myon/basic/mypage.skin.php
skin/outlogin/transparent/outlogin.skin.2.php
skin/outlogin/transparent/img/myon.gif
 
- 휴지통 목록 정렬 개선
bbs/recycle_list.php
 
- whatson 프로그램 rule 코드 (일관성을 위해서, $head 변수)
bbs/whatson.php
skin/whatson/basic/whatson.lib.php
 
- 전체선택 누르면 chkall 버튼이 동작하게 스킨수정
skin/whatson/basic/whatson.skin.php
 
- $posting_url 생성을 bbs/view.php에서 하게 수정 (view.skin.php를 수정하는김에...)
bbs/view.php
 
- 트랙백 관련 코드 삭제 (트랙백 쓰는 분 계시면 알려주세요. 저는 아직도 그게 뭔지 모릅니다)
adm/board_form.php
adm/board_form_update.php
bbs/move_update.php
bbs/move2_update.php
bbs/view.php
bbs/view_comment.php
bbs/write.php
bbs/write_update.php
skin/board/*/view_comment.skin.php
skin/board/*/view.skin.php
skin/board/*/write.skin.php
 
bbs/tb.php (파일삭제)
bbs/tb_token.php (파일삭제)
lib/etc.lib.php (파일삭제)
lib/trackback.lib.php (파일삭제)
 
- 실명인증/본인인증 (이거는 요청시에만 따로 배포 합니다. NICE의 중요 ip 등이 있어서요)
config.php
http://opencode.co.kr/cb/nc.php
 
- 그룹 최신글 갯수오류
lib/latest.group.lib.php


1.0.97 (2011.10.27)

고쳐도 고쳐도 계속 나오는 사소한 오류와 개선사항으로, 리포팅 된거는 거의 다 수정했습니다.
피시컴님의 cheditor 5 문제는 5.0.8 이후 버젼에서 개발자와 같이 리뷰해서 해결할 것 입니다.
 
4.0.27과 같이 낮은 버젼에서의 MySQL 속도개선 문제는 어제 대충 머리에 생각은 만들었는데 
코딩으로 구현하는 것에는 조금 더 디테일한 나중에 시간이 될때 적용해볼 것 입니다.
실제로 sub query를 안쓰고 그 효과를 얻는 방법이 속도를 빠르게 할지도 예측이 안되거든요.
 
config.php는 엎어 쓰지 말고 비교해서 수정하시는게 좋습니다.
1.0.97에서 cheditor가 업로드 될때의 url 정보를 변경해 봤습니다.
config.php에서 새로추가된 $g4['cheditor_image_url'] 변수로 바꿔보시고
혹시 문제가 있으면 알려주세요. 
속도의 문제가 꽤 크더라구요.
 
===
 
config.php
common.php
 
adm/admin.style.css
adm/board_form_update.php
adm/board_list.php
adm/boardgroup_list.php
adm/chimage_list.php 
adm/chimage_unused_list.php
adm/db_status.php
adm/g4_info.php
adm/singo_list.php
adm/tempsave_list.php 
adm/unsingo_list.php
 
bbs/list.php
bbs/login_check.php
bbs/tb.php
bbs/write.php
bbs/write_comment_update.php
bbs/write_update.php
 
js/jquery.kcaptcha.js
 
lib/b4.lib.php
lib/chimage.lib.php 
lib/common.lib.php
lib/latest.group.lib.php
lib/skin.lib.php (내용을 삭제 했으므로, 파일을 삭제해도 됨)
lib/write.skin.lib.php
 
skin/board/*/view_comment.skin.php
 
skin/member/basic/memo2_write.skin.php
 
skin/whatson/basic/whatson.skin.php  
 
 
 
- 그룹 최신글 프로그램 오류 수정
lib/latest.group.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1104
 
- 홈피 보이기가 언체크이면 사이드뷰에서 홈피가 안나오게
lib/common.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=687
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3800
 
- 그룹 최근글에 tmp table 생성 안될때 처리하는 옵션추가
lib/latest.group.lib.php
 
- 내글의 반응 프로그램 개선 (TopSchool님)
bbs/write_comment_update.php
 
- 그누보드 4.34.15 패치 (트랙백 보안패치. 안쓰는 기능인데, 코드삭제가 너무 큰 일이라 패치만 하고 패쓰)
bbs/tb.php  
 
- g4_info.php 코드 업글 누락 (수정한 코드는 어디로 갔나? 찾아도 없어서 다시 코딩. ㅠ..ㅠ...)
bbs/g4_info.php
 
- 이미지 업로드 URL 정보 수정 (http://... 삭제)
config.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=684
 
- 불당썸 2.0.24
lib/thumb.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=thumb&wr_id=65
 
- 회원정보에서 회원레벨 보이게 하기 (외방요청사항)
skin/member/basic/register_form.skin.php 
 
- 일별 쓰기 제한 코드 수정 (코멘트, 답글은 제외)
lib/write.skin.lib.php
 
- 세션일때도 중복로그인 방지 ($g4_login 테이블 이용, 정확도는 좀 떨어짐)
bbs/login_check.php
 
- 오늘의 마지막 접속 정보를 mb_login_ip에 남기기
common.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=680
 
- bbs/write.php 코드정리
bbs/write.php
 
- 라이브러리 코드정리
lib/b4.lib.php
lib/skin.lib.php (삭제)
lib/write.skin.lib.php
 
- list.php 확장
bbs/list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=677
 
- 코멘트 dhtml 설정시 오류 (편집창 안나오는거)
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1117
skin/board/*/view_comment.skin.php
 
- memo5 업데이트 누락 (comment.js를 그냥 냅뒀네요.ㅠㅠ..)
skin/member/basic/memo2_write.skin.php
 
- 웹서버 로드밸런싱을 위한 자동로그인 코드 변경
config.php
common.php
bbs/login_check.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=674
 
- chimage 출력오류
lib/chimage.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1115
 
- phpmyadmin 경로 (지금은 $g4[path] 밑에서만 가능)
config.php
adm/admin.menu100.php 
 
- whatson이 iframe 환경에서 잘 안되는 오류
lib/common.lib.php
skin/whatson/basic/whatson.skin.php 
 
- 보안업데이트
common.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=671
 
- chimage 관련 수정 (chimage 쓸때만, 관련된 작업수행, 삭제되거나 하는 이미지는 안보이게)
bbs/write_update.php
lib/chimage.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1096
 
- 관리자 bo_chimage 프로그램 오류
adm/board_form_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1099
 
- kcaptcha js 복구 (이거 쓰는 스킨을 위해. 그런데 왜 지웠었지? ㅠ..ㅠ...)
js/jquery.kcaptcha.js
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3780
 
- 제목에 ht가 누락된거 보완
adm/admin.style.css
adm/board_list.php
adm/boardgroup_list.php
adm/chimage_list.php 
adm/chimage_unused_list.php
adm/tempsave_list.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1082
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1091
 
- 프로그램 사소한 수정 (디버깅 코드 삭제)
adm/chimage_unused_list.php
 
- 관리자 php 관련 정보 추가 (메모리 할당량 등)
adm/g4_info.php
 
- 관리자 db 정보 사소한 수정 (용량, engine type이 안보이는 오류)
adm/db_status.php


1.0.96 (2011.10.17)

config.php
tail.sub.php
 
adm/admin.lib.php
adm/board_copy_update.php
adm/chimage_list.php
adm/chimage_ununsed_list.php
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
adm/member_form.php
adm/member_form_update.php
adm/point_list.php
adm/singo_list.php
adm/upgrade_bd.php
 
bbs/register_form.php 
bbs/register_form_update.php
bbs/whatson.php
bbs/whatson_delete_all.php
  
install/sql_opencode.sql
 
lib/b4.lib.php
lib/common.lib.php
lib/cheditor5.lib.php
llib/latest.lib.php
ib/whatson.lib.php
 
skin/member/basic/memo2_list.skin.php
skin/whatson/basic/whatson.lib.php


- chimage 안쓰는 이미지 삭제가 잘못되는 오류 수정
adm/chimage_ununsed_list.php
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
 
- login table에 insert 안되는 오류 수정 
tail.sub.php
 
- 지정한 게시판의 공지 최신글
lib/latest.lib.php
 
- 전체공지 최신글
lib/latest.lib.php
 
- cheditor 이미지 업로드 용량제한
config.php
lib/cheditor5.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=670
 
- whatson 멀티 삭제 가능하게 스킨 수정
bbs/whatson.php
bbs/whatson_delete_all.php
lib/whatson.lib.php
skin/whatson/basic/whatson.lib.php
 
- chimage_list.php에 날짜 검색 옵션 추가
adm/chimage_list.php 
 
- 포인트내역 관리자에서 전체 갯수 구하는데 order_sql 삭제 (왜 필요한지 모르겠슴. 의미없는거)
adm/point_list.php
 
- 95 버젼의 설치 script 오류 (db 업글 누락) 
adm/upgrade_bd.php
install/sql_opencode.sql
 
- 990번째 줄에서 생기는 오류 수정 (왜 type 지정이 오류가 날까요?)
lib/b4.lib.php
 
- 관리자에서 패스워드 질답 코드 삭제
adm/admin.lib.php
adm/member_form.php
adm/member_form_update.php
bbs/register_form.php
bbs/register_form_update.php
 
- 신고목록 프로그램 오류 (typo오류)
adm/singo_list.php
 
- php 5.3.0 버젼에서 지원 안하는 함수 제거
bbs/register_form_update.php
http://opencode.co.kr/bbs/board.php?bo_table=mysql_tips&wr_id=89
 
- 그룹 select에 그룹 id가 보이게 하기 (이거는 관리자에서만 사용하는 함수네요)
lib/common.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=668
 
- 게시판 복사시 제목이 복사 안되는 오류, 게시글/코멘트 숫자 초기화 안되는 오류
adm/board_copy_update.php
 
- 쪽지5 - 1.0.5
lib/b4.lib.php
skin/member/basic/memo2_list.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=memo4&wr_id=323


1.0.95 (2011.10.11)

가능하면 DB에 손을 대지 않으려 했는데, chimage 때문에 DB 수정이 있습니다.
불당팩 업글 또는 phpmyamdin과 프로그램을 이용한 db 업글을 해주세요 (아래에 설명)
 
그동안 계획했던 업글을 금번 버젼으로 어느정도 마무리 한거 같습니다.
프로그램의 오류만 수정하고 이후에는 공구스킨 작업을 하고, 
chimage가 아주 잘 동작하는 것을 확인하는 시점에 과거의 image를 정리하는 코드를 개발 합니다.
 
불당의 이런거런 기능이 생각보다 불편할 때도 있지만 편한 경우도 많습니다.
주말에 스패머 한분이 회원가입까지 하고 방문했다가 스팸 차단에 몰려서 더는 못하고 갔습니다.
그분의 흔적을 이미지 한장 남기지 않게  싹~ 정리할 수 있었습니다.
 
=== 
chimage로 이미지 삭제하는 것은 1.0.95 버젼의 적용 이후에 한정 합니다.
과거의 모든 게시글을 읽어서 chimage 목록을 만들고 그것을 가지고 이미지를 지우는 것도 가능하지만
그 작업의 방대함을 생각하면 추후의 과제로 넘겨둡니다 (제 HDD가 95%에 가까운 시점에 할 겁니다)
이미지를 그냥 지우기는 좀 찜찜해서, _delete로 되어 있는 디렉토리로 옮겨 뒀습니다.
작업이 다 끝나면 _delete 디렉토리를 백업후 삭제하면 됩니다.
 
전체 정리 프로그램은 한번에 1,000개씩 작업하므로 작업할게 없을때까지 반복해주세요.
이것은 시스템에 부담을 주지 않기 위해서 입니다.
 
===
 
게시글의 이미지 용량(첨부+cheditor)를 게시글 db의 wr_img_size에 저장해 둡니다.
이 정보를 가지고, 과도한 용량의 이미지가 보여지는 것을 차단 합니다.
 
===
 
95 버젼에서는 db를 손대려 하지 않았는데... 써글 로봇 때문에 손을 댓습니다.
왜 이렇게 많은 동시접속자가 있는지 진짜로 궁금했거든요. ㅠㅠ...
 
ALTER TABLE `g4_login` ADD `lo_referer` TEXT NOT NULL ,
ADD `lo_agent` VARCHAR( 255 ) NOT NULL ;

 
모든 게시판 테이블에 wr_imagesize 필드를 int(11)으로 추가해야 하는데,
아래의 파일이 업글 프로그램 입니다. 불당팩 업그레이드에서 수행해 주므로 별도 실행은 안해도 됩니다.
 
adm/b4_upgrade/upgrade_wr_imagesize.php
 
=== 
tail.sub.php
 
adm/admin.menu300.php
adm/chimage_list.php
adm/chimage_unused_list.php
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
adm/b4_upgrade/upgrade_wr_imagesize.php
 
bbs/current_connect.php
bbs/view.php
bbs/write.php
 
cheditor5/cheditor.js
cheditor5/imageUpload/upload.php
cheditor5/popup/js/image.js
 
lib/cheditor4.lib.php 
lib/chimage.lib.php
 
skin/current/basic/current_connrect.skin.php
 
skin/board/cheditor/view.skin.php 
 
 
 
 
- 게시글 1개에 넣을 수 있는 image의 용량 제한에 chimage 용량을 합산
adm/sql_write.sql
adm/b4_upgrade/upgrade_wr_imagesize.php
bbs/view.php
bbs/write_update.php
skin/board/cheditor/view.skin.php 
 
- 그림위의 마우스를 포인터로 수정 (chimage 스킨)
skin/chimage/basic/chimage.skin.php
 
- 첨부 이미지 관리자 (누가 얼마나 올렸는지, 트래픽은 얼마인지, 트래픽=size*조횟수,  걸렸어~!!!)
adm/admin.menu300.php
adm/chimage_list.php
 
- 올리지 않은 cheditor 이미지 파일 정리 기능
adm/admin.menu300.php
adm/chimage_unused_list.php
adm/chimage_unused_clear.php
adm/chimage_unused_delete.php
 
- $bo_table 값을 upload.php에 전해주기
cheditor5/cheditor.js
cheditor5/imageUpload/upload.php
cheditor5/popup/js/image.js
lib/b4.lib.php
lib/cheditor4.lib.php 
http://opencode.co.kr/bbs/board.php?bo_table=cheditor&wr_id=56
 
- chimage 오류 수정 (이미지 깨어지는거, 삭제된 이미지 나오는거 등)
lib/chimage.lib.php
 
- 현재 접속자에 로봇을 구분하기 위해 lo_agent, lo_referer 필드를 추가
tail.sub.php
bbs/current_connect.php
skin/current/basic/current_connrect.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=666
 
- 자동저장 기능 수정 (html 문법에 맞게)
bbs/write.php


1.0.94 (2011.10.06)

테스트 2에서는 tempsave 기능을 신규로 추가하고, 
chimage 기능을 거의 완벽하게 수정했습니다.
오랫동안 해야지 해야지 하던 기능을 이번에 다 만들었습니다~!!!
 
===
테스트 2 이후의 수정사항 (오마이갓~ 수정한 코드는 어디로 갔다는 말 입니까? ㅠ..ㅠ...)
 
adm/index.php
 
skin/member/basic/formmail.skin.php
skin/member/basic/login.skin.php
skin/member/basic/member_confirm.skin.php
skin/member/basic/password.skin.php 
skin/member/basic/password_lost.skin.php
skin/member/basic/profile.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php
skin/member/basic/register_result.skin.php
skin/member/basic/scrap.skin.php
skin/member/basic/scrap_popin.skin.php
skin/member/basic/singo_popin.skin.php
 
===
테스트 1 이후의 수정사항
 
config.php
 
adm/admin.menu300.php
adm/member_form.php 
adm/tempsave_list.php
adm/tempsave_list_delete.php
 
bbs/delete.php
bbs/delete_all.php
bbs/register_form.php 
bbs/register_form_update.php
bbs/write.php
bbs/write_update.php
 
cheditor5/imageUpload/config.php
cheditor5/imageUpload/delete.php
cheditor5/imageUpload/upload.php
 
lib/b4.lib.php
lib/common.lib.php
 
 
테스트 1 이후에, 다음과 같이 DB가 변경 되었습니다.
테스트 1을 설치하고, 
DB를 업글한 분은 phpmyadmin에서 아래를 수행해줘야 합니다.
 
ALTER TABLE `g4_board_cheditor` ADD INDEX `mb_id` (`mb_id`) 
ALTER TABLE `g4_board_cheditor` ADD `del` TINYINT( 4 ) NOT NULL ;
ALTER TABLE `g4_board_cheditor` ADD `bc_id` INT( 11) NOT NULL AUTO_INCREMENT PRIMARY KEY FIRST ;
ALTER TABLE `g4_board_cheditor` ADD `wr_session` VARCHAR( 255 ) NOT NULL ;
ALTER TABLE `g4_board_cheditor` ADD INDEX `wr_session` ( `wr_session` ) ;
ALTER TABLE `g4_board_cheditor` ADD INDEX `bc_file` ( `bc_file` ) 

 
CREATE TABLE IF NOT EXISTS `g4_tempsave` (
  `tmp_id` int(11) NOT NULL AUTO_INCREMENT,
  `mb_id` varchar(255) NOT NULL,
  `bo_table` varchar(255) NOT NULL,
  `wr_id` int(11) NOT NULL,
  `wr_subject` varchar(255) NOT NULL,
  `wr_content` text NOT NULL,
  `wr_datetime` datetime NOT NULL,
  `ip_addr` varchar(255) NOT NULL,
  `wr_session` varchar(255) NOT NULL,
  PRIMARY KEY (`tmp_id`),
  KEY `mb_id` (`mb_id`),
  KEY `wr_session` (`wr_session`),
  KEY `bo_table` (`bo_table`)
)
 
===
테스트2에서 chimage가 완전히 새로 코딩 되었습니다.
새로 코딩된 chimage는 cheditor로 올라간 여분 이미지를 완벽하게 없애줍니다.
웹 편집기에서 이미지를 지우면, disk의 이미지도 db와 같이 날아 갑니다.
그누보드 최소의 제대로 된 대응이라고 감히 프라우드하게 선언 합니다.
 
93 버젼보다 속도가 더 빨라졌고, 트래픽은 더 줄었습니다.
94 버젼이 적용된 오픈코드 사이트의 속도가 더 빨라진 것을 느끼실거에요.
 
신고해제 기능과 chimage를 옵션으로 해서, 
DB가 바뀌었으므로 DB 업글을 해줘야 합니다.
 
===
 
대형사고 하나 쳤습니다. 
꽤 오래전 버젼에서 $member_skin_path를 $memo_skin_path로 대량으로 바꿨습니다. ㅠ..ㅠ...
acro edit의 파일에서 바꾸기 기능을 잘못 쓴거 같아요.
이런 실수를.
 
===
js/압축/ 디렉토리의 js 압축 파일을 js 디렉토리의 파일과 엎어 버리면 됩니다.
그러면 속도와 트래픽 두가지가 모두 좋아집니다.
 
코드는 편집기로 읽을 수 없게 되지만 js 파일 편집하시는 분들 많지 않쟎아요? ^^
모두 다 할 필요 없고 트래픽 유발자만 압축한 겁니다.
 
===
프로모션 기능은 급하게 딱 쓸만큼만 허접하게 만들어서 DB 반영 안합니다.
나중에 기능이 다 고쳐지면, 그때 DB에 반영하겠습니다.
 
===
신고해제 기능이 추가 되었습니다. 
신고해제를 위한 별도의 테이블과 사유가 기록에 남습니다.
신고해제를 신청하면, 그만큼 포인트가 차감되고, 신고건수 - 신고해제건수 = 0 이 되면, 정상으로 보입니다.
가중치를 주거나 하려면, 게시판 테이블에 필드 하나씩 더 추가하고 해야 하는데, 그게 귀챦아서 그냥 했어요.
운영하다가 문제가 될거 같으면, 그때 방법 생각해 보구요.
신고해제 사유는 일단 신고글에서 보이지 않게 했는데 ... 그게 감정적 대립 해소에 좋을거 같더라구요.
 
===
신고 해지를 위해서 테이블이 추가 됩니다. 
그냥 풀어줄 수는 없쟎아요???
 
CREATE TABLE IF NOT EXISTS `g4_unsingo` (
  `unsg_id` int(11) NOT NULL AUTO_INCREMENT,
  `mb_id` varchar(20) NOT NULL DEFAULT '',
  `bo_table` varchar(20) NOT NULL DEFAULT '',
  `wr_id` int(11) NOT NULL DEFAULT '0',
  `wr_parent` int(11) NOT NULL DEFAULT '0',
  `unsg_mb_id` varchar(20) NOT NULL DEFAULT '',
  `unsg_reason` varchar(255) NOT NULL DEFAULT '',
  `unsg_datetime` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `unsg_ip` varchar(255) NOT NULL DEFAULT '',
  `unsg_notes` varchar(255) NOT NULL,
  PRIMARY KEY (`unsg_id`),
  KEY `fk1` (`bo_table`,`wr_id`),
  KEY `fk2` (`bo_table`,`wr_parent`),
  KEY `mb_id` (`mb_id`)
)
 
chimage를 옵션으로 했습니다. 
db에 넣는거는 다 하지만 쓰는 것은 옵션 입니다. 기본은 off.
 
ALTER TABLE `g4_board` ADD `bo_chimage` TINYINT( 4 ) NOT NULL ;

===
 
config.php
 
head.sub.php
 
 
adm/admin.menu300.php
adm/board_form.php
adm/board_form_update.php
adm/index.php
adm/member_form.php 
adm/point_list.php
adm/point_update.php 
adm/singo_list.php
adm/tempsave_list.php
adm/tempsave_list_delete.php
adm/unsingo_list.php
adm/upgrade_bd.php
adm/visit.sub.php
 
bbs/calendar.php
bbs/delete.php
bbs/delete_all.php
bbs/email_re_certify.php
bbs/formmail.php
bbs/login.php
bbs/login_check.php
bbs/member_confirm.php
bbs/member_form.php
bbs/memo.php
bbs/password.php
bbs/password_lost.php
bbs/point.php
bbs/profile.php
bbs/promotion.php
bbs/promotion_sign.php
bbs/register.php
bbs/register_form.php
bbs/register_result.php
bbs/scrap_popin.php
bbs/singo_popin.php
bbs/singo_popin_update.php
bbs/unsingo_popin.php
bbs/unsingo_popin_update.php
bbs/view.php
bbs/write.php
bbs/write_update.php 
bbs/write_comment_update.php 

bbs/zip.php
 
cheditor5/imageUpload/config.php
cheditor5/imageUpload/delete.php
cheditor5/imageUpload/upload.php
cheditor5/popup/image.html
 
js/b4.common.js
js/압축/*
 
install/install_db.php
install/sql_opencode.sql
 
lib/b4.lib.php
lib/common.lib.php 
lib/skin.lib.php 
 
skin/board/cheditor/view.skin.php
 
skin/member/basic/formmail.skin.php
skin/member/basic/login.skin.php
skin/member/basic/member_confirm.skin.php
skin/member/basic/password.skin.php 
skin/member/basic/password_lost.skin.php
skin/member/basic/profile.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php
skin/member/basic/register_result.skin.php
skin/member/basic/scrap.skin.php
skin/member/basic/scrap_popin.skin.php
skin/member/basic/singo_popin.skin.php
skin/member/basic/unsingo_popin.skin.php
 
skin/board/*/view.skin.php (모든 게시판 스킨의 view.skin.php)
skin/board/*/img/icon_unsingo.gif
 
 
(코드 삭제)
lib/write.lib.php 
 
 
 
 
- 관리자 기능 개선 (튜닝. 이거 생각보다 cpu와 리소스 많이 먹네요)
adm/index.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=665
 
- tempsave 관리자 기능 추가
adm/admin.menu300.php
adm/tempsave_list.php
adm/tempsave_list_delete.php
 
 - 그누보드 4.34.14 업그레이드
bbs/register_form_update.php
bbs/write.php
bbs/write_update.php
    :  [보안패치] 회원가입시 홈페이지 필드를 통한 SQL Injection 공격 예방 
    :  [보안패치] 글쓰기시 링크 필드를 통한 XSS 공격 예방 
        (팔팔이님께서 알려 주셨습니다.) 
 
 - 그누보드 4.34.13 업그레이드
adm/member_form.php 
bbs/register_form.php 
lib/common.lib.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=6632
 : [보안패치] 회원가입 및 수정시 회원테이블 필드에 올바르지 않은 값이 포함될 수 있는 오류가 발견 되었습니다. 
(팔팔이님께서 알려 주셨습니다.) 
 
- cheditor 이미지 파일 관리 보완
bbs/write_update.php
cheditor5/imageUpload/upload.php
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=661
 
- 임시저장 기능 추가
config.php
bbs/write.php
bbs/write_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=650 
 
- chimage 오류 수정 및 cheditor 관련 코드 개선 (흩어진 코드를 write_update.php로 모두 모았슴)
config.php
bbs/delete.php
bbs/delete_all.php
bbs/write_update.php
cheditor5/imageUpload/config.php
cheditor5/imageUpload/delete.php
cheditor5/imageUpload/upload.php
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=649
 
- chimage 기능 옵션화
adm/board_form.php
adm/board_form_update.php
skin/board/cheditor/view.skin.php
 
- 신고 관리자기능 보완
adm/admin.menu300.php
adm/singo_list.php
adm/unsingo_list.php
adm/unsingo_list_delete.php
 
- java script 압축 코드 (트래픽을 몇%는 줄여줄 겁니다. 필요한 것만 압축했어요.)
js/압축/* 
 
- 레벨이름 조회 함수 추가 + get_member 함수 튜닝
lib/b4.lib.php
lib/common.lib.php
 
- member_skin_path를 memo_skin_path로 잘못 고친 오류...ㅠ.ㅠ...
adm/visit.sub.php
bbs/calendar.php
bbs/email_re_certify.php
bbs/formmail.php
bbs/login.php
bbs/login_check.php
bbs/member_confirm.php
bbs/password.php
bbs/password_lost.php
bbs/point.php
bbs/profile.php
bbs/register.php
bbs/register_form.php
bbs/register_result.php
bbs/scrap_popin.php
bbs/singo_popin.php
bbs/zip.php
skin/member/basic/formmail.skin.php
skin/member/basic/login.skin.php
skin/member/basic/member_confirm.skin.php
skin/member/basic/password.skin.php 
skin/member/basic/password_lost.skin.php
skin/member/basic/profile.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php
skin/member/basic/register_result.skin.php
skin/member/basic/scrap.skin.php
skin/member/basic/scrap_popin.skin.php
skin/member/basic/singo_popin.skin.php
 
- 신고된 글 풀어주기 기능 (신고해지)
config.php
bbs/singo_popin_update.php
bbs/unsingo_popin.php
bbs/unsingo_popin_update.php
bbs/view.php
js/b4.common.js
skin/member/basic/unsingo_popin.skin.php
skin/board/*/view.skin.php (모든 게시판 스킨의 view.skin.php)
skin/board/*/img/icon_unsingo.gif
 
- 프로모션 샘플코드 추가 (필요에 의해 급하게 만든 샘플로 나중에 코드는 보완 예정)
config.php
bbs/promotion.php
bbs/promotion_sign.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=648
 
- 쪽지5 - 1.0.4
bbs/memo.php 
 
- lib/write.lib.php 삭제
bbs/write.php
lib/b4.lib.php
 
- point_list.php에서 0 페이지 나오는 오류 수정 + 관리자 비번 넣기 추가
adm/point_list.php
adm/point_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=1044
 
- iframe 안의 게시글 goto_url을 parent에서 하게
config.php
lib/common.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=647
 
- $is_test 변수를 config.php에 추가 (head.sub.php의 이미지 막는거 풀어주기 위해)
config.php
head.sub.php 
 
- spam_ip.db 파일이 없을 때, 오류 나오지 않게 하기
bbs/register_form.php
 
- typo 오류
bbs/register.php
 
- typo 오류 (제 탭 메뉴 코드가 섞여 들어갔어요 ㅠㅠ...)
head.sub.php 
 
- common.lib.php의 불당코드를 b4.lib.php로 이동 (common.lib.php를 원본과 비슷하게 보이게...ㅎㅎ)
lib/b4.lib.php
lib/common.lib.php
 
- 게시판별 인기검색어 코드 신규변경 코드가 누락된거 반영
common.lib.php
 
- 관련글 코드 튜닝 및 위치변경 (지금 코드는 트래픽 작렬 시키는 상황)
lib/skin.lib.php
 
- 1.0.93 버젼의 업글코드 오류 수정
adm/upgrade_bd.php
 
- 그누보드 4.34.12 업그레이드
bbs/write_update.php 
bbs/write_comment_update.php 
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=6588
    :  글 또는 코멘트를 쓴 후 메일 발송을 하는 경우에 전체 회원에게 메일이 발송되지 않던 오류를 수정 
        (개미인간님께서 알려 주셨습니다.)
 
- cheditor 이미지 삽입 기본으로 좌측정렬로
cheditor5/popup/image.html
http://opencode.co.kr/bbs/board.php?bo_table=cheditor&wr_id=53


1.0.93 (2011.09.21)

4.34.11은 코드를 사이트에 실적용하면서 오류를 feedback 받아서 수정했습니다.
 
whatson은 버그를 많이 고쳤고(스킨에 오류가 좀 있어요), 
chimage는 문제가 좀 많아서 다음 버젼으로 넘깁니다.
chimage가 되어야, 네이버의 이미지검색 같은게 되거든요.
 
이번 버젼은 누락된 db를 추가했고 (이거 안하면 비번 찾기 안됩니다 ㅠㅠ...)
인기글과 필터 기능의 개선을 하느라 db 2개가 더 추가 되었습니다.
꼭 업글이나 db 추가 해주세요 (밑을 참조)
 
new.php와 그룹최신글의 튜닝을 통해 속도가 크게 개선 되어서
금번 버젼의 최종 적용후에 앗~하고 속도를 더 느낄 겁니다.
 
===
테스트3에서 바뀐거 나름 많습니다.
 
adm/filter_list.php
bbs/new.php
bbs/zip.db
lib/b4.lib.php
lib/latest.unicro.lib.php

 
======
테스트2에서 바뀐거... 무지하게 많습니다.
 
config.php
adm/admin.menu200.php
adm/board_list.php
adm/boardcopy_update.php
adm/popular_list_delete.php
adm/filter_delete.php
adm/filter_list.php
adm/filter_update.php
adm/upgrade_bd.php
bbs/ajax_whatson.php
bbs/memo.php
bbs/register_form.php
bbs/register_form_update.php
bbs/search.php
bbs/write_comment_update.php
bbs/write_update.php
cheditor5/imageUpload/.htaccess
install/install_db.php
install/sql_opencode.sql
lib/b4.lib.php
lib/common.lib.php
lib/latest.group.lib.php
lib/popular.lib.php
lib/whatson.lib.php
skin/member/basic/memo2_write.skin.php
skin/member/basic/register_form.skin.php
skin/member/basic/register_update.skin.php
skin/whatson/basic/whatson.skin.php
 
===
비번/아이디 찾기 기능을 넣으면서, db 필드 추가를 빼 먹었습니다.
아래의 SQL을 실행하거나, 불당팩 업그레이드를 해줘야 합니다.
 
ALTER TABLE `g4_member` ADD `mb_lost_certify` VARCHAR( 255 ) NOT NULL 
 
인기검색에 SUM DB와 필터 DB를 별도로 만들어서, 추가 합니다.
 
CREATE TABLE IF NOT EXISTS `g4_popular_sum` (
  `pp_id` int(11) NOT NULL AUTO_INCREMENT,
  `pp_word` varchar(255) NOT NULL,
  `pp_date` date NOT NULL,
  `pp_count` int(11) NOT NULL,
  `pp_level` tinyint(4) NOT NULL,
  `bo_table` varchar(255) NOT NULL,
  PRIMARY KEY (`pp_id`),
  KEY `pp_index` (`pp_word`,`pp_date`),
  KEY `pp_level` (`pp_level`),
  KEY `bo_table` (`bo_table`)
)
 
CREATE TABLE IF NOT EXISTS `g4_filter` (
  `pp_id` int(11) NOT NULL AUTO_INCREMENT,
  `pp_word` varchar(255) NOT NULL,
  `pp_level` tinyint(4) NOT NULL DEFAULT '1',
  `pp_datetime` datetime NOT NULL,
  PRIMARY KEY (`pp_id`),
  KEY `pp_word` (`pp_word`)
)
 
 
===
1.0.93 자동 레벨업을 할 것인가의 설정을 config.php에 넣었습니다.
기본으로 off 이므로, 자동업글 설정을 사용하시는 분은 config.php를 수정하시기 바랍니다.
 
// 자동 레벨업을 사용할 것인가를 설정
$g4['use_auto_levelup'] = 1;
 
===
config.php
 
adm/admin.menu200.php
adm/board_copy.php
adm/boardcopy_update.php
adm/board_list.php
adm/filter_delete.php
adm/filter_list.php
adm/filter_update.php
adm/popular_list_delete.php
adm/upgrade_bd.php
 
bbs/ajax_whatson.php 
bbs/login_check.php
bbs/memo.php
bbs/new.php
bbs/register_form.php
bbs/register_form_update.php
bbs/search.php
bbs/write_comment_update.php
bbs/write_update.php
bbs/zip.db
 
cheditor5/imageUpload/.htaccess
 
install/install_db.php
install/sql_opencode.sql
 
lib/b4.lib.php 
lib/common.lib.php
lib/latest.lib.php
lib/latest.group.lib.php
lib/latest.my.lib.php
lib/latest.unicro.lib.php
lib/common.lib.php
lib/popular.lib.php
lib/whatson.lib.php
 
skin/member/basic/login_check.skin.php
skin/member/basic/memo2.tail.skin.php
skin/member/basic/memo2_write.skin.php
skin/member/basic/register_form.skin.php
skin/member/basic/register_update.skin.php
 
skin/whatson/basic/whatson.skin.php 
 
 
 
(프로그램 삭제)
lib/2.latest.group.lib.php
lib/2.latest.my.lib.php
lib/2.latest.unicro.lib.php
 
 
 
- 그누보드 4.34.11
bbs/zip.db
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=6556
 
- 최신글 코드 튜닝 + 보완
bbs/new.php
 
- 유니크로 최근글 튜닝
lib/latest.unicro.lib.php
 
- 필터 삽입 기능 오류 수정 (멍청한 코딩. ㅠㅠ...)
adm/filter_list.php
 
- 불당썸 1.0.16
lib/b4.lib.php

 
- 인기검색어 관련 관리자 페이지 수정
adm/admin.menu200.php
adm/filter_delete.php
adm/filter_list.php
adm/filter_update.php
adm/popular_list_delete.php
 
- 인기검색어 필터링
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=645
config.php
bbs/search.php
lib/common.lib.php
lib/popular.lib.php
 
- 인기검색어 테이블의 재구성
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=644
config.php
bbs/search.php
lib/common.lib.php
lib/popular.lib.php
 
- mod_security 때문에 cheditor 이미지 업로드가 안될 때
cheditor5/imageUpload/.htaccess
http://www.chcode.com/cgi-bin/forum/showflat.pl?Cat=&Board=cheditor_install&Number=4531&page=0&view=collapsed&sb=5
 
- 코드 튜닝 (그룹최신글)
lib/latest.group.lib.php 
 
- 쪽지 5.0.3
bbs/memo.php
 
- 게시판 복사시 확장 필드가 복사 안되는거
adm/boardcopy_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=643
 
- 게시판 목록에서 복사창이 작은거 키우기
adm/board_list.php
 
- 유용한 함수추가
lib/b4.lib.php
 
- whatson 스킨의 target 수정
bbs/ajax_whatson.php
skin/whatson/basic/whatson.skin.php
 
- whatson 프로그램 오류 수정
bbs/write_update.php
bbs/write_comment_update.php


- db 누락분 추가
adm/upgrade_bd.php
install/install_db.php
install/sql_opencode.sql
 
- db_cache 코드 개선 (캐슁 작업의 경합이 생기지 않게)
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=642
 
- 코드튜닝 (join code 삭제)
lib/latest.group.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=641
 
- 게시판 목록에서 비회원 정보가 안나오는 오류 수정
lib/common.lib.php
 
- 회원가입 프로그램 오류 수정
bbs/register_form.php
bbs/register_form_update.php
skin/member/basic/register_form.skin.php
skin/member/basic/register_update.skin.php
 
- 업그레이드 프로그램 오류 수정
adm/upgrade_bd.php
 
- 왔숑 스킨에 target 항목 추가
lib/whatson.lib.php
skin/whatson/basic/whatson.skin.php
 
- 왔숑 스킨 제목에서 "그누보드" 삭제 (이상하더라구요)
skin/whatson/basic/whatson.skin.php
 
- 쪽지 5 - 5.0.2
skin/member/basic/memo2_write.skin.php
 
- 추천가입시 추천코드의 유효기간 설정 
config.php
bbs/register_form.php
 
- 추천가입시 추천 인증번호가 초기화 안되는 오류 수정
skin/member/basic/register_update.skin.php
 
- 사소한 수정
adm/board_copy.php
 
- 코드삭제 (왜 만들었는지 기억이 안나서..ㅠ.ㅠ...)
lib/2.latest.group.lib.php
lib/2.latest.my.lib.php
lib/2.latest.unicro.lib.php
 
- 최신글에 $target 옵션추가 (iframe target을 줄 수 있게)
lib/latest.lib.php
lib/latest.group.lib.php
lib/latest.my.lib.php
lib/latest.unicro.lib.php
lib/whatson.lib.php
 
- 쪽지5 - 5.0.1
http://opencode.co.kr/bbs/board.php?bo_table=memo4&wr_id=275
bbs/memo.php
skin/member/basic/memo2.tail.skin.php
skin/member/basic/memo2_write.skin.php
 
- 레벨업 관련 코드 정리 (레벨업 코드를 bbs/login_check.php로 이동하고, 설정은 config.php에)
config.php
bbs/login_check.php
skin/member/basic/login_check.skin.php
 
- login_check.skin.php의 쪽지/접속자 현황 삭제 코드 삭제 (이게 부하를 엄청나게 일으킵니다)
skin/member/basic/login_check.skin.php


1.0.92 (2011.09.07)

전체 공지를 원치 않는 게시판의 경우, 설정을 할 수 있습니다.
체크를 하면, 전체 공지가 나오지 않습니다.
 
===
관리자 메뉴에서 불당팩 업그레이드를 누르시거나 php myadmin에서 아래의 SQL script를 수행해주세요.
 
ALTER TABLE `g4_board` ADD `bo_naver_notice` TINYINT( 4 ) NOT NULL DEFAULT '1';
ALTER TABLE `g4_member` ADD `mb_memo_call_datetime` DATETIME NOT NULL AFTER `mb_memo_call` ;
 
CREATE TABLE IF NOT EXISTS `g4_geoip` (
  `ip_start` char(15) NOT NULL,
  `ip_end` char(15) NOT NULL,
  `ip32_start` int(10) unsigned NOT NULL,
  `ip32_end` int(10) unsigned NOT NULL,
  `country_code` char(2) NOT NULL,
  `country_full` varchar(50) NOT NULL,
  KEY `ip32` (`ip32_start`,`ip32_end`)
)
 
마지막으로 db 변경사항을 업데이트 해줘야, 다음에 db 업글을 중복해서 안합니다.
 
UPDATE g4_config SET `cf_db_version` = '1092' ;

===
memo.config.php
 
adm/board_form.php
adm/board_form_update.php
adm/upgrade_bd.php
 
bbs/delete.php
bbs/delete_all.php
bbs/download.php
bbs/download_memo_file.php
bbs/g4_geoip.sql (한국 db)
bbs/list.php
bbs/memo.php
bbs/memo2_*.php (memo2_로 시작하는 모든 파일)
bbs/register_form_update.php
bbs/write_id.php
 
lib/b4.lib.php
 
install/sql_opencode.sql
 
skin/member/basic/friend_*.php (friend_로 시작하는 모든 파일)
skin/member/basic/memo2_*.php (memo2_로 시작하는 모든 파일)


 
 
- geo ip 관련 db 업글 (한국 db는 별도로 업글 하세요. 모두가 쓰는게 아니라 db 업로드는 안합니다)
bbs/g4_geoip.sql (한국 db)
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=634
 
- 쪽지 5 - 1.0.0
memo.config.php
bbs/download_memo_file.php
bbs/memo.php
bbs/memo2_*.php (memo2_로 시작하는 모든 파일)
bbs/write_id.php
skin/member/basic/friend_*.php (friend_로 시작하는 모든 파일)
skin/member/basic/memo2_*.php (memo2_로 시작하는 모든 파일)
 
- 쪽지5를 위한 코드 수정
bbs/register_form_update.php
lib/b4.lib.php

- 게시판 관리자 오류 수정
adm/board_form.php 
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=26934
 
- 휴지통 기능 오류 (전체 공지/왔숑~삭제 안되는 오류)
bbs/delete.php 
bbs/delete_all.php
 
- download.php 보안
bbs/download.php
 
- 게시판별로 전체 공지 선택가능하게 설정 추가
adm/board_form.php
adm/board_form_update.php
bbs/list.php
install/sql_opencode.sql


1.0.91 (2011.08.23)

충분한 테스트가 되지 않은 코드이므로, 오류가 잇는 경우는 알려주세요.
수정 하겠습니다.
 
수정된 zmSpamFree가 안되시는 분은 알려주세요.
 
재회님이 알려주신 UTF-8 버젼의 검색기능의 문자열 문제는 
관리자님의 대책이 나온 이후에 수정 합니다.
좀 많이 복잡하고 수정할 사항이 많은 건 입니다.
 
geoip는 DB 수정이 필요한 사항이므로, 
금번 버젼에는 일부 code만 넣어두고, 다음 버젼에 적용하겠습니다.
====
 
테스트2 수정사항
 
common.php
config.php
bbs/write.php
lib/b4.lib.php
lib/visit.lib.php
skin/member/basic/register_form.skin.php
 
====
개발하다가 깜빡 잊어버렸던게 있었습니다. 
ipad에서도 글쓰기 가능하게 하는거죠.
그런데, 아시겠지만 cheditor 같은 iframe을 써야 하는 웹 편집기는 안드로이드나 아이폰에서 동작 하지 않아요.
 
그래서, 모바일 디바이스에서는 무조건 dhtml 편집기를 못 쓰게 만들었고,
모바일로 작성한거는 웹에서 수정가능하게 했습니다.
 
웹에서 작성한거 모바일에서 수정하는 것은 가능하지만, HTML 코드가 그대로 보입니다.
아시겠지만 너무 많은 부분에서 문제가 있기 때문 입니다.
 
===
그누보드의 새로운 패스워드 찾기 기능을 늦게 적용 했습니다. 
서버의 email을 죽여 놔서 안쓰던건데 보안 이슈 때문에 이번에 살렸습니다.
이 기능을 적용하면, 가입시 이메일을 내 맘대로 쓰던 사람들이 문제가 됩니다.
이부분은 개별적으로 해결 해주셔야 합니다 (비회원 기능 등으로 개별 확인)
건수가 생각보다 많지 않으므로 그게 더 나을 겁니다.
 
그리고, g4_member 테이블의 mb_password_q, mb_password_a 필드의 모든 값을 없애주세요.
소중한 개인정보 보호를 위한 것 입니다.
 
그누보드의 기능에 추가된 것이, 지정 횟수 초과하면 ip를 자동 차단해 버리는 것이고,
최종 차단 횟수 -2에서 경고도 한방 해줍니다.
ip 차단을 위한 retry는 5회 이상으로 해줘야 됩니다. 왜??? 코드를 보면 압니다. ㅋㅋ
===
 
common.php
head.sub.php
tail.sub.php
tail.sub.php 
 
adm/admin.lib.php 
adm/mail_update.php
adm/manual.head.php
adm/member_form_update.php
adm/singo_intercept.php
 
bbs/category_all.php
bbs/download.php
bbs/hidden_comment_update.php
bbs/login_check.php
bbs/password_lost.php
bbs/password_lost2.php
bbs/password_lost_certify.php
bbs/poll_update.php
bbs/register_form_update.php
bbs/search.php
bbs/singo_member_update.php
bbs/singo_popin_update.php
bbs/tb_token.php
bbs/visit_insert.inc.php
bbs/write.php
bbs/write_comment_update.php
bbs/zip.db
 
cheditor5/imageUpload/upload.php
 
js/common.js
 
install/install_db.php
 
lib/visit.lib.php
 
skin/board/cheditor/list.skin.php
skin/board/cheditor/img/btn_select_category.gif
 
skin/member/basic/password_lost.skin.php 
skin/member/basic/register_form.skin.php 
skin/member/basic/login.skin.php

skin/outlogin/basic/outlogin.skin.1.php
 
zmSpamFree/_common.php
zmSpamFree/zmSpamFree.php
zmSpamFree/zsfCfg.php 

(삭제) 
bbs/password_forget.php 
bbs/password_forget2.php 
bbs/password_forget3.php 
skin/member/basic/password_forget.skin.php
skin/member/basic/password_forget2.skin.php
skin/member/basic/password_forget3.skin.php
 
 
- 설치 또는 업데이트 프로그램 오류 (쪽지 DB 깨어짐???)
 
 
=== 테스트 2
 
- 회원가입 오류 수정
skin/member/basic/register_form.skin.php 
 
- geoip 기능 추가
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=634
common.php
config.php
lib/b4.lib.php
 
- 방문자 기록에 ie9 추가
lib/visit.lib.php
 
- 모바일 환경에서 글쓰기 누르면, text 편집기가 뜨게 하기
common.php
bbs/write.php
 
=== 테스트 1
 
- 로그인 오류 누적시 ip 차단 기능 오류 수정
bbs/login_check.php
 
- 4.32.09 패스워드 찾기 기능에 스팸방지 기능 추가 (retry check)
bbs/password_lost2.php 
 
- 4.32.09 패스워드 찾기 기능 늦은 적용 (그때는 일부러 안했는데, 지금 적용 합니다)
bbs/password_lost.php
bbs/password_lost2.php
bbs/password_lost_certify.php
skin/member/basic/password_lost.skin.php 
skin/member/basic/register_form.skin.php 
skin/member/basic/login.skin.php            : win_password_forget() -> win_password_lost() 로 대체 
skin/outlogin/basic/outlogin.skin.1.php    : win_password_forget() -> win_password_lost() 로 대체 
js/common.js                                : function win_password_lost() 추가 

(삭제)
bbs/password_forget.php 
bbs/password_forget2.php 
bbs/password_forget3.php 
skin/member/basic/password_forget.skin.php
skin/member/basic/password_forget2.skin.php
skin/member/basic/password_forget3.skin.php
 
- zmSpamFree 코드 업글 (문자셋, 세션 추가 등)
zmSpamFree/_common.php
zmSpamFree/zmSpamFree.php
zmSpamFree/zsfCfg.php 
 
- 그누보드 4.34.10 버젼업 (해당 될 수 있는 사항은 모두 업데이트 추가 했습니다)
    :  [보안패치] $_SERVER 배열변수 값의 변조를 이용한 SQL Injection 공격을 막는 코드입니다. 
        (SK Infosec 장경칩님께서 알려 주셨습니다.) 

common.php
tail.sub.php
adm/mail_update.php
adm/member_form_update.php
adm/singo_intercept.php
bbs/download.php
bbs/hidden_comment_update.php
bbs/login_check.php
bbs/password_forget3.php
bbs/poll_update.php
bbs/register_form_update.php
bbs/search.php
bbs/singo_member_update.php
bbs/singo_popin_update.php
bbs/tb_token.php
bbs/visit_insert.inc.php
bbs/write_comment_update.php
cheditor5/imageUpload/upload.php
  
- 여러개의 카테고리를 한번에 바꾸기 (이미지 = 주이님. 협찬. 포토샵 공부중인데 어렵네요 ㅠ..ㅠ...)
bbs/category_all.php
skin/board/cheditor/list.skin.php
skin/board/cheditor/img/btn_select_category.gif
 
* sample로 cheditor 스킨에만 적용 합니다.
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=631
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=2939#c_2940
 
- 더블클릭시 위/아래로 이동 하는 java script 코드 삭제 (생각보다 더블클릭 오류가 많아요...)
head.sub.php
tail.sub.php
 
- 그누보드 4.34.09 버젼업
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=6437
 : 우편번호 파일 업데이트 2011.07.21 조정내역 
http://zipfinder.co.kr/zipcode/modi_list.htm 
: admin.menu300.php.bak 파일은 메뉴로 불러 들이지 않기 
( pogusm 님께서 도움 주셨습니다. ) 
bbs/zip.db
adm/admin.lib.php 


1.0.90 (2011.07.22)

1.0.89에서 DB 수정이 있었으므로, 한번에 가는 경우 반드시 업글해야 합니다.
현재는 이것이 가장 최근 릴리즈 입니다.
 
최종판에서 변경된 사항
 
lib/common.lib.php : is_utf8() 함수 추가 
adm/visit_list.php 

 
작업2에서 변경된 사항 (날아오는 스팸을 막느라, 고생했는데 이제 안오네요. 다행히...)
 
bbs/registeter_form.php
bbs/spam_ip.db
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
bbs/move_update.php
bbs/move2_update.php
 
cheditor로 올린 이미지 정보를 db에 넣는 로직에 문제가 있습니다.
오픈코드에서는 재현이 안되므로, 문제 있는 경우가 있으면 알려주세요.
 
===
 
common.php
 
adm/visit_list.php 
 
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
bbs/move_update.php
bbs/move2_update.php
bbs/registeter_form.php
bbs/spam_ip.db
bbs/write.php
 
cheditor5/imageUpload/uplaod.php
 
lib/chimage.lib.php
lib/common.lib.php
lib/latest.group.lib.php
lib/popup.lib.php
lib/thumb.lib.php
 
skin/chimage/basic/*
 
skin/board/cheditor/view.skin.php (샘플로 1개만 적용함)
 
 
- 그누보드 버젼업 4.34.08
 : 접속자현황에서 한글 깨지는 오류 수정 
: 관리자 > 게시판관리 > 인기검색어 관리, 인기검색어 순위 추가 (이미 오래전에 추가된 기능이라 반영안함)
lib/common.lib.php : is_utf8() 함수 추가 
adm/visit_list.php 
 
- 스팸 대역의 회원가입 제한
bbs/registeter_form.php
bbs/spam_ip.db
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=2930
 
- 게시글 삭제시 추천 정보도 같이 삭제 (현재는 추천 정보가 삭제되지 않고, 남아 있게 됨)
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
 
- 게시글 이동시 추천정보도 같이 이동 (이게 왜 빠졌을까요?)
bbs/move_update.php
bbs/move2_update.php
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=26606
복사의 경우에는 추천정보 이동 안합니다. 
왜? 복사니까 다시 추천하라는거죠.
 
- 팝업 프로그램 개선 ($cate 값 없으면 모든 카테고리 검색하게)
lib/popup.lib.php
 
- 스팸차단 (연속 글쓰기 제한 보강)
bbs/write.php
 
- 그룹최신글 수정 (gr_use_search 적용, 프로그램 기능개선)
lib/latest.group.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=mysql_tips&wr_id=81
 
- 새늘님 ajax 문제 (output 버퍼에 \n\n이 남아 있는 경우)
common.php
 
- chimage
cheditor5/imageUpload/uplaod.php
lib/chimage.lib.php
skin/chimage/basic/*
 
1.0.89에서 DB 수정이 있었으므로, 한번에 가는 경우 반드시 업글해야 합니다.
현재는 이것이 가장 최근 릴리즈 입니다.
 
최종판에서 변경된 사항
 
lib/common.lib.php : is_utf8() 함수 추가 
adm/visit_list.php 

 
작업2에서 변경된 사항 (날아오는 스팸을 막느라, 고생했는데 이제 안오네요. 다행히...)
 
bbs/registeter_form.php
bbs/spam_ip.db
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
bbs/move_update.php
bbs/move2_update.php
 
cheditor로 올린 이미지 정보를 db에 넣는 로직에 문제가 있습니다.
오픈코드에서는 재현이 안되므로, 문제 있는 경우가 있으면 알려주세요.
 
===
 
common.php
 
adm/visit_list.php 
 
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
bbs/move_update.php
bbs/move2_update.php
bbs/registeter_form.php
bbs/spam_ip.db
bbs/write.php
 
cheditor5/imageUpload/uplaod.php
 
lib/chimage.lib.php
lib/common.lib.php
lib/latest.group.lib.php
lib/popup.lib.php
lib/thumb.lib.php
 
skin/chimage/basic/*
 
skin/board/cheditor/view.skin.php (샘플로 1개만 적용함)
 
 
- 그누보드 버젼업 4.34.08
 : 접속자현황에서 한글 깨지는 오류 수정 
: 관리자 > 게시판관리 > 인기검색어 관리, 인기검색어 순위 추가 (이미 오래전에 추가된 기능이라 반영안함)
lib/common.lib.php : is_utf8() 함수 추가 
adm/visit_list.php 
 
- 스팸 대역의 회원가입 제한
bbs/registeter_form.php
bbs/spam_ip.db
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=2930
 
- 게시글 삭제시 추천 정보도 같이 삭제 (현재는 추천 정보가 삭제되지 않고, 남아 있게 됨)
bbs/delete.php
bbs/delete_all.php
bbs/delete_comment.php
 
- 게시글 이동시 추천정보도 같이 이동 (이게 왜 빠졌을까요?)
bbs/move_update.php
bbs/move2_update.php
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=26606
복사의 경우에는 추천정보 이동 안합니다. 
왜? 복사니까 다시 추천하라는거죠.
 
- 팝업 프로그램 개선 ($cate 값 없으면 모든 카테고리 검색하게)
lib/popup.lib.php
 
- 스팸차단 (연속 글쓰기 제한 보강)
bbs/write.php
 
- 그룹최신글 수정 (gr_use_search 적용, 프로그램 기능개선)
lib/latest.group.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=mysql_tips&wr_id=81
 
- 새늘님 ajax 문제 (output 버퍼에 \n\n이 남아 있는 경우)
common.php
 
- chimage
cheditor5/imageUpload/uplaod.php
lib/chimage.lib.php
skin/chimage/basic/*
 
- 불당썸 2.0.23
lib/thumb.lib.php


1.0.89 (2011.07.01)

- 그누보드 4.34.07 업그레이드 (보안패치)
bbs/write_update.php
cheditor5/imageUpload/delete.php
cheditor5/imageUpload/upload.php
    :  [보안패치] 파일업로드의 오류를 이용한 XSS 공격 취약점을 수정 (이지원님께서 도움 주셨습니다) 
        php.ini 의 magic_quotes_gpc = Off 로 사용하는 경우에만 오류가 발생합니다. 
    :  [보안패치] CHEDITOR5 에서 허가받지 않는 파일 삭제 버그가 발견 되었습니다. (letsgolee님께서 도움 주셨습니다) 

- jquery 1.6.2 업그레이드
js/jquery.js
 
- cheditor 업로드 이미지 이름 개선
cheditor5/imageUpload/upload.php
http://opencode.co.kr/bbs/board.php?bo_table=cheditor&wr_id=52
 
=== 
 
- 왔숑 버그 수정 - 0.4 (제목 특수문자, 코멘트 아이디 미삽입, 코멘트 삭제에 따른 왔숑 삭제, ...)
bbs/ajax_whatson.php
bbs/write_update.php
bbs/write_comment_update.php
skin/whatson/basic/whatson.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=2854
 
- 갱신 버튼 눌렀을 때, 최신글이 없으면 최신글을 생성
bbs/proc/mw.time.now.php
 
- 관리자 페이지 db 폭탄 제거
adm/index.php
 
- cheditor_banner 스킨 오류 수정 (img 경로를 왜 urlencode했을까? ㅠ.ㅠ...)
bbs/list.php
skin/board/cheditor_banner/list.skin.php
 
 
===
이번 버젼에서는 전체 공지 및 그누보드 왔숑~! 기능 등의 추가로 db 변경이 있습니다.
꼭~ 업그레이드 해야 합니다.
 
cheditor가 조만간 5.0.8로 업글될 것이라고 하고, 
신규 기능의 수정을 보고 정식으로 release 하겠습니다.
 
===
그누보드 왔숑~이 추가 되었습니다.
 
CREATE TABLE IF NOT EXISTS `g4_whatson` (
  `wo_id` int(11) NOT NULL,
  `mb_id` varchar(255) NOT NULL,
  `wo_type` varchar(20) NOT NULL,
  `bo_table` varchar(20) NOT NULL,
  `wr_subject` varchar(255) NOT NULL,
  `wr_id` int(11) NOT NULL,
  `comment_id` int(11) NOT NULL,
  `wo_count` tinyint(4) NOT NULL,
  `wo_datetime` datetime NOT NULL,
  `wo_status` tinyint(4) NOT NULL,
  PRIMARY KEY (`wo_id`),
  KEY `mb_id` (`mb_id`)
) 
 
===
cheditor 이미지 업로드 history에 ip와 mb_id 추가를 위해 g4_board_cheditor 테이블을 업글 합니다.
 
ALTER TABLE `g4_board_cheditor` ADD `bc_ip` VARCHAR( 255 ) NOT NULL ,
ADD `mb_id` VARCHAR( 255 ) NOT NULL ;
 
=== 
보안을 위해서 data 디렉토리에 .htaccess 파일을 추가해야 합니다.
이것은 gif의 comment로 붙어 있는 php code를 실행하지 못하게 하는 것이므로 꼭 넣어야 합니다.
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=6255

해당 파일은 img/.htaccess에 있습니다. 
 
이것을 data 디렉토리에 복사하면 되는데, 실제 해보시면 쉽지 않을 겁니다.
data 디렉토리의 onwer가 다르기 때문에 .htaccess 파일을 넣어줄 방법이 없거든요.
 root 권한으로만 .htaccess 파일을 위치에 넣을 수 있으므로
서버 관리자에게 부탁하시기 바랍니다.
 
불당팩 신규설치의 경우에는 .htaccess가 자동으로 생기게 수정했습니다.
 
===
네이버 카페의 전체공지 기능을 fake한 전체공지 기능을 추가 했습니다.
이 기능은 모든 게시판에 다 나오게 하는 것이므로, 전체 관리자만 사용가능 합니다.
그룹관리자에게 주고, 특정 그룹에만 나오게 하는 것도 생각해 봤는데, 
얻을 수 있는 효용성 대비 너무 복잡해요.
 
CREATE TABLE IF NOT EXISTS `g4_notice` (
  `no_id` int(11) NOT NULL AUTO_INCREMENT,
  `bo_table` varchar(255) NOT NULL,
  `wr_id` mediumint(11) NOT NULL,
  `no_datetime` datetime NOT NULL,
  PRIMARY KEY (`no_id`)
)
 
===
dhtml 편집기 레벨과 html 레벨을 분리 했습니다.
다음과 같이, db를 추가해야 합니다.
 
ALTER TABLE `g4_board` ADD `bo_dhtml_editor_level` TINYINT( 4 ) NOT NULL AFTER `bo_html_level` ,
ADD `bo_dhtml_editor_comment_level` TINYINT( 4 ) NOT NULL AFTER `bo_dhtml_editor_level` ;

===
 
 
회원 아이디 저장 기능에서 샘플로 암호화 된 저장을 하게 했습니다.
config.php에서 g4[encrypt_key] 변수의 값을 사이트에 맞게 설정하시기 바랍니다.
주기적으로 해당 key를 바꿔주면, 자동으로 로그인 정보가 풀리는 문제는 있지만,
그만큼 회원 정보의 유출 가능성은 낮아지게 됩니다.
 
===
 
config.php
common.php
 
adm/board_form.php
adm/board_form_update.php
adm/index.php
adm/session_delete.php
 
bbs/ajax_whatson.php 
bbs/delete.php
bbs/delete_all.php
bbs/download.php
bbs/list.php
bbs/login_check.php
bbs/move_update.php
bbs/move2_update.php
bbs/view_comment.php
bbs/whatson.php
bbs/write.php
bbs/write_update.php
bbs/write_comment_update.php
bbs/proc/mw.time.now.php
 
cheditor4/* (삭제) 
 
cheditor5/imageUpload/delete.php
cheditor5/imageUpload/upload.php
cheditor5/popup/flash/CHXImage.swf
cheditor5/popup/js/image.js
 
img/.htaccess
 
install/install_db.php
install/sql_opencode.sql
 
js/jquery.js
 
lib/whatson.lib.php
 
skin/board/*/write_skin.php
skin/board/cheditor_banner/list.skin.php
 
skin/outlogin/transparent/outlogin.skin.1.php 
 
skin/whatson/basic/*
 
 
 
- 그누보드 4.34.07 업그레이드 (보안패치)
bbs/write_update.php
cheditor5/imageUpload/delete.php
cheditor5/imageUpload/upload.php
    :  [보안패치] 파일업로드의 오류를 이용한 XSS 공격 취약점을 수정 (이지원님께서 도움 주셨습니다) 
        php.ini 의 magic_quotes_gpc = Off 로 사용하는 경우에만 오류가 발생합니다. 
    :  [보안패치] CHEDITOR5 에서 허가받지 않는 파일 삭제 버그가 발견 되었습니다. (letsgolee님께서 도움 주셨습니다) 

- jquery 1.6.2 업그레이드
js/jquery.js
 
- cheditor 업로드 이미지 이름 개선
cheditor5/imageUpload/upload.php
http://opencode.co.kr/bbs/board.php?bo_table=cheditor&wr_id=52
 
- 왔숑 버그 수정 - 0.4 (제목 특수문자, 코멘트 아이디 미삽입, 코멘트 삭제에 따른 왔숑 삭제, ...)
bbs/ajax_whatson.php
bbs/write_update.php
bbs/write_comment_update.php
skin/whatson/basic/whatson.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=2854
 
- 갱신 버튼 눌렀을 때, 최신글이 없으면 최신글을 생성
bbs/proc/mw.time.now.php
 
- 관리자 페이지 db 폭탄 제거
adm/index.php
 
- cheditor_banner 스킨 오류 수정 (img 경로를 왜 urlencode했을까? ㅠ.ㅠ...)
bbs/list.php
skin/board/cheditor_banner/list.skin.php
 
- 그누보드 왔숑~! - 0.3
config.php
bbs/ajax_whatson.php
bbs/delete.php
bbs/delete_all.php
bbs/whatson.php
bbs/write_update.php
bbs/write_comment_update.php
lib/whatson.lib.php
skin/whatson/basic/*
http://opencode.co.kr/bbs/board.php?bo_table=qna&wr_id=2764 
 
- 프로그램 오류 수정
adm/session_delete.php
 
- dhtml 편집기 쓰기 권한을 html 쓰기 권한과 분리
adm/board_form.php
adm/board_form_update.php
bbs/view_comment.php
bbs/write.php
 
- 자동로그인 쿠키를 암호화
common.php
bbs/login_check.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=599
 
- cheditor4 코드 삭제 (보안상의 이슈)
cheditor4/* (삭제)
필요시 별도로 다운 받아서 쓰세요
 
- 검색문제 (새늘) 
bbs/list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3218 
 
- 아이디 저장 기능 (sample 코드)
bbs/login_check.php
skin/outlogin/transparent/outlogin.skin.1.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=592
  
- 전체 게시판 공지
config.php
bbs/delete.php
bbs/delete_all.php
bbs/list.php
bbs/move_update.php
bbs/move2_update.php
bbs/write.php
bbs/write_update.php
install/sql_opencode.sql
skin/board/*/write_skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=593
 
- 이미지 디렉토리로 장난칠 수 없게 한다 (.htaccess 파일을 data/ 디렉토리로 복사해 주세요)
img/.htaccess
install/install_db.php
 
- 그누보드 4.34.06 업그레이드
- 그누보드 4.34.05 업그레이드
. cheditor5 이미지 업로드 금지, 아래의 수정사항과 동일 합니다.
 
- cheditor에 이미지 이외의 파일 업로드 금지 (cheditor 보안 패치 포함)
cheditor5/imageUpload/upload.php
cheditor5/popup/flash/CHXImage.swf
cheditor5/popup/js/image.js
 
- download file이 없는 경우 쪽지만 보내고 정보는 삭제하지 않게
bbs/download.php


1.0.88 (2011.06.14)

adm/db_backup.php
adm/index.php
 
js/jquery.ui.core.min.js
js/jquery.ui.mouse.min.js
js/jquery.ui.widget.min.js
js/jquery.ui.draggable.min.js
 
lib/b4.lib.php
lib/common.lib.php
lib/skin.lib.php
 
skin/popup/basic/popup.skin.php
skin/board/cheditor_popup/write.skin.php
skin/board/*/view_comment.skin.php
 
skin/member/basic/memo2_view.skin.php
 
 
- 팝업게시판 오류 수정
js/jquery.ui.core.min.js
js/jquery.ui.mouse.min.js
js/jquery.ui.widget.min.js
js/jquery.ui.draggable.min.js
lib/popup.lib.php
skin/popup/basic/popup.skin.php
skin/board/cheditor_popup/write.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3087
 
- db 백업 파일의 이름앞에 host 붙이기
adm/db_backup.php
 
- 코멘트 제한 문제
lib/skin.lib.php
skin/board/*/view_comment.skin.php
 
cwin==1인 경우, lib/view.skin.php를 읽지 못해서 이런저런 작업이 하나도 안됩니다.
프로그램 만들때, 제가 실수한거네요.
view_comment.skin.php의 앞부분에 아래 코드를 추가하면 됩니다.
 
// cwin=1이면 view.skin.php를 읽지 않으므로, 스킨에서 사용하는 lib 읽어들이기
if ($cwin == 1)
    include_once("$g4[path]/lib/view.skin.lib.php");
 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=3101 
 
- 프로그램 오류수정 
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=982
 
- 관리자 페이지 엄청난 DB 폭탄 제거
adm/index.php
 
- br2nl 함수의 오류 수정 (php.net의 최근 함수로 교체)
lib/b4.lib.php
 
- 게시판의 날짜 이쁘게 표시하게
lib/b4.lib.php
lib/common.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=590
 
- 쪽지2 좌측정렬
skin/member/basic/memo2_view.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=981


1.0.87 (2011.6.08)

===
작업4 이후 수정된 파일은 아래와 같습니다.
lib/b4.lib.php
 
===
작업3 이후 수정된 파일은 아래와 같습니다.
새늘님이 알려주신 문제 및 php 5.3 호환성 등을 수정한 것 입니다.
 
config.php
adm/board_form.php
adm/db_backup.php
adm/mail_validate.php
adm/member_form_update.php
adm/up_form_update.php
bbs/download_memo_file.php
bbs/list.php
bbs/point.php
bbs/profile.php
bbs/register_form.php
lib/b4.lib.php
lib/common.lib.php
lib/icode.sms.lib.php
lib/sms.lib.php
 
skin/member/basic/profile.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_update.skin.php
 
skin/board/cheditor_oneline/list.skin.php
 
===
시하님의 관리자를 제외하였고 (속도 및 모바일 환경에서의 문제)
그누보드의 지금까지 모든 보안패치를 적용하고
사소한 개선을 하였습니다.
별다른 문제가 없으면 몇가지 수정후 final release 하겠습니다.
 
모바일 환경은 별도의 디렉토리에서 분리해서 작업중입니다.
 
==
 
config.php
head.sub.php
 
adm/board_form.php
adm/db_backup.php
adm/member_form_update.php
adm/mail_validate.php
adm/up_form_update.php
 
bbs/delete.php
bbs/delete_comment.php
bbs/download_memo_file.php
bbs/list.php
bbs/new.php
bbs/point.php
bbs/profile.php
bbs/register_form.php
bbs/view.php
bbs/view_comment.php
 
js/sideview.js
 
lib/b4.lib.php
lib/common.lib.php
lib/icode.sms.lib.php
lib/sms.lib.php
 
skin/member/basic/profile.skin.php
skin/member/basic/register.skin.php
skin/member/basic/register_update.skin.php
 
skin/board/cheditor_oneline/list.skin.php
 
 
 
===
 - php 수호신 등에서 zlib 오류 나는거 코드 막기
head.sub.php

- php 5.3 이후 안쓰는 함수 수정
adm/board_form.php
adm/db_backup.php
adm/mail_validate.php
adm/up_form_update.php
bbs/download_memo_file.php
bbs/list.php
bbs/point.php
lib/b4.lib.php
lib/icode.sms.lib.php
lib/sms.lib.php
skin/board/cheditor_oneline/list.skin.php
 
- 글쓰기 제한 관련 프로그램 오류 수정 (설정 함수값 오류)
config.php
bbs/register_form.php
skin/member/basic/register.skin.php
skin/member/basic/register_update.skin.php
 
- 제목에 특수문자 쓰는거 방어하기 (config.php 파일에서 설정 가능 합니다)
config.php
lib/b4.lib.php
lib/common.lib.php
 
- 그누보드 4.33.08 보안패시 수정오류 (ms office namespace 문제)
lib/common.lib.php
 
- 최고 관리자는 mb_memo를 sideview의 profile 정보에서 볼 수 있게 하기
bbs/profile.php
skin/member/basic/profile.skin.php
 
- 관리자가 mb_memo(메모)에 따옴표를 썼을 때 오류가 나는 것 (mb_memo의 특수문자를 없애기)
adm/member_form_update.php
 
- 최신글 프로그램 수정 (불필요한 과잉 query를 조정)
bbs/new.php
 
- 관리자 페이지를 기존 원본으로 복구 (이쁜거는 속도의 문제가...)
head.sub.php
adm/admin.head.php
adm/admin.tail.php
(삭제) adm/adm.style.css
(삭제) adm/adm.style7.css
(삭제) adm/side.calendar.php
(삭제) adm/css/*
(삭제) adm/images/*
(삭제) adm/psd/*
(삭제) adm/js/*
(삭제) js/clock.js
(삭제) js/js.js
(삭제) m/*
(삭제) skin/member/basic/calendar2.skin.php
 
- 관리자 첫 페이지의 최근글 기능 (엄청난 시스템 부하를 주는 것 확인.ㅠ.ㅠ...)
adm/index.php
 
- 공지사항은 첫 페이지에서만 보이게 하기 (왜 모든 페이지에서 공지사항을 봐야 할까요?)
bbs/list.php
 
- mobile browser detect 함수
common.php
 
- jQuery 1.6.1 (min) update
js/jquery.js
 
- 4.34.04 ( 2009년도에 이미 반영한 팁. 따라서 변경사항 없슴. )
4.34.04 (11.05.27) 
    :  글복사, 이동시 코멘트 삭제, 추가가 있었다면 코멘트가 제대로 복사, 이동되지 않는 버그를 수정하였습니다. 
        ( 진서기님께서 이미 2009년에 알려주신 버그인데 패치가 늦었습니다. http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=18926 ) 

- 4.34.03
lib/common.lib.php
 
    :  [보안패치] SQL Injection 취약점에 대비한 코드 수정 
        (한국인터넷진흥원을 통하여 과천고등학교 권혁님께서 취약점과 해결방안을 자세하게 알려주셨습니다.) 
    :  [보안패치] 이미지 태그의 src 속성에 download.php 링크가 있는 경우 게시물을 확인하는 것만으로도 파일의 다운로드가 가능한 취약점 수정 
        (국제정보보안센터[i2Sec]의 최종훈님께서 알려주셨습니다.) 
 
- 불당팩 1.0.86 추가수정분 (혹시 미반영 하신분들. 회원가입 오류 나옵니다)
bbs/register_form.php
skin/member/basic/register.skinphp
 
- 그누보드 4.34.02 (보안패치)
bbs/delete.php
bbs/delete_comment.php
bbs/view.php
bbs/view_comment.php
 
lib/common.lib.php
 
    :  [보안패치] 이미지 태그의 src 속성에 삭제등의 링크가 있는 경우 게시물을 확인하는 것만으로도 데이터의 위변조가 가능하므로 이것을 막음 
        (국제정보보안센터[i2Sec]의 최종훈님께서 알려주셨습니다.) 
    :  캡챠 코드 변경 (비회원이 코멘트 댓글을 다른 경우 캡챠이미지를 변경할 수 있도록 수정) 
        (letsgolee 님께서 알려주셨습니다.) ---> kcaptcha를 사용하지 않으므로 변경사항이 없슴
 
- 게시판 설정에서 사용자이름 사용을 check/uncheck 한 경우 처리 + 바뀐 개인정보 실시간 적용
lib/common.lib.php
 
- 그누보드 4.34.01 
불당팩은 kcaptcha를 쓰지 않으므로 4.34.01의 수정버젼은 해당이 없습니다.
 
- sideview 위치오류 수정
js/sideview.js
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=575


1.0.86 (2011.5.06)

cheditor로 이미지를 올리면 db에 값이 들어가게 되는데 (g4_board_cheditor)
그값이 일부 서버에서 안들어가고 있습니다.
그런 현상을 보시면 꼭 알려주세요. 서버를 보구 문제를 개선해야 합니다.
이문제만 개선하면 첨부+cheditor이미지를db로 쉽게 보여줄 수 있게 됩니다.
 
회원가입 부분에서 기존의 그누 기능을 못 쓰는 부분을 수정했습니다.
 
cheditor4 디렉토리를 cheditor5로 변경하시기 바랍니다.
 
===
그누보드 4.34.00에서 cheditor 5.xx 버젼이 탑재 되었습니다.
불당팩은 이미 사용하고 있던 것이라서, 관련 기능들만 업데이트 합니다.
cheditor는 새로운 버젼이 나온 다음에 업데이트 할 것 입니다 (현재 작업중이랍니다).
 
기존의 cheditor4 디렉토리는 cheditor5로 변경하고 (스킨 호환성을 위해서)
그누의 기존 4버젼 편집기를 cheditor4 디렉토리에 올렸습니다.
 
===
 
b4.lib.php에 암호화와 복호화 함수를 추가 했습니다.
config.php에서 $g4[encrypt_key] 값을 정의하면 그것을 기준으로 암호화 복호화 합니다.
간단하지만, 의도적으로 깨려는 사람이 아니고는 원래값을 찾는게 쉽지 않을 겁니다.
 
===
config.php
 
bbs/register_form.php
bbs_register_form_update.php
 
cheditor4/*
cheditor5/* (cheditor4 디렉토리를 cheditor5로 이름변경)
 
js/jquery.simplemodal.js
js/jquery.simplemodal.min..js
 
lib/b4.lib.php
lib/cheditor4.lib.php
lib/common.lib.php
lib/latest.lib.php 
 
skin/member/basic/register.skin.php
 
zmSpamFree/zmSpamFree.php
 
 
 
- 회원가입 기능 변경 및 오류수정
bbs/register_form.php
skin/member/basic/register.skin.php
 
- eric martin의 simple modal jQuery plugin 추가 (1.4.1 버젼)
js/jquery.simplemodal.js
js/jquery.simplemodal.min..js
http://www.ericmmartin.com/projects/simplemodal-demos/
 
- 4.34.00 cheditor 5.0.x 버젼 탑재
config.php
bbs/register_form.php
bbs_register_form_update.php
cheditor4/*
cheditor5/* (cheditor4 디렉토리를 cheditor5로 이름변경)
lib/cheditor4.lib.php
 
 
    :  cheditor v5.04 탑재 ( 그누보드에서 사용할 수 있게 허락해주신 CHSOFT 나창호 대표님께 감사드립니다. www.chcode.com ) 
        최신 버전(v5.06)은 약간의 문제가 있어 버전이 약간 낮은것으로 탑재합니다. 
        이미지 업로드시 플래시를 사용하는데 .htaccess 에 패스워드를 걸었다던지 하는 경우에는 이미지 업로드가 안됩니다. 
        플래시동영상은 <object><embed> 코드롤 넣으셔야 합니다. 유튜브의 경우 > 소스코드 > 이전 소스코드 사용으로 나온 코드 
    :  [보안패치] 4.33.10 의 코드를 보완 하였습니다. (letsgolee 님께서 알려주셨습니다.) 
 
- 그누보드 4.33.11 버젼 패치
bbs/register_form.php
bbs_register_form_update.php 
 
    :  [보안패치] 4.33.10 의 보안패치에 문제가 있어 다시 패치합니다. 
        (한국인터넷진흥원을 통하여 Null@Root 소속의 Hacker@n 님께서 다시 알려주셨습니다.) 
 
- 그누보드 4.33.10 버젼 패치
bbs/register_form.php
bbs_register_form_update.php 
lib/common.lib.php
 
   :  [보안패치] 회원정보수정시 세션에 기록된 패스워드를 알아낼 수 있는 취약점이 발견되었습니다. 
        (한국인터넷진흥원을 통하여 Null@Root 소속의 Hacker@n 님께서 알려주셨습니다.) 
    :  게시판복사시 복사되는 게시판 테이블의 CHARSET 이 제대로 생성되지 않는 오류를 수정하였습니다. 
        ( 밀로즈님께서 알려주셨습니다. ) 
 
- 암호화 함수 추가
config.php (이곳에 key가 정의 됩니다)
lib/b4.lib.php
http://opencode.co.kr/bbs/board.php?bo_table=php_tips&wr_id=128
http://blog.naver.com/xitem?Redirect=Log&logNo=140113457912
 
- 최근글 함수에서 최근 코멘트가 굵어지지 않는 오류 수정
lib/latest.lib.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=2975
 
- zmSpamFree 오류수정
zmSpamFree/zmSpamFree.php


1.0.85 (2011.4.21)

일부서버에서 cheditor에서 올린 이미지 파일이 db에 정상적으로 들어가지 않습니다.
오류원인의 파악을 위해서는 서버에 대한 정보 등을 얻어야 하는데,
문제가 되는 서버의 접속이 불가한 상황이라,
cheditor로 이미지를 올렸는데, g4_board_cheditor에 정보가 안올라가면 꼭~ 알려주세요.
 
cheditor는 5.0.6 버젼의 패치가 진행되고 있어서, 그게 안정된 이후에 테스트를 할 것 입니다.
기능이 많이 보완된거 같아요.
 
그누보드는 버그패치를 다 따라가고 있는데, 관리자 기능의 사용이 많이 불편해졌습니다. ㅠ.ㅠ...
 
===
그누보드 4.33.05, 4.33.06 버젼은 kcaptcha에 대한 것 입니다.
불당팩은 zmSpamFree를 사용하고 있으므로 업글하지 않습니다.
zmSpamFree는 지앤미님의 캡챠로 제로4 등에서 많이 사용되고 있는데,
아직까지 뚫렸다는 보고는 없습니다.
 
===
HISTORY
HISTORY_BD
common.php
config.php
head.sub.php
 
adm/board_form.php
adm/board_form_update.php
adm/mail_form.php
adm/member_form.php
 
bbs/board.php
bbs/delete.php
bbs/email_re_certify.php
bbs/email_re_certify_update.php
bbs/list.php
bbs/new.php
bbs/register_form_update.php
bbs/write_update.php
bbs/zip.php
 
cheditor4/imageUpload.php/upload.php
 
js/jquery.js
 
lib/common.lib.php
lib/latest.group.php
 
skin/member/basic/jquery.ajax_register_form.js
 
 
 
- 그누보드 4.33.09 버젼 패치
lib/common.lib.php
4.33.09 (11.04.15) 
    :  아래 두개의 취약점은 한국인터넷진흥원(KISA)을 통하여 
        선린인터넷고등학교 1학년에 재학중인 강인욱님께서 알려 주셨습니다. 
        XSS 취약점 
        embed, object 태그를 막지 않는 경우의 우회적인 공격에 대한 취약점 
 
- 그누보드 4.33.08 버젼 패치
adm/board_form.php
adm/board_form_update.php
bbs/zip.php
lib/common.lib.php
 
4.33.08 (11.04.01) 
    : 3.11일자 우편번호 
    : 게시판 설정 변경하려면 관리자 패스워드 입력해야 합니다. 무지하게 불편해 졌어요. ㅠ.ㅠ...
    :  아래 두개의 취약점은 한국인터넷진흥원(KISA)을 통하여 
        선린인터넷고등학교 1학년에 재학중인 강인욱님께서 알려 주셨습니다. 
    :  [보안패치] XSS(Cross Site scripting) 취약점 보완 
        이 취약점은 XML의 namespace를 이용하여 공격하는 방식입니다. 
        게시판에서 DHTML 에디터를 사용하지 않는 경우에만 취약한 것으로 확인 되었습니다. 
    :  [보안패치] RFI(Remote File Inclusion) 원격파일유입 취약점 보완 
        이 취약점은 관리자 권한을 취득한 후에 게시판 관리의 상단, 하단파일경로에 
        Data URI scheme (http://en.wikipedia.org/wiki/Data_URI_scheme) 를 이용하여 
        서버에 remote 파일을 생성하고 해당 remote 파일을 이용하여 해당 서버를 공격하는 
        방식입니다. 
        PHP 5.x 이상 그리고 allow_url_fopen 이 On 인 경우에만 발생합니다. 

 
- 이메일 관련 오류
adm/mail_form.php
 
- jQuery 1.5.2 업데이트
js/jquery.js
 
- 오류수정 (김군님)
bbs/register_form_update.php
 
- 오류수정 
head.sub.php 
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=2890
 
- 이메일인증 오류수정
bbs/email_re_certify.php
bbs/email_re_certify_update.php
 
- 그누보드 4.33.07 패치 (트랙백 관련 글짜 깨어짐 패치. 거의 안쓰는 기능임)
bbs/write_update.php
 
- 바다님 요청으로 첨부이미지만 모두 골라서 보여주는 기능 추가
lib/latest.group.php
 
- 팀장에서 create temporary table 명령이 안되는 오류 때문에, 설정을 추가
config.php
bbs/list.php
 
- 그누보드 4.33.04 패치 (03 버젼 오류수정)
common.php
adm/member_form.php
4.33.04 (11.02.12) 
    :  4.33.03 에서 common.php 에 보안패치한 코드는 오류가 많아 4.33.02 로 되돌립니다. 
    :  4.33.03 의 adm/member_form.php 에 패치한 코드에 오류가 있었습니다. 
 
- 그누보드 4.33.03 패치 (보안패치)
common.php
adm/member_form.php
bbs/board.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=5712
    :  회원권한 코드 수정 (코타군님) 
    :  글읽기 포인트가 설정되어 있을때 글읽기 레벨이 1로 설정되어 있으면 포인트 차감이 제대로 되지 않던 오류 수정 (forever님, 진서기님) 
    :  [보안패치] SQL INJECTION 공격에 대비한 코드 수정 (개미인간님) 
 
- chedior 첨부 파일 관리 수정 (실제 파일 삭제 코드 추가)
cheditor4/imageUpload.php/upload.php
bbs/delete.php
bbs/write_update.php
 
- 회원가입 form이 배추 로그인과 쫑나는거 수정
skin/member/basic/jquery.ajax_register_form.js
 
- 최신글 코드 튜닝
bbs/new.php
 
- 4.32.02 업그레이드
common.php
 
- 내용검색 관련 튜닝
bbs/list.php
 
=== 
4.33.02 (11.01.24) 
    :  [보안패치] LFI(Local File Include ) 
        LFI 취약점이 발견되어 수정한 코드입니다. (한국인터넷진흥원) 

        common.php 
            if ($_GET['g4_path'] || $_POST['g4_path'] || $_COOKIE['g4_path']) { ... } 
            위 코드만 수정 되었습니다.


1.0.84 (2011년.01월.17일)

final에서는
adm/js/custom.js가 수정되엇습니다.
 
---
test5는 긴급패치 + 설치오류 수정입니다.
 
이전 버젼을 설치하신 경우에는...
cf_config 테이블의 
cf_db_version 필드에 10xx xx는 불당팩의 끝자리 번호 (예: 1084)와 같이 해주세요.
 
install/sql_opencode.sql
install/install_db.php
 
lib/common.lib.php (코드 수정오류. 다시 올렸습니다)
 
---
test4는 긴급 그누보드 패치 입니다.
불당팩 버젼에 무관하게 아래 4 파일은 반드시 수정해야 합니다.
test3에서 skin/board/*/view_comment.skin.php를 누락해서 다시 올립니다.
 
다른 파일의 경우 관리자 패스워드를 한번 더 체크하게 하는 것인데,
세션을 훔쳤다면 관리자에서 패스워드 확인으로 한번 더 막는다고, 
문제의 해결은 아닌거 같아서 잠시 유보햇습니다.
게시판 관리자에서 장난칠수도 있고 장난칠 곳은 엄청나거든요.
 
지금 논의가 진행중이니, 좋은 결과가 나올거라 봅니다.
 
lib/common.lib.php 
bbs/login_check.php 
adm/admin.lib.php (요고는 내용이 조금 다를 수 있으니 엎어쓰지 말고 비교해주세요)
skin/board/*/view_comment.skin.php (모든 게시판의 view_comment.skin.php 파일. 수정법은 코멘트에)

 
그리고, cheditor4의 버그도 하나 수정되었습니다.
 
cheditor4/cheditor.js
 
 
 
 
--- 
test2에서는 아래 2개의 프로그램이 업데이트 되었습니다.
오류가 있으면 알려주세요.
 
common.php
adm/boardgroup_form_update.php
 
----
이번 버젼에서는 아드리나님의 팁을 적용하고, 지난 버젼의 필터링 관련 기능 삭제도 db 반영 합니다.
이미 만들어진 db는 안지워도 되지만, 굳이 새로 만들 필요는 없으니까요.
db에 대한 부분이고, 굳이 급하지 않은거라 헷갈리지 않게 이번 버젼에 싹~ 반영했어요.
 
CREATE TABLE IF NOT EXISTS `g4_board_cheditor` (
  `bo_table` varchar(255) DEFAULT NULL,
  `wr_id` int(11) DEFAULT NULL,
  `bc_url` varchar(255) NOT NULL,
  `bc_dir` varchar(255) NOT NULL,
  `bc_source` varchar(255) NOT NULL,
  `bc_file` varchar(255) NOT NULL,
  `bc_filesize` int(11) NOT NULL,
  `bc_width` int(11) NOT NULL,
  `bc_height` smallint(6) NOT NULL,
  `bc_type` tinyint(4) NOT NULL,
  `bc_datetime` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  KEY `bo_table` (`bo_table`,`wr_id`)
);

 
 
config.php
 
adm/boardgroup_form_update.php
adm/config_form_update.php
adm/upgrade_bd.php
adm/b4_upgrade/b4_upgrade_db.php
adm/js/custom.js
 
bbs/delete.php
bbs/delete_all.php
bbs/move_update.php
bbs/move2_update.php
bbs/write_update.php
 
cheditor4/cheditor.js
 
install/sql_opencode.sql
install/install_db.php 
 
 
 
- 관리자에서 마우스 드랙 안되는 오류
adm/js/custom.js
 
- 그누보드 업그레이드 - 4.33.01
lib/common.lib.php
 
- 설치오류 수정
install/sql_opencode.sql
install/install_db.php 
 
- cheditor hyerlink 오류 수정
cheditor4/cheditor.js
http://www.chcode.com/cgi-bin/forum/showflat.pl?Cat=&Board=cheditor_install&Number=4068&page=0&view=collapsed&sb=5&part=&vc=1
 
- 그누보드 버젼업 4.33.00 (11.01.06) 
lib/common.lib.php 
bbs/login_check.php 
adm/admin.lib.php 

 
- gr_id를 20자리로
adm/boardgroup_form_update.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=2700
 
- 그누보드 4.32.15 
common.php
http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=5507
$write 변수값을 초기화 해줍니다. 반드시 적용해야 하는 보안 패치에요.
 
- cheditor 파일관리 (아드리나님의 팁)
config.php
adm/upgrade_bd.php
bbs/delete.php
bbs/delete_all.php
bbs/move_update.php
bbs/move2_update.php
bbs/write_update.php
cheditor/imageUpload/upload.php 
install/sql_opencode.sql
 
http://www.chcode.com/cgi-bin/forum/showflat.pl?Cat=&Board=cheditor_install&Number=3990&page=0&view=collapsed&sb=5
아드리나님의 코딩 (제가 하려고 한거 먼저 하셨네요^^)
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=25237
 
- 필터링 팁 삭제후 db 정리
config.php
adm/config_form_update.php
adm/upgrade_bd.php
adm/b4_upgrade/b4_upgrade_db.php
install/sql_opencode.sql


1.0.83 (2010년.12월.23일)

테스트2에서 첨부파일을 년월로 구분하는 코드가 누락되어서 (허~ 코드에 발이 달렸나? ㅠ..ㅠ...)
지금 다시 작업중입니다. ㅠ.ㅠ.... 혹시 또 안되는 기능이 있으면 알려주세요.
 
bbs/ajax.filter.php 
bbs/move_update.php
bbs/move2_update.php
bbs/write_update.php
lib/common.lib.php
 
--------------------------
 
(1)
이번 버젼에서는 첨부파일의 디렉토리를 변경하는 작업을 할 것 입니다.
현재는 data/file/게시판이름 밑에 왕창 들어가는데, 
게시판이 오래되면 엄청난 수의 파일이 쌓이게 됩니다 (서버에서 ls가 안될 정도로...).
이것을 개선해서, data/file/게시판이름/년월로 변경하였습니다.
이렇게 하면 백업 받기도 조금 좋아질거구요.
물론 기존 게시판과의 호환을 위해서, 고려가 되어 코딩이 되었고,
첨부파일이 하루에 마구마구 쌓이는 경우에는 write_update.php만 연월일..이 가능하게 고치면 됩니다.
 
(2) 
그동안 그누보드의 성능저하를 일으킨 고질적 문제에 대해서 해결 방법을 찾았습니다.
몇년간의 삽질끝에 간단하게 해결 했습니다.
수십만건 게시판에서 검색을 해도 이제는 db의 문제를 일으키지 않습니다.
 
(3)
그렇기 때문에, 포인트 관련 코드를 원상으로 복구 합니다.
 
(4) 설치오류는 확인 해 봤는데, 잘 되는데요? ㅠ.ㅠ...
 
(5) 필터링 관련 부분을 수리하다가 분리된 필터링 테이블을 원래대로 복구 합니다.
이거는 캐슁되는 것이라서, 스피드에 영향을 주지 않는거 같습니다.
그리고, 필터링이 그동안 안되었습니다. 제 프로그램 실수 입니다. ㅠ..ㅠ...
 
 
 
memo.config.php
 
adm/admin.head.php
adm/config_form.php
adm/config_form_update.php
 
bbs/ajax.filter.php
bbs/move_update.php
bbs/move2_update.php
bbs/point.php
bbs/search.php
bbs/view_commen.php
bbs/write.php
bbs/write_update.php
bbs/write_comment_update.php 
bbs/zip.db

js/jquery.js

lib/common.lib.php
lib/skin.lib.php
 
zmSpamFree/zmSpamFree.php
 
 
 
- 관리자는 글쓰기 필터링 적용 안받게
bbs/ajax.filter.php 
 
- 분리된 필터 테이블 통합 (g4_config_write -> g4)
adm/config_form.php
adm/config_form_update.php
bbs/write.php
bbs/view_comment.php
 
- 포인트관리 코드수정 (기존 방식으로 복구)
bbs/point.php
lib/common.lib.php
 
- 그누보드 버젼업 (4.32.14)
4.32.14 (10.12.07) 
    :  글쓰기, 코멘트쓰기 메일 발송 코드 수정 
    :  코멘트쓰기 포인트설정시 회원의 포인트가 음수인 경우 코멘트를 쓰지 못하던 버그를 수정 (곱슬최씨님) 
        bbs/write_update.php 
        bbs/write_comment_update.php 

 
- 쪽지 프로그램 수정
memo.config.php
http://opencode.co.kr/bbs/board.php?bo_table=memo4&wr_id=125
 
- zmSpamFree 수정
zmSpamFree/zmSpamFree.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=2681
 
- 우편번호 (11.19)
bbs/zip.db
 
- 그누보드 검색 performance 개선
bbs/search.php
lib/common.lib.php
lib/skin.lib.php

- jquery 1.4.4 업그레이드
js/jquery.js
  
- 그누매뉴얼 새창으로 (메뉴에, target 옵션이 가능하게. 원래는 가능했었다는...ㅠ..ㅠ...)
adm/admin.head.php
 
- 파일업로드 경로 수정 ($ym이 들어가게)
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=568
bbs/move_update.php
bbs/move2_update.php
bbs/write_update.php
lib/common.lib.php


1.0.82 (2010년.11월.18일)

첫번째 업로드3 이후 변경된 파일(작업중... 아직 업로드 안함...)
 
adm/cron_point_clear.php
bbs/delete.php (엉뚱한 alert messages가 있어요) 
skin/member/basic/register_fom.skin.php
 
 
업로드 2에서, bbs/delete.php 파일에 문제가 있습니다.
테스트 용의 코드가 안지워져서, 게시글 삭제가 안됩니다.
bbs/delete.php를 새걸로 바꿔주세요.
 
---
처음이후 아래의 파일이 바뀌었습니다.
정식은 다음주에 cron으로 포인트 정리하는 부분과 추가오류 수정해서 올리겠습니다.
관리자 기능에 오류 있거나 개선이 필요하면 알려주세요.
 
bbs/delete.php
bbs/point.php
bbs/write_update.php
lib/common.lib.php
skin/member/basic/register_fom.skin.php
 
 
알림 1.
 
DTD를 바꾸는 경우, 시하님의 관리자에 문제가 생기는 것을 막기 위해서,
관리자의 admin.head.php에서 변수를 설정한 다음에, head.sub.php를 호출하고,
head.sub.php에서 if로 DTD를 구분하게 했습니다. 참 지저분한 편법이지만 방법이 없네요.
---
 
알림 2.
 
db index를 전면 재조정 합니다.
속도의 개선 및 멈칫거림의 해결을 위해서, 반드시 불당팩 업그레이드를 해주시기 바랍니다.
게시판 건수가 많은 경우에는 크게 변동이 있을 것이므로, 사용자가 없는 시간대에 해주세요.
 
불당팩 버젼업을 안하더라도, adm/b4_upgrade/index_change.php를 수행해주세요. 
---
 
head.sub.php
 
adm/admin.head.php 
adm/admin.tail.php
adm/point_clear.php
adm/upgrade.bd.php
adm/sql_write.sql
adm/b4_upgrade/index_change.php
adm/css/*
adm/images/*
adm/js/*
 
bbs/delete.php
bbs/download.php
bbs/list.php
bbs/point.php
bbs/write_update.php
 
install/opencode_sql.sql 
 
lib/common.lib.php 
lib/latest.my.lib.php
lib/skin.lib.php
 
skin/member/basic/ajax_mb_nick_check.php
skin/member/basic/register_fom.skin.php
 
 
- 포인트 정리를 cron으로 할 수 있게 하기
adm/cron_point_clear.php 
 
- 가입일, 정보수정일 등을 정보수정 화면에서 보여주기 (왜 이걸 정보보기에서만 봐야 할까요???)
skin/member/basic/register_fom.skin.php 
 
- 휴지통 기능 오류 수정 (포인트 차감 안되는거)
bbs/delete.php
 
- 그누보드 패치 4.32.13 
bbs/write_update.php
skin/member/basic/register_fom.skin.php 
 
- 포인트 관련 코드 정리 (튜닝)
bbs/point.php
lib/common.lib.php
 
- 비회원 오류수정
lib/latest.my.lib.php
 
- 시하님의 관리자 새로운 버젼 
adm/admin.head.php
adm/admin.tail.php
adm/css/*
adm/images/*
adm/js/*
 
- db index 조정 (Sending data lock 등에 관련해서)
adm/upgrade.bd.php
adm/sql_write.sql
adm/b4_upgrade/index_change.php
install/opencode_sql.sql 
 
- 관리자 프로그램 오류수정 
adm/admin.head.php
 
- 속도개선을 위한 코드수정 ($spt)
bbs/list.php
 
- 속도개선을 위한 query 순서 변경 (db query에서 지연이 생기는 곳)
lib/skin.lib.php
 
- download.php의 rate 변경
bbs/download.php
 
- 우측마우스 권한 오류 (테스트 코드를 그냥 내보냈습니다. ㅠ..ㅠ...)
head.sub.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=2607
 
- 프로그램 오류 (UTF-8)
skin/member/basic/ajax_mb_nick_check.php
 
- 시스템에서 zlib으로 압축할 때 생기는 중복오류
head.sub.php
 
- 시하님의 관리자 기능 (CSS 문제. if 문으로 관리자에서 들어올 때를 구분했어요. ㅠ..ㅠ...)
head.sub.php
adm/admin.head.php 


1.0.31 (2010년.9월.27일)

그누버젼업과 몇가지 이슈를 정리 햇습니다.
 
이제 시하님에게 약속한 부분만 개선하면 되는데, 아~ PC 고친다고 며칠 쉬어서 (핑계임...ㅠㅠ)
관리자부분의 보강은 조금 더 걸릴 겁니다. 
 
---
4.32.10의 관련 코드는 넣어두지만 적용은 안합니다.
 
이메일 1개로 패스워드를 재발행 하는게 편하기는 하지만 그만큼 risk도 크기 때문이죠.
회사 사이트를 운영하다가 보면, 이메일을 잊어버려서 (퇴사 등의 사유로) 패스워드 찾기
할 수 없다는 분들이 가끔씩 있습니다. 아니면, 대충 이메일을 입력하고 가입한 경우에는
새로운 방식이 참 난감할 수 있거든요.
 
불당팩의 패스워드 찾기 방식은 KISA의 빡쎈 검증을 거친 것이라 보안서버 적용에도
전혀 문제 없습니다.
 
더구나 회원들의 현재 이메일주소의 유효성도 부실한 상황에서 적용은 무리라 판단되어
core code만 업로드 하고, 적용은 하지 않습니다.
 
---
common.php 
head.sub.php
 
adm/admin.head.php
adm/admin.tail.php
adm/adm.style.css
adm/adm.style7.css
adm/side.calendar.php
adm/images/*
adm/psd/*
 
bbs/password_lost.php 
bbs/password_lost2.php 
bbs/password_lost_certify.php 

bbs/zip.php
 
js/common.js 
js/clock.js
js/jquery-ui.min.js
js/js.js
 
lib/common.lib.php
lib/thumb.lib.php
 
modules/naverkin_api.php
 
skin/board/*/list.skin.php (모든 list.skin.php가 변경 되었습니다. 하단 검색어...부근이니까 수정하셔도 되요)
skin/board/cheditor_unicro_flea/write.skin.php
 
skin/member/basic/calendar2.skin.php
skin/member/basic/password_lost.skin.php  
 
 
- g4_member에 신규 필드가 추가 되거나 했을때 오류가 나지 않게
lib/common.lib.php
 
- @ini_set (이게 안되는 서버가...ㅠ..ㅠ...)
common.php
bbs/zip.php
lib/thumb.lib.php
modules/naverkin_api.php
 
- 4.32.11 
common.php 
 
- zlib을 이용한 압축 기능 (균이님)
http://opencode.co.kr/bbs/board.php?bo_table=php_tips&wr_id=117
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=24530
head.sub.php
  
- 유니크로 게시판 답글에 전화번호
skin/board/cheditor_unicro_flea/write.skin.php
 
- 4.32.10 (10.09.07) 
    :  아이디/패스워드 찾기 코드 보완 (보안서버 적용 등) 
        기존에 사용하던 password_forget 을 더 이상 사용하지 않으며 password_lost 로 대체합니다. 
        회원가입시 패스워드 분실시 질문, 답변을 더 이상 입력 받지 않습니다. 
    
bbs/password_lost.php 
bbs/password_lost2.php 
bbs/password_lost_certify.php 
js/common.js                                : function win_password_lost() 추가 
 
- 4.32.09 (10.09.07) 
    :  게시판에서 \ 를 검색할 수 있도록 수정 (애나양님께서 알려주셨습니다.) 
lib/common.lib.php                          : $search_text = trim(stripslashes($search_text)); 로 변경 
skin/board/basic/list.skin.php              : value='<?=stripslashes($stx)?>' 로 변경 
 
- 4.32.08 (10.08.25) 
    :  url_auto_link() 함수 코드 보완 
lib/common.lib.php
 
- 시하님의 관리자스킨 ( http://sir.co.kr/bbs/board.php?bo_table=g4_skin&wr_id=110759 )
adm/admin.head.php
adm/admin.tail.php
adm/adm.style.css
adm/adm.style7.css
adm/side.calendar.php
adm/images/*
adm/psd/*
js/clock.js
js/jquery-ui.min.js
js/js.js
skin/member/basic/calendar2.skin.php


1.0.80 (2010년.8월.30일)

4.32.07의 경우 common.php, bbs/write.php만 수정 했습니다.
jQuery 달력이 편하기는 하지만, 부담이 되어서 적용 안했습니다.
아직은 모양이 그래도 php 달력이 실제 더 편해요. 
 
---
관리자님께서 filter 적용방식을 바꾸는 바람에, 파일의 수정이 꽤 될 겁니다. ㅠㅠ...
오류가 있으면 알려주세요.
 
cheditor4 및 그누4 업글(2번) + 자잘한 패치 입니다.
 
---
 
HISTORY
common.php
 
adm/board_copy_update.php 
 
bbs/ajax.filter.php (게시판별로 이거를 넣으면 이후에 수정/관리가 불가능해집니다)
bbs/download.php
bbs/memo.php 
bbs/memo2_form_cancel.php 
bbs/register_form.php
bbs/view_comment.php
bbs/write.php
bbs/write_id.php
bbs/zip.db
 
 
cheditor4/cheditor.js
cheditor4/comment.js
cheditor4/imageUpload/upload.php
 

lib/view.skin.lib.php

 
skin/board/cheditor/view.skin.php
skin/board/cheditor_unicro_flea/view.skin.php
 
skin/board/*/view_comment.skin.php (모든 게시판의 해당 파일을 바꿔야 합니다)
skin/board/*/write.skin.php (모든 게시판의 해당 파일을 바꿔야 합니다)
 
skin/member/basic/jquery.ajax_register_form.js
skin/member/basic/register.skin.php
skin/member/basic/register_form.skin.php
 

 
- 그누보드 4.32.07 업그레이드
common.php
bbs/write.php 
 
- cheditor4에서 업로드 하는 파일의 권한을 0606으로 (그누4와 같이)
cheditor4/imageUpload/upload.php
 
- 그누보드 4.32.06 업그레이드
common.php
bbs/ajax.filter.php

- ajax.filter.php를 기존 스킨과 같이 쓰기 위한 팁
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=24202
bbs/view_comment.php
bbs/write.php
 
- 그누보드 4.32.05 업그레이드
HISTORY 
adm/board_copy_update.php 
bbs/ajax.filter.php (게시판별로 이거를 넣으면 이후에 수정/관리가 불가능해집니다)
bbs/view_comment.php
bbs/write.php
bbs/zip.db
skin/board/*/view_comment.skin.php
skin/board/*/write.skin.php
 
- cheditor 5.04 업데이트
cheditor4/cheditor.js
cheditor4/comment.js
cheditor4/imageUpload/upload.php 
 
- 회원검색에서 아이디 부분을 3개까지만 보이게
bbs/write_id.php 
 
- 회원의 다운로드만 내역을 남기도록 수정
bbs/download.php
 
- 회원가입동의 요건 최근 실정에 맞게 수정
bbs/register_form.php
skin/member/basic/register.skin.php
 
- 회원가입 form 오류 수정 http://bit.ly/aDo9um
skin/member/basic/jquery.ajax_register_form.js
skin/member/basic/register_form.skin.php
 
- 쪽지4 - 4.0.27
bbs/memo.php 
bbs/memo2_form_cancel.php 
 
- 첨부이미지 제한 코드오류 수정
skin/board/cheditor/view.skin.php
skin/board/cheditor_unicro_flea/view.skin.php
 
- css image resize code 삭제 (이미지 보기에서 특정 브라우져에서 문제가 생김)
lib/view.skin.lib.php


1.0.79 (2010년.7월.06일)

cheditor를 수정해서, 
업로드시에도 용량체크가 가능하게 한 이후에 정식을 올리려고 했는데,
cheditor 개발자님께서 작업이 언제 끝날지 예측이 안되므로 현재상황에서 올립니다.
 
이번에는 그누4 버젼업과 db수정이 모두 다 있습니다.
불당팩 업그레이드를 해주세요. 
---
처음 업로드 이후 수정된 프로그램 (아직 업로드 안했어요)
 
skin/board/cheditor/view.skin.php
skin/board/cheditor_unicro_flea/view.skin.php 
---
 
// view를 할 때, 이미지 정보를 가지올 것인지 여부 (view.skin.php에서)
ALTER TABLE `g4_board` ADD `bo_image_info` TINYINT( 4 ) NOT NULL 
 
// view를 할 때, 이미지 정보로 보여질 것인지 여부를 설정 (view.skin.php에서)
ALTER TABLE `g4_board` ADD `bo_image_max_size` INT( 11 ) NOT NULL 
---
 
HISTORY
HISTORY_BD
 
config.php
gchat.php
 
adm/board_form.php
adm/board_form_update.php
adm/member_form_update.php
adm/member_list_update.php
adm/upgrade_bd.php
 
bbs/download.php
bbs/list.php 
bbs/view.php 
 
install/sql_opencode.sql
 
lib/b4.lib.php
lib/common.lib.php 
 
modules/join_suggest.php
 
skin/board/cheditor/view.skin.php
skin/board/cheditor_unicro_flea/view.skin.php 
 
skin/member/basic/login.skin.php 
skin/member/basic/login_check.skin.php
skin/member/basic/register_update.skin.php
 
skin/outlogin/basic/outlogin.skin.1.php
 
 
 
- 첨부이미지 용량이 일정 한도를 초과하면, 이미지를 출력하지 않음 (2개 스킨만 적용)
adm/board_form.php
adm/board_form_update.php
skin/board/cheditor/view.skin.php
skin/board/cheditor_unicro_flea/view.skin.php 
 
- 그누보드4 업그레이드 - 4.32.04
bbs/download.php
bbs/list.php 
bbs/view.php 
lib/common.lib.php 
skin/member/basic/login.skin.php 
skin/outlogin/basic/outlogin.skin.1.php
 
- gagalive 채팅방 샘플추가 (사이트 title로 채팅방을 생성)
gchat.php
 
- unicro 관련 설정의 위치오류
config.php
 
- resize의 $water_mark 변수오류
lib/b4.lib.php
 
- 추천+인증 가입시 추천 DB 업데이트 안되는 오류 수정
skin/member/basic/register_update.skin.php
 
- 레벨업 프로그램 오류 (수정했는데, 또 실수를...ㅠ.ㅠ...)
skin/member/basic/login_check.skin.php
 
- 추천가입 프로그램 오류 (엉뚱한 db 필드 사용)
modules/join_suggest.php
 
- 관리자 회원레벨 수정시 테이블에 반영안되는 오류 (g4_member에서만 업데이트가 되네요 ㅠㅠ...)
adm/member_form_update.php
adm/member_list_update.php


1.0.78 (2010년.6월.22일)

무려 1년 반을 미룬 사이트 업글을 단행했습니다. 
이제부터 자잘한 버그 마무리 수정 하겠습니다.
 
그런데, 생각보다 잔 버그들이 너무 많습니다. ㅠㅠ...
 
지난번 휴지통은 심각한 버그가 있었습니다.
답글을 삭제하는데, 원글 뭉치가 모두 다 이동해 버린거에요.
대충 짜집기 한거의 처절한 종말이었습니다.
---
 
HISTORY_BD
 
adm/admin.tail.php
adm/board_form.php
adm/recycle_list.php
adm/recycle_recover.inc.php
adm/upgrade_bd.php
 
bbs/board.php
bbs/category_form.php
bbs/current_connect.php
bbs/delete.php
bbs/move2_update.php 
bbs/new.php
bbs/poll_form.php
bbs/poll_result.php
bbs/profile.php 
bbs/recycle_list.php
bbs/singo_member.php
bbs/view_comment.php
bbs/write.php 
 
cheditor4/comment.js
 
lib/icode.sms.lib.php
 
modules/join_suggest.php
modules/hp_certify_suggest.php
modules/point_ranking.php
 
skin/board/*/view.skin.php (모든 view.skin.php를 수정해야 합니다)
 
skin/member/basic/login_check.skin.php
 
 
 
- 휴지통 기능오류 (답글을 지우는데 원글이 지워진다...ㅠ..ㅠ..)
adm/recycle_list.php
adm/recycle_recover.inc.php
bbs/delete.php
bbs/move2_update.php 
bbs/recycle_list.php
 
- 업그레이드 script에서 user_group 관련 SQL 부분이 모두 누락되어 있슴. ㅠ..ㅠ...
adm/upgrade_bd.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=252 
 
- gr_use_search가 업글 필드에서 누락되어 있슴
adm/upgrade_bd.php
 
- 회원레벨업 코드 오류
skin/member/basic/login_check.skin.php
 
- 아파치에서 쉽게 캐슁되게 text/javascript 형태로 수정 (트래픽이 줄고 속도가 팍~ 튀어 갑니다)
adm/admin.tail.php
adm/board_form.php
bbs/board.php
bbs/category_form.php
bbs/current_connect.php
bbs/new.php
bbs/poll_form.php
bbs/poll_result.php
bbs/profile.php 
bbs/singo_member.php
bbs/view_comment.php
bbs/write.php 
modules/point_ranking.php
 
- 휴지통 복구 권한 오류
adm/recycle_recover.inc.php
 
- sms 추천 및 인증
lib/icode.sms.lib.php
modules/join_suggest.php
modules/hp_certify_suggest.php
 
- 게시글속의 link target을 모두 일괄적으로 조정해주기
skin/board/*/view.skin.php (모든 view.skin.php를 수정해야 합니다)
 
- comment.js의 보여지는 메뉴숫자 조정 (쪽지4에서 이상해서)
cheditor4/comment.js


1.0.77 (2010년.6월.16일)

사용자들이 휴지통을 관리할 수 있는 기능을 추가했습니다.
휴지통으로 지정된 게시판은 목록부터 조회까지 모두 권한 10으로 설정 하시면 됩니다.
 
HISTORY_BD
 
adm/recycle_view.php
adm/recycle_recover.php
adm/recycle_recover.inc.php
bbs/recycle_list.php
bbs/recycle_recover.php
bbs/recycle_view.php

 
skin/member/register.skin.php
skin/member/register_form.skin.php
 
 
 
- 수정코드 누락 ..ㅠ..ㅠ.. (바다님)
skin/member/register.skin.php
skin/member/register_form.skin.php
 
- 사용자별 휴지통 관리기능 ( http://www.opencode.co.kr/bbs/recycle_list.php ) 
adm/recycle_view.php
adm/recycle_recover.php
adm/recycle_recover.inc.php    
bbs/recycle_list.php
bbs/recycle_recover.php
bbs/recycle_view.php


1.0.76 (2010년.6월.15일)

추천+인증을 통해서만 가입을 하기 위해서 config.php에 아래의 필드를 추가 (막힌 커뮤니티)
$config['member_suggest_join']  = 1;
 
회원레벨업/레벨다운 코드에 문제가 있어서, 수정을 했습니다. 왜 이걸 몰랐을까요? ㅠ..ㅠ...
===
 
config.php
 
adm/upgrade_bd.php
bbs/register_form.php
install/sql_opencode.sql
 
skin/member/basic/login_check.skin.php
skin/member/register.skin.php
skin/member/register_form.skin.php
 
 
- 자동레벨업 스크립트 오류
skin/member/basic/login_check.skin.php
 
- 추천+인증으로 가입
config.php
bbs/register_form.php
skin/member/register.skin.php
skin/member/register_form.skin.php
 
- 누락된 업글 script 보완
adm/upgrade_bd.php
install/sql_opencode.sql


1.0.75 (2010년.6월.11일)

adm/b4_upgrade.php
config.php
lib/common.lib.php
zmSpamFree/zmspamfree/js
 
 
 
- 업그레이드 script 보완 
adm/b4_upgrade.php
 
- gblog를 사용하는 것으로 된 기본 설정을 변경 (1 -> 0으로)
config.php
 
- zmSpamFree 입력창에 focus가 이동하는거 (수정했는데, 파일에 반영이 안되었네요)
zmSpamFree/zmspamfree/js
 
- get_member 함수에서 그룹명 가지고 오는 것을 별도의 SQL로 분리 (기존은 left join)
lib/common.lib.php


1.0.74 (2010년.6월.10일)

웹편집기를 쓰다가 일반 편집기로 갈 때의 문제를 상당부분 해결 했습니다.
물론 완벽하다고는 생각하지 않습니다. ㅠ..ㅠ...
 
ALTER TABLE `g4_board` ADD `bo_use_dhtml_comment` TINYINT( 4 ) NOT NULL 
 
1.0.74 버젼은 전반적인 코드정리의 기회를 가지겠으며, 
cheditor 5.0.4 버젼업 이후에 불당팩의 1.0.x를 마무리 하겠습니다.
 
bit.ly 단축도메인을 보여주기 위한 api key 얻는 방법은 아주 쉽습니다.
http://opencode.co.kr/bbs/board.php?bo_table=jquery_tips&wr_id=56
---
 
_head.php
common.php
config.php
head.sub.php
 
adm/admin.head.php
adm/board_form.php
adm/board_form_update.php
adm/upgrade_bd.php
 
bbs/g4_bitly_update.php
bbs/view_comment.php
 
cheditor4/imageUpload/config.php
 
install/sql_opencode.sql
 
js/b4.common.js
 
lib/b4.lib.php
 
skin/board/*/view.skin.php (모든게시판 스킨의 view.skin.php를 수정해야 함)
skin/board/*/view_comment.skin.php (모든게시판 스킨의 view_comment.skin.php를 수정해야 함)
 
image.php (삭제. 테스트 파일)
js/bd.js (삭제. 안쓰는 것임)
js/jquery-1.4.1.min.js (삭제. 안쓰는 것임)
js/jquery_js_1.3.2 (삭제. 안쓰는 것임)
lib/pop3.php  (삭제. 안쓰는 것임)
lib/nextline.lib.php  (삭제. 안쓰는 것임)
 
 
- gblog 보내기 기능 추가 (view.skin.php에)
skin/board/*/view.skin.php (모든게시판 스킨의 view.skin.php를 수정해야 함)
 
-bit.ly 단축주소 생성하기 (게시판 테이블에 bitly_url이라고 필드를 추가 합니다)
config.php 
head.sub.php
bbs/g4_bitly_update.php
js/b4.common.js
skin/board/*/view.skin.php (모든게시판 스킨의 view.skin.php를 수정해야 함)
 
- 파일정리
common.php
config.php
head.sub.php
image.php (삭제. 테스트 파일)
js/bd.js (삭제. 안쓰는 것임)
jquery-1.4.1.min.js (삭제. 안쓰는 것임)
js/jquery_js_1.3.2 (삭제. 안쓰는 것임)
lib/pop3.php  (삭제. 안쓰는 것임)
lib/nextline.lib.php  (삭제. 안쓰는 것임)
 
- 기본 dtd를 변경 (4.01 transitional loose로)
head.sub.php 
 
-  안쓰는 uncro_id 관련 코드 삭제
_head.php 
 
- cheditor4 5.03 경로 오류 (브러운아이)
cheditor4/imageUpload/config.php
 
- 게시판 설정에 코멘트 DHTML 사용필드 추가 (간단하게 제어를 할 수 있게+버그수정)
adm/board_form.php
adm/board_form_update.php
bbs/view_comment.php
lib/b4.lib.php
skin/board/*/view_comment.skin.php (모든게시판 스킨의 view_comment.skin.php를 수정해야 함)
 
- style 오류
adm/admin.head.php


1.0.73 (2010년.6월.7일)

최종 배포판은 테스트요청 2번째 버젼에서 몇개를 더 수정 했습니다.
 
- 처음 페이지 로딩시 focus가 캡차 입력창으로 이동하는 문제 수정
zmSpamFree/zmspamfree.js
 
-------------------------
새로운 jQuery zmSpamFree 캡챠를 적용했습니다.
모든거를 다 수정하지는 못했을 수 있으므로, 테스트를 부탁드려요.
 
zmSpamFree의 jQuery 버젼은 모든 웨브라우져에서 문제가 없습니다.
그리고 추가로 몇개 더 수정을 했어요.
-------------------------
 
adm/admin.lib.php
adm/config_form.php
adm/member_form.php
 
adm/sms_admin/config.php
 
bbs/email_re_certify.php
bbs/mb_leave.php
 
cheditor4/comment.js
 
skin/board/*/write.skin.php (모든 게시판 스킨의 해당 파일을 바꿔야 한다는 의미 입니다) 
skin/board/*/view_comment.skin.php
 
skin/member/basic/formmail.skin.php
skin/member/basic/password_forget2.skin.php
skin/member/basic/register_fom.skin.php
 
skin/poll/basic/poll_result.skin.php
 
zmSpamFree/zmspamfree.js
 
 
 
- 스킨경로는 glob로 수정 (해외 호스팅에서 디렉토리 못찾는거 때문에)
adm/admin.lib.php
 
- 사용자그룹 선택 firefox에서 오류 (72버젼에서 수정이 안되었네요 ㅠㅠ...)
adm/member_form.php
 
- zmSpamFree 캡챠 개선
adm/config_form.php
adm/sms_admin/config.php
 
bbs/email_re_certify.php
bbs/mb_leave.php
 
skin/board/*/write.skin.php (모든 게시판 스킨의 해당 파일을 바꿔야 한다는 의미 입니다) 
skin/board/*/view_comment.skin.php
 
skin/member/basic/formmail.skin.php
skin/member/basic/password_forget2.skin.php
skin/member/basic/register_fom.skin.php
 
skin/poll/basic/poll_result.skin.php
 
zmSpamFree/zmspamfree.js
 
- 가짜(임시) comment.js (cheditor.js를 이름만 바꾸고 조금 수정한거임)
cheditor4/comment.js
 
---------------------
(1)
zmSpamFree 캡챠가 편하고 다 좋은데, 가끔 잘 안되는 경우가 있었어요.
그런 문제를 해결 하기 위해서, java script를 jQuery 코드로 변경했고
zmSpamFree 캡챠 사용이 더 쉬워졌습니다.
이보다 더 쉽게 캡챠 넣는 방법 이씀 나와보라구 하샴. ㅋㅋ
 
(수정후)
<tr class='ht'>
    <td>
    <img id="zsfImg">
    </td>
    <td colspan=3>
        <input class='ed' type=input size=10 name=wr_key id=wr_key itemname="자동등록방지" required>&nbsp;&nbsp;왼쪽의 글자를 입력하세요.
    </td>
</tr>

 
<script type="text/javascript" src="<?="$g4[path]/zmSpamFree/zmspamfree.js"?>"></script>
<script language="javascript">
function fconfigform_submit(f)
{
    if (typeof(f.wr_key) != 'undefined') {
        if (!checkFrm()) {
          alert ("스팸방지코드(Captcha Code)가 틀렸습니다. 다시 입력해 주세요.");
            return false;
        }
    }
 
    f.action = "./config_update.php";
    return true;
}
</script>


1.0.72 (2010년.6월.3일)

cheditor4를 5.03 업데이트 합니다.
기존 4.2.x 버젼보다 많이 좋아졌어요.
문제는 comment.js가 없다는 것 입니다.
 
코멘트에 웹편집기를 쓰시는 경우 
view_comment.skin.php에서 comment.js를 cheditor.js로 바꿔야 합니다.
 
---
HISTORY
HISTORY_BD
 
adm/admin.lib.php 
admin/board_copy_update.php
adm/mail_select_list.php 

adm/member_form.php
 
bbs/move2_update.php
bbs/rss.php
bbs/write.php 
 
cheditor4/* 
 
lib/b4.lib.php 
lib/cheditor4.lib.php
lib/thumb.lib.php
 
skin/board/print_contents.cheditor.js
 
 
- 신고된 게시글은 rss.php에서 내용을 출력하지 않습니다.
bbs/rss.php
 
- implode_wrapped 함수추가
lib/b4.lib.php 
 
- 회원정보 삭제 항목 추가 (실제로 삭제하려면 adm/admin.lib.php에서 관련 코멘트 풀어야 함)
adm/admin.lib.php
 
- 휴지통 권한체크 오류
bbs/move2_update.php
 
- cheditor 5.02 업데이트
cheditor4/* (모든파일)
lib/cheditor4.lib.php
 
- 사용자그룹 선택 firefox에서 오류
adm/member_form.php
 
- 게시글출력 스크립트 보안강화
skin/board/print_contents.cheditor.js
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_qna&wr_id=628
 
- 게시판 정렬 (20건 단위로 목록이 refresh 되게)
adm/board_sort.php
 
- resize 함수를 개별로 쓸때 함수중복 오류
lib/b4.lib.php
 
- (관리자) 테이블 복사 오류
admin/board_copy_update.php
 
- 불당썸의 기본 해상도를 90으로 변경 (이게 가장 용량이 작아요)
lib/thumb.lib.php
 
- 그누보드 4.32.03 버젼업
adm/mail_select_list.php 
bbs/write.php 
 
불당팩은 kcaptcha를 안쓰기 때문에 아래 파일은 수정사항이 없습니다.
skin/board/basic/view_comment.skin.php


1.0.71 (02/may/2010)

이번 버젼에는 쪽지4 업그레이드가 있습니다. 
쪽지4의 unread 쪽지 갯수를 매 refresh마다 계산하지 않고 필요할 때마다 하게 한 것인데
속도 개선 효과가 상당한 것 같습니다.
 
쪽지4 관련 코드를 업글 하신 후, 
반드시 /adm/db_memo4_unread_upgrade.php 를 수행해야 합니다.
 
db의 변경은 아래와 같은데, /adm/db_memo4_unread_upgrade.php 에도 들어 있어요.
ALTER TABLE `g4_member` ADD `mb_memo_unread` INT( 11 ) NOT NULL ; 

====
 
  /config.php
  /head.sub.php
  /head.sub.php
 
  /adm/db_memo4_unread_upgrade.php 
  /adm/memo4.sql 
  /adm/upgrade_bd.php

  /bbs/memo.php 
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_recover.php 
  /bbs/memo2_form_update.php 
  /bbs/poll_result.php
 
  /install/sql_opencode.sql
 
  /skin/connect/basic/connect.skin.php
  /skin/latest/simple/latest.skin.php
  /skin/poll/basic/poll.skin.php
  /skin/poll/basic/poll_result.skin.php
  /skin/visit/basic/visit.skin.php 
 
- 쪽지4 업그레이드 (4.0.26)
  /adm/db_memo4_unread_upgrade.php 
  /adm/memo4.sql 
  /adm/upgrade_bd.php
  /bbs/memo.php 
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_recover.php 
  /bbs/memo2_form_update.php 
  /install/sql_opencode.sql
 
- 투표요약에 html autolink 등이 가능하게
  /bbs/poll_result.php
 
- 현재방문자 style 수정
  /skin/visit/basic/visit.skin.php
 
- 현재접속자 style 수정
  /skin/connect/basic/connect.skin.php
 
- 투표스킨 style 수정 
  /skin/poll/basic/poll.skin.php
  /skin/poll/basic/poll_result.skin.php
 
- 최신글 skin style 오류 수정
  /skin/latest/simple/latest.skin.php
 
- 설정에 $g4[css_path] 추가 (css는 하나의 디렉토리에)
  /config.php
 
- xmlns="http://www.w3.org/1999/xhtml" 속성추가
  /head.sub.php
 
- 웹표준 개발자를 위한 ie8 대응 추가
  http://naradesign.net/wp/2009/03/12/670/
  /head.sub.php


1.0.70 (19/april/2010)

/lib/b4.lib.php
 
skin/board/cheditor/view.skin.php
 
skin/member/basic/member_confirm.skin.php
skin/member/basic/register.skin.php
skin/member/basic/password_forget.php
skin/member/basic/password_forget2.php
 
 
- resize_dica 코드적용 (샘플로 cheditor 스킨에만 적용)
skin/board/cheditor/view.skin.php
 
- 보안서버 관련 업데이트 (kisa의 지적을 완벽 통과...ㅠ..ㅠ...)
skin/member/basic/member_confirm.skin.php
skin/member/basic/register.skin.php
skin/member/basic/password_forget.php
skin/member/basic/password_forget2.php
 
- 불당 resize 1.0.14
/lib/b4.lib.php
 
- db 캐슁 기능 (신규)
/lib/b4.lib.php


1.0.69 (06/april/2010)

불당팩은 kcaptcha가 아닌 spamfree captcha를 써서 업글할 사항은 많지안네요.
최근 튜닝 알바를 하면서, 일부 부분의 튜닝을 몇개 더 보완했습니다.

db 업글은 안해도 큰 상관은 없지만, 하면 조금 더 빨라질 수 있습니다.

---
ALTER TABLE `g4_board_good` ADD INDEX `bg_flag` ( `bg_flag` ) 
ALTER TABLE `g4_board_file_download` ADD `gr_id` VARCHAR( 20 ) NOT NULL 
ALTER TABLE `g4_board_file_download` ADD INDEX `gr_id` ( `gr_id` ) 
ALTER TABLE `g4_board_file_download` ADD INDEX `dn_datetime` ( `dn_datetime` ) 
ALTER TABLE `g4_my_menu` ADD INDEX `mb_id2` ( `mb_id` ) 
ALTER TABLE `g4_scrap` ADD INDEX `bo_table` ( `bo_table` ) 
ALTER TABLE `g4_singo` ADD INDEX `mb_id` ( `mb_id` ) 
 
---
/adm/board_form.php
/adm/board_form_update.php
/adm/member_form_update.php
 
/bbs/download.php
/bbs/zip.db
 
/lib/b4.lib.php
/lib/latest.download.lib.php
 
/skin/latest/simple/latest.skin.php
 
/skin/member/basic/ajax_register_form.js
 
/zmSpamFree/zsfCfg.php
/zmSpamFree/zmSpamFree.php
 
 
 
- zmSpamFree 캐차에 한글출력이 가능하게 수정
/zmSpamFree/zsfCfg.php
/zmSpamFree/zmSpamFree.php
 
- 불당 resize 업글
/lib/b4.lib.php
 
- 최신글 스킨에서 new 아이콘이 보이게 (현재는 안보임)
/skin/latest/simple/latest.skin.php
 
- 그누보드 4.32.02 업글
/adm/member_form_update.php
 
- 그누보드 4.32.01 업글
/adm/board_form.php
/bbs/zip.db
/skin/member/basic/ajax_register_form.js
 
- 다운로드 최신글
/adm/board_form_update.php
/bbs/download.php
/lib/latest.download.lib.php
 
- 한줄공지 골라내기 위한 함수추가 (one_line_notice)
/lib/b4.lib.php


1.0.68 (09/March/2010)

/.htaccess
/.htaccess_bak
 
/adm/board_form.php
 
/bbs/memo.php 
/bbs/memo2_form_update.php
 
/js/jquery.js
 
/lib/b4.lib.php
/lib/connect.lib.php
 
/skin/member/basic/register_form.skin.php
 
 
- filefox에서 회원가입 form 오류 (onkeyup을 onblur로 변경)
/skin/member/basic/register_form.skin.php
 
- latest_replace 함수추가
/lib/b4.lib.php
 
- 쪽지4 - 4.0.25
/bbs/memo.php
/bbs/memo2_form_update.php
 
- dbconfig.php 파일 보안
/.htaccess
/.htaccess_bak
 
- jquery 1.4.2 업글
/js/jquery.js
 
- 게시판정렬에 랜덤 추가
/adm/board_form.php
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=22813
 
- strip_only 함수추가
/lib/b4.lib.php
 
- 게시판 정보수정에서 그룹 gr_use_access=0이면 게시판의 bo_use_access=0으로
/adm/board_form.php
 
- connect.lib.php 튜닝 (튜닝 결과를 기다리는 중)
/lib/connect.lib.php


1.0.67 (12/Feb/2010)

http://sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=4799
4.31.15 (2010.02.08) 
    :  회원삭제시 주민등록번호도 공란으로 수정 
        function member_delete($mb_id) { ... mb_jumin = '', ... 
    :  접속자현황 OS에 Windows7 추가 (Justin님께서 알려주셨습니다.) 
    :  POSIX Regex 함수 제거 ( ereg_replace, ereg, eregi_replace, eregi, split, spliti, sql_regcase ) 
        이 기능은 PHP 5.3.0 부터 배제되고 PHP 6.0.0 부터 제거됩니다. 이 기능에 의존하지 않기를 권합니다. 
    :  기본시간대를 설정 PHP 5.1 부터 가능 date_default_timezone_set() 
    :  2009년 제4차 우편번호 변경내역 (2009.12.16.자 : 50,742건) http://www.zipfinder.co.kr 
 
 
 
/common.php (comment typo 오류)
/config.php (date_default_timezone_set)
/HISTORY (이거는 버젼업 할때마다 무조건 알아서 cp)
/HISTORY_BD (이거는 버젼업 할때마다 무조건 알아서 cp)

/adm/admin.lib.php
/adm/board_copy_update.php
/adm/board_form.php
/adm/board_form_update.php
/adm/boardgroup_form_update.php
/adm/g4_info.php
/adm/mail_select_update.php
/adm/member_form_update.php
/adm/member_list_update.php
 
/bbs/download.php
/bbs/list.php
/bbs/password_check.php ($qstr에 $sop 추가) 
/bbs/zip.db
 
/cheditor4/imageupload-class.php (cheditor 4.3.6 이후에는 이 파일이 없습니다)
 
/js/common.js (del 함수 변경)
 
/lib/common.lib.php
/lib/mailer.lib.php
/lib/visit.lib.php
 

- 그누보드 4.31.15 업그레이드
/common.php (comment typo 오류)
/config.php (date_default_timezone_set)
/HISTORY (이거는 버젼업 할때마다 무조건 알아서 cp)
/adm/admin.lib.php
/adm/board_copy_update.php
/adm/board_form.php
/adm/board_form_update.php
/adm/boardgroup_form_update.php
/adm/mail_select_update.php
/adm/member_form_update.php
/adm/member_list_update.php
/bbs/download.php
/bbs/list.php
/bbs/password_check.php ($qstr에 $sop 추가) 
/bbs/zip.db
/cheditor4/imageupload-class.php (cheditor 4.3.6 이후에는 이 파일이 없습니다)
/js/common.js (del 함수 변경)
/lib/common.lib.php
/lib/mailer.lib.php
/lib/visit.lib.php
 
- g4_info.php 1.0.7 (디폴트 타임존이 보이게. 5.1 이상에서)
/adm/g4_info.php 


1.0.66 (08/Feb/2010)

1.0.66 버젼에서는 신고기능 강화를 위한 db 수정이 있습니다.
불당팩 업그레이디를 해주세요.
 
ALTER TABLE `g4_singo` ADD `sg_notes` VARCHAR( 255 ) NOT NULL ;
---
 
신고게시글을 삭제하면 신고 history도 삭제되는 문제가 있습니다.
 
이렇게 한 것은 신고된 게시글을 삭제하게 유도하기 위해서 였습니다.
그런데, 이것을 악용하는 경우가 생길 수 있다는 것은 생각도 못했어요.
글쓰고 신고당하면 지우고, 신고 기록 없어졌으니 다시 쓰고... ㅠ..ㅠ...
 
해당 게시판에 휴지통 기능이 설정되어 있다면, 이것은 문제가 아닙니다.
삭제된 정보가 그대로 이전이 되니까요.
문제는 휴지통 기능이 설정되지 않은 게시판 입니다.
 
ALTER TABLE `g4_singo` ADD `sg_notes` VARCHAR( 255 ) NOT NULL ;
 
sg_notes 필드를 추가해서, 신고글 삭제를 하면 이곳에 삭제자와 일시,
그리고 사유를 적어두기로 하겠습니다.
 
------
  
/admin/admin.menu100.php
/adm/optimize.php
/adm/singo_list.php
/adm/upgrade_bd.php
 
/bbs/delete.php
/bbs/write.php
 
/install/install_config.php
/install/sql_opencode.sql
 
/lib/common.lib.php
/lib/write.lib.php 
 
 
- 패스워드 기본 설정 변경 (별거는 아니지만, 로그인이 안되었을 겁니다)
/lib/common.lib.php
 
- 최고관리자 아이디에 숫자가 있을 때, 설치시 문제? (환멸삼매oc님)
/install/install_config.php
 
- db 최적화 메뉴 추가 ( http://opencode.co.kr/bbs/board.php?bo_table=gnu4_tips&wr_id=541 )
/admin/admin.menu100.php
/adm/optimize.php
 
- 신고기능 개선
/adm/singo_list.php
/adm/upgrade_bd.php
/bbs/delete.php
/bbs/write.php
/install/sql_opencode.sql
/lib/write.lib.php


1.0.65 (02/Feb/2010)

/common.php

/adm/board_form.php
 
/bbs/password_forget2.php
/bbs/password_forget3.php
/bbs/view_comment.php
/bbs/calendar/2010.txt
 
/lib/b4.lib.php
 
/skin/member/basic/password_forget.skin.php
/skin/member/basic/password_forget2.skin.php
/skin/member/basic/password_forget3.skin.php


- category가 너무 많을 때의 오류
/adm/board_form.php 
 
- 한글분류명 오류 (꽈배기님)
/common.php
 
- 비밀번호 찾기에 이메일로 보내는 기능 추가
/bbs/password_forget2.php
/bbs/password_forget3.php

/lib/b4.lib.php
/skin/member/basic/password_forget.skin.php
/skin/member/basic/password_forget2.skin.php
 
- 바이러스가 먹었네요 ㅠ..ㅠ...
/skin/member/basic/password_forget3.skin.php
 
- 2010년 달력
/bbs/calendar/2010.txt
 
- 코멘트 비밀글을 mysql query 방식으로 수정 (테스트중)
/bbs/view_comment.php


1.0.64 (29/Jan/2010)

db가 변경되었기 때문에 불당팩 업글 메뉴를 실행해야 합니다.
물론 실행하기전에 코드를 먼저 업글해야합니다.
 
---
곰순이푸님의 휴지통 프로그램의 도움으로 휴지통을 만들었습니다.
현재는 관리자만 복구하는게 가능 합니다.
사용자의 복구기능 부여 여부는 조금 더 생각을 해봐야 하구요.
 
영구삭제 기능은 아직 넣지 않았구요.
 
기능이 좀 많이 복잡하므로, 관리자 side에서 테스트와 버그 fix가 필요합니다.
여력이 되시는 분들의 테스트 부탁드립니다.
 
이 기능의 목적은 장터게시판 등에서 게시글을 임의로 지우는 불량 사용자들에
대한 대처가 목적 입니다. 공구글을 올리고, 불리하면 지우는 사람들이 꽤 되죠.
 
관리자가 삭제된 글을 보면서, 모니터링 하고 때로는 복구도 해줄 수 있게 하는
것이 제가 만들게된 일차적인 목적 입니다.
 
---
 
휴지통기능의 추가로 db 변경이 있습니다. 
설치후 불당팩 업그레이드 또는 아래의 SQL을 수행하시기 바랍니다.
 
ALTER TABLE `g4_config` ADD `cf_use_recycle` TINYINT( 4 ) NOT NULL ,
ADD `cf_recycle_table` VARCHAR( 255 ) NOT NULL ;

ALTER TABLE `g4_config` ADD `cf_recycle_days` INT( 11 ) NOT NULL ;
 
ALTER TABLE `g4_board` ADD `bo_use_recycle` TINYINT( 4 ) NOT NULL ;
 
CREATE TABLE `g4_recycle` (
  `rc_no` int(11) NOT NULL auto_increment,
  `rc_mb_id` varchar(255) NOT NULL,
  `rc_bo_table` varchar(255) NOT NULL,
  `rc_wr_id` int(11) NOT NULL,
  `rc_wr_parent` int(11) NOT NULL,
  `rc_parent_mb_id` varchar(255) NOT NULL,
  `rc_delete` tinyint(4) NOT NULL,
  `mb_id` varchar(255) NOT NULL,
  `bo_table` varchar(255) NOT NULL,
  `wr_id` int(11) NOT NULL,
  `wr_is_comment` tinyint(4) NOT NULL,
  `bn_id` int(11) NOT NULL,
  `rc_datetime` datetime NOT NULL,
  PRIMARY KEY  (`rc_no`),
  KEY `mb_id` (`mb_id`),
  KEY `bo_table` (`bo_table`),
  KEY `wr_id` (`wr_id`),
  KEY `bn_id` (`bn_id`),
  KEY `wr_is_comment` (`wr_is_comment`),
  KEY `rc_delete` (`rc_delete`),
  KEY `recycle_table` (`rc_bo_table`)
)
 
휴지통의 경우 제어를 쉽게 하기위해서 recycle 그룹을 만들고
그 밑에 recycle 게시판을 만들면 좋습니다.
상황에 따라서 휴지통 게시판을 1개가 아니라 여러개 쓸 수도 있거든요.
 
휴지통에는 다수인의 게시글이 들어옵니다.
목록의 읽기 레벨을 낮게 해두면, 모든 사람들이 휴지통을 보게 됩니다.
휴지통의 읽기 레벨은 반드시 관리자와 같은 레벨 (10)으로 해주세요.
 
삭제기간이 지난 게시글은 삭제 mark를 합니다. 
이것은 불의의 사고(?)를 막기 위한 임시조치이고, 
테이블이 아주 커지면 완전 삭제를 하시면 됩니다.
 
복구된 글의 위치는 최신으로 했습니다.
이것은 삭제하고, 슬그머니 복구하는 것을 막기 위함 입니다.
 
휴지통 게시판은 사용중에 언제든 바꿀 수 있습니다.
recycle_2010, recycle_2011 이렇게 하면 편하겠죠?
 
---
 
/config.php
 
/adm/admin.menu300.php 
/adm/board_form.php
/adm/board_form_update.php
/adm/config_form.php
/adm/config_form_update.php 
/adm/recycle_list.php
/adm/recycle_list_delete.php
/adm/recycle_delete.php
/adm/recycle_recover.php
/adm/recycle_view.php
/adm/upgrade_bd.php
/adm/img/icon_recover.gif (물한모금님 협찬)
/adm/img/icon_admin.gif 
 
/bbs/delete.php
/bbs/move_update.php
/bbs/move2_update.php
 
/cheditor4_new/cheditor.js
 
/js/jquery.js
 
/install/sql_opencode.sql
 
/lib/b4.lib.php
/lib/write.skin.lib.php
 
 
- cheditor 4.3.6 버그수정
/cheditor4_new/cheditor.js
 
- jquery 1.4.1로 버젼업
/js/jquery.js
 
- 일별글쓰기 제한이 코멘트 쓰기 숫자도 포함하는 것 수정 (게시글 숫자로만 제한)
/lib/write.skin.lib.php
 
- get_board 함수추가
/lib/b4.lib.php
 
- 휴지통 (곰순이푸님의 협찬^^)
/config.php
/adm/admin.menu300.php
/adm/board_form.php
/adm/board_form_update.php
/adm/config_form.php
/adm/config_form_update.php 
/adm/recycle_list.php
/adm/recycle_list_delete.php
/adm/recycle_delete.php
/adm/recycle_recover.php
/adm/recycle_view.php
/adm/upgrade_bd.php
/adm/img/icon_admin.gif 
/adm/img/icon_recover.gif (물한모금님 협찬)
/bbs/delete.php
/bbs/move_update.php
/bbs/move2_update.php
/install/sql_opencode.sql


1.0.63 (25/Jan/2010)

/adm/board_form.php
/adm/version.php
/adm/version_bd.php
 
/bbs/board.php
 
/lib/thumb.lib.php
 
/skin/board/free_image3/list.skin.php
 
 
- 버젼보기에서 system 명령을 안쓰게 수정
/adm/version.php
/adm/version_bd.php
 
- 불당썸 2.0.21 (jpeg creation error, 곰순이푸님)
/lib/thumb.lib.php
 
- 갤러리 게시판 스킨 오류 (곰순이푸님)
/skin/board/free_image3/list.skin.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=1708
 
- 게시판 생성시 ca_name 오류 (곰순이푸님)
/adm/board_form.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=1705
 
- bo_read_level이 1일때, 읽기 포인트가 적용안되는 오류(?)
/bbs/board.php


1.0.62 (18/Jan/2010)

/adm/board_form.php
/adm/popular_list.php
 
/bbs/write_update.php

/lib/thumb.lib.php
 
/skin/board/cheditor/list.skin.php
 

- 불당썸 사소한 수정 (createThumb 함수가 있으면 정의 안하게)
/lib/thumb.lib.php
 
- 파일카운트 오류
/bbs/write_update.php
 
- 프로그램 오류
/adm/popular_list.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=1661
 
- 게시판 list 상단의 style 변경 (게시판 이름이 길 때 밑으로 흐르지 않게. 샘플로)
/skin/board/cheditor/list.skin.php
 
- 게시판 관리자에서 ca_name의 항목들이 보여지게 수정
/adm/board_form.php


1.0.61 (05/Jan/2010)

/adm/download_list.php
/adm/download_list_delete.php
 
/skin/member/basic/password_forget2.skin.php
 
/skin/board/*/view_comment.skin.php (모든 게시판 스킨의 해당파일은 수정)
 
 
- 패스워드 찾기 오류
/skin/member/basic/password_forget2.skin.php

- 다운로드 내역 오류
/adm/download_list.php
/adm/download_list_delete.php
 
- 코멘트 스킨에서 captcha ajax가 안되는 오류
/skin/board/*/view_comment.skin.php (모든 게시판 스킨의 해당파일을 수정)
229/238라인의 comment_write를 wr_content로 수정


1.0.60 (09/12/28)

아직 cheditor 4.3.6의 기능이 미비(?...comment.js가 코딩이 안되어서)해서 
cheditor4의 변경은 없이 cheditor4_new로 같이 배포를 합니다.

/config.php
/robots.txt

/adm/board_form.php
/adm/visit_list.php

/bbs/download.php
/bbs/password_forget3.php
/bbs/visit_insert.inc.php

/js/board.js

/lib/b4.lib.php
/lib/latest.lib.php

/skin/board/*/_common.php
/skin/member/basic/password_forget2.skin.php

- 파일이 없을 때, 파일 카운트는 수정이 안되어서..ㅠ..ㅠ...
/bbs/download.php

- 코멘트 쓰기권한을 11까지로 
10까지로 하면 관리자는 무조건 comment.js로 편집을 해야 하거든요. ㅠ..ㅠ...
/adm/board_form.php

- 최신글 가져올 때 확장 필드 가져오게
/lib/latest.lib.php

- 프로그램 경로 오류 
/skin/board/*/_common.php

- 프로그램 오류
/config.php

- cheditor 4.3.6 patch
/cheditor4_new/cheditor4.js
/cheditor4_new/popup/flash/CHXImage.swf
/cheditor4_new/popup/js/popup_imageUpload.js

- 아이디/비번찾기 오류 (채차. 프로그램)
/bbs/password_forget3.php
/skin/member/basic/password_forget2.skin.php

- 관리자 방문자/ 페이징 오류
/adm/visit_list.php

- 홈이네 - 컨텐츠 target
/js/board.js


- 불당썸 - 1.0.12

/lib/b4.lib.php



- robots.txt (로봇이 과도하게 긁는 것만 방어를 합니다. 서브 디렉토리 설치시에는 수정을 해줘야 되요)

/robots.txt



- visit_insert.inc.php 튜닝 취소 (sql query 2개가 1개보다 때로는 더 빠릅니다)

/bbs/visit_insert.inc.php


1.0.59 (09/12/14)

/adm/board_copy_update.php

/bbs/search.php

/lib/thumb.lib.php

/skin/board/*/list.skin.php (모든 게시판 스킨의 list.skin.php를 수정해야 합니다)


- 게시판 스킨의 오류 (카테고리 문제)
/skin/board/*/list.skin.php (모든 게시판 스킨의 list.skin.php를 수정해야 합니다)

- 불당썸 2.0.20 (이미지가 없을때 속도가 늦어지는 문제 개선)
/lib/thumb.lib.php

- 검색(search.php)에 head, tail 적용하기
/bbs/search.php

- 그누보드 버젼업 4.31.14 (이미 코드는 다 반영했는데, 언제 했는지는 저두 몰러여)

- 게시판 복사할 때, g4_board에는 정보가 없지만 실제로 파일이 있는 경우 오류처리
/adm/board_copy_update.php


1.0.58 (09/12/10)

제가 모처럼 불당팩으로 사이트 작업중입니다. 
개발하면서 오류가 보이는 부분은 차근차근 패치하겠습니다.

---
/company/service.html
/company/disclaimer.php
/company/privacy.php
/company/rejection.php
/company/service.php

/install/index.php
/install/install_db.php

/lib/write.skin.lib.php


- 크롬에서 설치시 버튼이 2번 눌러야 먹히는 오류
/install/index.php

- firefox에서 약관 등등 보기에 오류
/company/disclaimer.php
/company/privacy.php
/company/rejection.php
/company/service.php

- 일별 글쓰기 제한 때문에, 글 수정이 안되는 오류 수정 (아몬님)
/lib/write.skin.lib.php

- 기본약관 줄 띄어쓰기
/company/service.html

- 설치시 zmSpamFree log 디렉토리를 생성 안하는 오류 (쓰는데 상관은 없지만...)
/install/install_db.php


1.0.57 (09/12/09)

관리자 기능만 업데이트가 되었습니다.

---

/adm/admin.menu200.php
/adm/popular_list.php
/adm/popula_list_delete.php
/adm/ug_list.php
/adm/version.php
/adm/version_bd.php


- 인기검색어 관리
/adm/admin.menu200.php
/adm/popular_list.php
/adm/popula_list_delete.php

- 현재적용중인 불당팩 db의 버젼정보 보여주기
/adm/version.php
/adm/version_bd.php

- admin id 수정 (500 -> 600)
/adm/admin.menu200.php
/adm/ug_list.php


1.0.56 (09/12/08)

zmSpamFree 캐차는 지앤미님이 배포하는 것 입니다 ( http://spamfree.kr )

만일 캐차가 나타나지 않는다면 
data/Log, data/Log/Connect 디렉토리를 만들고 권한을 rwx---rwx로 주세요.
프로그램에서 권한 설정을 하게 했는데, 혹시 안되는 경우가 있을지도 모르니까요.

이번에는 수정사항이 많으므로 차근차근 하시기 바랍니다.
이후에는 더이상 캐차의 변경은 없을 것이고, 이런 대규모 수정도 드물겁니다.

그누보드는 캐차를 바꿀때마다 홍역을 치르는거 같아요.

캡차에 대한 개선 의견은 지엠스팸프리에 남겨주시면 됩니다.
---

불당팩 업글하기를 하시면 됩니다. 그러면 db가 필요한 만큼만 업글 됩니다.

---

ALTER TABLE `g4_board` ADD INDEX `gr_id` ( `gr_id` ) 
ALTER TABLE `g4_board` ADD INDEX `bo_use_search` ( `bo_use_search` ) 
ALTER TABLE `g4_board` ADD INDEX `bo_order_search` ( `bo_order_search` ) 
ALTER TABLE `g4_board_file` ADD INDEX `bo_table` ( `bo_table` )
ALTER TABLE `g4_board_file` ADD INDEX `wr_id` ( `wr_id` )
ALTER TABLE `g4_board_file` ADD INDEX `bf_no` ( `bf_no` ) 
ALTER TABLE `g4_board_file` ADD INDEX `bf_datetime` ( `bf_datetime` )
ALTER TABLE `g4_board_new` ADD INDEX `parent_mb_id` ( `parent_mb_id` )
ALTER TABLE `g4_group` ADD INDEX `gr_use_access` ( `gr_use_access` )
ALTER TABLE `g4_member` ADD INDEX `mb_open` ( `mb_open` ) 
---
/adm/config_form.php
/adm/config_form_update.php
/adm/sms_admin/config.php
/adm/sms_admin/config_update.php
/adm/upgrade_bd.php

/bbs/email_re_certify.php
/bbs/email_re_certify_update.php
/bbs/formmail_send.php
/bbs/mb_leave.php
/bbs/mb_leave_update.php
/bbs/memo.php
/bbs/password_forget3.php
/bbs/poll_etc_update.php
/bbs/register_form_update.php
/bbs/write_update.php
/bbs/write_comment_update.php

/install/sql_opencode.sql

/skin/board/*/write.skin.php (모든 쓰기 스킨의 변경 입니다)
/skin/board/*/view_comment.skin.php (모든 쓰기 스킨의 변경 입니다)

/skin/member/basic/formmail.skin.php
/skin/member/basic/password_forget2.skin.php
/skin/member/basic/register_form.skin.php

/skin/poll/basic/poll_result.skin.php

/zmSpamFree/*

/kcaptcha_tmp/* (kcaptcha 관련 파일들)
 

- 그누보드 튜닝 (0.001%라도 더 빠르게 하기 위해서 ㅋㅋ)
/adm/upgrade_bd.php
/install/sql_opencode.sql

- 쪽지4 - 4.0.23
/bbs/memo.php

- 캐차변경 (kcaptcha에서 zmSpamFree로)
/adm/config_form.php
/adm/config_form_update.php
/adm/sms_admin/config.php
/adm/sms_admin/config_update.php

/bbs/email_re_certify.php
/bbs/email_re_certify_update.php
/bbs/formmail_send.php
/bbs/mb_leave.php
/bbs/mb_leave_update.php
/bbs/password_forget3.php
/bbs/poll_etc_update.php
/bbs/register_form_update.php
/bbs/write_update.php
/bbs/write_comment_update.php

/skin/board/*/write.skin.php (모든 쓰기 스킨의 변경 입니다)
/skin/board/*/view_comment.skin.php (모든 쓰기 스킨의 변경 입니다)

/skin/member/basic/formmail.skin.php
/skin/member/basic/password_forget2.skin.php
/skin/member/basic/register_form.skin.php

/skin/poll/basic/poll_result.skin.php

/zmSpamFree/*

/kcaptcha_tmp/* (kcaptcha 관련 파일들)


1.0.55 (09/12/02)

db 수정이 있습니다. 그동안 고민하던것이 쉽게 해결 되었네요. ㅎㅎ

// 게시판 테이블의 최종 업데이트날짜 (게시글/코멘트가 등록된 날짜)
ALTER TABLE `g4_board` ADD `bo_modify_datetime` DATETIME NOT NULL ;
 
// db업데이트가 쉽게 config 테이블에 db 버젼정보를 추가 (코드 업글정보는 아니구요)
// 앞으로는 나에게 필요한 db operation만 하도록 합니다.
 
ALTER TABLE `g4_config` ADD `cf_db_version` INT( 11 ) NOT NULL ; 

이미 버젼업을 하신 분들은 phpmyadmin에서 g4_config 테이블에
위와 같이 int(11) type으로 cf_db_version을 추가하시고
사용하시는 불당팩 버젼을 넣어주세요.
1.0.53의 경우는 1053이라고 넣으면 됩니다.
그래야 업글 눌렀을 때 기존 db를 한번 더 작업하는 수고를 안하죠.


  /adm/upgrade_db.php

  /bbs/write_comment_update.php
  /bbs/write_update.php

  /install/sql_opencode.sql

  /lib/sitemap.lib.php

  /skin/sitemap/basic/sitemap.skin.php

- db 업글이 쉽게 db 버젼을 추가
  /adm/upgrade_bd.php  

- 없는 첨부 파일에 대한 처리
  /bbs/download.php

- sitemap
  /bbs/write_comment_update.php
  /bbs/write_update.php
  /lib/sitemap.lib.php
  /skin/sitemap/basic/sitemap.skin.php


1.0.54 (09/11/26)

  /adm/mail_form.php
  /adm/mail_select_update.php
  /adm/mail_test.php

  /lib/popup.lib.php

  /skin/popup/basic/popup.skin.php


- 수신거부 메시지에 영문추가
  /adm/mail_select_update.php
  /adm/mail_test.php

- 메일발송 작성 프로그램 오류 수정
  /adm/mail_form.php

- 회원메일수정 화면에 목록버튼 추가
  /adm/mail_form.php

- popup 프로그램 오류
  /lib/popup.lib.php

- popup skin typo 오류
  /skin/popup/basic/popup.skin.php


1.0.53 (09/11/23)

head.sub.php

/adm/upgrade_bd.php

/bbs/email_re_certify.php
/bbs/login_check.php

/lib/popup.lib.php


- popup.lib.php에 갤러리뷰 옵션 추가
/lib/popup.lib.php

- typo 오류
/adm/upgrade_bd.php
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_req&wr_id=640

- dtd 선언 추가 (html 4.01 transitional)
head.sub.php

- mysql 버젼업에 따른 패스워드 관련 사항 버젼업
/bbs/login_check.php
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=21757

- 이메일 재인증 관련 오류
/bbs/email_re_certify.php


1.0.52 (09/11/10)

관리자로 들어가서 아래의 파일을 수행해 주세요.
가끔씩 생기는 slow query를 없애줍니다.

/adm/b4_upgrade/upgrade_turning_wr_hit.php

-------------

  /style.css

  /adm/sql_write.sql
  /adm/b4_upgrade/upgrade_turning_wr_hit.php

  /bbs/formmail_send.php
  /bbs/register_form_update.php

  /company/disclaimer.php
  /company/service.php
  /company/rejection.php
  /company/privacy.html
  /company/privacy.php

  /lib/thumb.lib.php

- 게시판생성시 wr_hit, wr_datetime index 추가
  /adm/sql_write.sql
  /adm/b4_upgrade/upgrade_turning_wr_hit.php

- nick name 변경후 저장시 오류
  /bbs/register_form_update.php

- form mail을 보낼 때, 발신자에게 cc로 메일을 보내기
  /bbs/formmail_send.php

- 불당썸 2.0.19
  /lib/thumb.lib.php

- privacy 등의 형식변경 (textarea에서 span으로)
  /company/disclaimer.php
  /company/service.php
  /company/rejection.php
  /company/privacy.html
  /company/privacy.php

- 불당썸 2.0.18
  /lib/thumb.lib.php

- 썸네일 계단현상 방지(ie7)
  /style.css


1.0.51 (09/10/20)

  /adm/admin.menu100.php
  /adm/db_backup.php
  /adm/db_status.php

  /bbs/view.php

  /skin/member/basic/register.skin.php
  /skin/member/basic/register_form.skin.php

  /skin/board/*/list.skin.php  (모든 게시판 스킨의 list.skin.php를 교체해주세요)
  /skin/board/*/write.skin.php (모든 게시판 스킨의 write.skin.php를 교체해주세요)


- 그누보드 4.31.13 버젼업
  /bbs/view.php
  /skin/board/*/list.skin.php

- db 백업
  /adm/admin.menu100.php
  /adm/db_backup.php

- db 상태
  /adm/admin.menu100.php
  /adm/db_status.php

- 사소한 수정 (cellspacing=0이 중복)
  /skin/member/basic/register.skin.php
  /skin/member/basic/register_form.skin.php

- 공백만 있는 글을 못 올리게 하기
  /skin/board/*/write.skin.php


1.0.50 (09/10/12)

최근글에서 버그가 있고, 몇가지 수정이 있고, 벅스보드 작업이 1주 지연되서
지금까지 수정한 것만 올립니다.

---
불필요파일 삭제 (php 캐차를 개발하려고 넣어뒀던 것들인데 모두 삭제 합니다)

  /bbs/securimage.php
  /bbs/securimage_show.php
  /bbs/fonts/elephant.ttf
  /bbs/gdfonts/*

  /js/jquery.scaptcha.js
  /js/jquery.ajax_wrkey_form.js

--

  /head.sub.php

  /bbs/zip.db

  /lib/latest.lib.php

  /skin/board/*/write.skin.php (모든 write.skin.php를 수정해야 합니다)



- 이미지만 넣어도 글쓰기 가능하게 하기 
  /skin/board/*/write.skin.php

- 최근글 프로그램 버그 (ㅠ..ㅠ...)
  /lib/latest.lib.php

- 웹페이지 캐슁이 안되게 하기
  /head.sub.php
  
- 우편번호 9/30일자로 업데이트
  /bbs/zip.db


1.0.49 (09/10/01)

  /memo.config.php

  /adm/point_list.php
  /adm/visit_list.php

  /bbs/download.php
  /bbs/write_update.php

  /install/install_db.php

  /lib/thumb.lib.php
  /lib/visit.lib.php
  

- 불당썸 2.0.17
  /lib/thumb.lib.php

- 쪽지4 - 4.0.22
  /memo.config.php

- 포인트 관리에서 sub query 없애기
  /adm/point_list.php

- dbconfig.php의 권한 변경 (707에서 604로)
  /install/install_db.php

- 그누보드 4.31.12 버젼업
  /adm/visit_list.php
  /bbs/download.php
  /bbs/write_update.php
  /lib/visit.lib.php


1.0.48 (09/09/25)

  /bbs/kcaptcha_check.inc.php
  /bbs/member_email_check.php
  /bbs/register_form_update.php
  /bbs/wirte_update.php

  /lib/latest.my.lib.php
  /lib/write.skin.lib.php

  /skin/board/auction/auction.lib.php
  /skin/board/auction/write.skin.php
  /skin/board/auction/tender.php

  /skin/member/basic/ajax_mb_email_check.php


- 중복코드 삭제 (이미지 type 체크가 2번 들어갔어요)
  /bbs/write_update.php

- 이메일체크 수정 ( http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=21127 )
  /bbs/member_email_check.php
  /skin/member/basic/ajax_mb_email_check.php

- 글쓰기 제한 오류 수정
  /lib/write.skin.lib.php

- 추천인 회원가입 관련 오류 수정
  /bbs/register_form_update.php

- key 값이 없으면 오류를 만들게 캐차수정
  /bbs/kcaptcha_check.inc.php

- 내가올린 코멘트의 more링크 오류 수정
  /lib/latest.my.lib.php

- 경매스킨 수정 (시작일시 없을때 등록오류 등)
  /skin/board/auction/auction.lib.php
  /skin/board/auction/write.skin.php
  /skin/board/auction/tender.php


1.0.47 (09/09/17)

  /bbs/list.php

  /lib/common.lib.php
  /lib/listest.lib.php


- db 접속할 때 set names 위치조정
  /lib/common.lib.php

- 최신글 오류수정 (속도 높이려다 특정상황에서 꼬였습니다 ㅠㅠ...) 
  /lib/listest.lib.php

- $board[bo_page_rows]에 값이 없을 때 $config[cf_page_rows]를 쓰도록
  /bbs/list.php


1.0.46 (09/09/14)

  /.htaccess
  /.htaccess.bak

  /memo.config.php

  /adm/member_level_list.php
  /adm/membe_level_history.php

  /bbs/kcaptcha_check.inc.php
  /bbs/list.php
  /bbs/member_email_check.php
  /bbs/memo.php
  /bbs/view_comment.php

  /js/wrest.js

  /lib/b4.lib.php
  /lib/common.lib.php
  /lib/latest.lib.php
  /lib/latest.group.lib.php
  /lib/latest.my.lib.php

  /skin/board/cheditor_jisik/write.skin.php
  /skin/board/cheditor_jisik/view_comment.skin.php

  /skin/member/basic/ajax_mb_email_check.php
  /skin/member/basic/login_check.skin.php
  /skin/member/basic/register_form.skin.php


- 회원레벨관리 프로그램 수정 (레벨다운일 때 포인트가 안먹히는 오류수정)
  /adm/membe_level_list.php
  /adm/membe_level_history.php
  /skin/member/basic/login_check.skin.php

- 회원레벨관리 프로그램 가독성 개선
  /adm/member_level_list.php

- sql_connect에서 set_names 함수 제거 (불필요?)
  /lib/common.lib.php

- rewrite rule 수정 (에그당님)
  /.htaccess
  /.htaccess.bak

- 지식게시판 skin 업데이트 (설정이 없으면 설정을 자동으로 추가 등)
  /skin/board/cheditor_jisik/write.skin.php
  /skin/board/cheditor_jisik/view_comment.skin.php

- 최근 코멘트 뒤에 new icon 붙이기
  /bbs/view_comment.php

- $board[bo_new]의 값에 따라서 코멘트의 new를 표시하기 (현재는 임의 설정)
  /lib/b4.lib.php
  /lib/common.lib.php
  /lib/latest.lib.php
  /lib/latest.group.lib.php
  /lib/latest.my.lib.php

- 쪽지4 - 4.0.21
  /memo.config.php
  /bbs/memo.php

- 게시글보기+전체목록보기에서 페이지가 없을 때 (홈이네)
  /bbs/list.php
  http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=20906

- 추천인 포인트가 있는 경우 회원가입화면에서 지급포인트 명시
  /skin/member/basic/register_form.skin.php

- 쩜이 있는 이메일 주소 체크 허용 (예: b.dang@opencode.co.kr)
  /bbs/member_email_check.php
  /js/wrest.js
  /skin/member/basic/ajax_mb_email_check.php
  http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=20891 (연후하은아빠)

- kcaptcha 오류 메시지 수정 (debug용 메시지 삭제)
  /bbs/kcaptcha_check.inc.php


1.0.45 (09/08/27)

이번 버젼에서는 db 수정이 집중됩니다.
 
(1) mb_nick 관련 프로그램에서 오류가 있습니다. 심각해요.
/adm/b4_upgrade/upgrade_mb_nick.php를 한번 수행해주세요.

(2) db 변경사항
ALTER TABLE `g4_hidden_comment` ADD `co_mb_id` VARCHAR( 255 ) NOT NULL ;
ALTER TABLE `g4_config` ADD `cf_memo_mb_member` TINYINT( 4 ) NOT NULL ;
ALTER TABLE `g4_board` ADD `bo_comment_nowrite` TINYINT( 4 ) NOT NULL ;
ALTER TABLE `g4_login` ADD INDEX `mb_id` ( `mb_id` ) ;
ALTER TABLE `g4_board` ADD `bo_gallery` TINYINT( 4 ) NOT NULL ;
ALTER TABLE `g4_config` ADD `cf_req_recommend` TINYINT( 4 ) NOT NULL AFTER `cf_use_recommend` ;

  /.htaccess 
  /.htaccess.bak
  /head.sub.php
  /bbs_shorten.php

  /adm/admin.menu100.php 
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/config_form.php
  /adm/config_form_update.php
  /adm/g4_info.php
  /adm/source_backup.php
  /adm/upgrade_bd.php
  
  /bbs/hidden_comment_search.php
  /bbs/login_check.php
  /bbs/mb_leave_update.php
  /bbs/profile.php
  /bbs/register_form_update.php
  /bbs/search.php
  /bbs/view.php
  /bbs/view_comment.php
  /bbs/visit_insert.inc.php
  /bbs/write_update.php
 
  /cheditor4/* 
  /cheditor4/icons/em/pan*
 
  /install/sql_opencode.sql

  /js/common.js

  /lib/b4.lib.php 
  /lib/common.lib.php
  /lib/latest.lib.php
  /lib/latest.my.lib.php
  /lib/latest.group.lib.php
  /lib/latest.unicro.lib.php
  /lib/popup.lib.php
  /lib/thumb.lib.php
  /lib/view.skin.lib.php

  /lib/2.latest.unicro.lib.php
  /lib/2.latest.group.lib.php
  /lib/2.latest.my.lib.php
 
  /skin/board/*/write.skin.php
  /skin/board/auction/img/btn_secret.gif

  /skin/member/basic/profile.skin.php
  /skin/member/basic/register.skin.php 
  /skin/member/basic/register_form.skin.php

  /sms/hp_certify.php


- 추천인 보이기 기능만 추가 (추천인이 있을 수도 없을 수도 ...)
  /adm/config_form.php
  /adm/config_form_update.php
  /adm/upgrade_bd.php
  /bbs/register_form_update.php
  /install/sql_opencode.sql
  /skin/member/basic/register_form.skin.php

- 그룹이름을 get_member에서 가지고 오기 (주선자님, gl_name = 그룹이름)
  /lib/common.lib.php

- profile 수정 (보이는거 안보이게+사소한 스킨수정)
  /bbs/profile.php
  /skin/member/basic/profile.skin.php

- n일후 코멘트 쓰기 제한
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/upgrade_bd.php
  /install/sql_opencode.sql
  /lib/view.skin.lib.php


(5차 수정분 - 이하)

- sms 인증 수정 (heisher님)
  /sms/hp_certify.php

- cheditor 4.3.6 패치 업데이트
  /cheditor4/cheditor.js 

- g4_info 1.0.6
  /adm/g4_info.php

- common.js에 move 함수추가 (버젼업 할 때 누락된 것 같음)
  /js/common.js

- 풍선최신글 오류 수정 (allowscriptAccess 를 never에서 sameDomain으로 변경)
  /js/common.js

- 최근글 함수 튜닝 (게시판에서 쓰는 경우를 위해서)
  /lib/latest.lib.php

- 테이블명 오류 
  /bbs/visit_insert.inc.php

- 웹경로 줄이기 (배추팁)
  /.htaccess
  /.htaccess.bak
  /bbs_shorten.php

- 소스파일 백업 하기
  /adm/source_backup.php
  /adm/admin.menu100.php

- 첨부파일에서 ip 공개되는 것 방어 (마냐님의 팁)
  /bbs/write_update.php


(4차 수정분 - 이하)

- 이미지파일 누락
  /skin/board/auction/img/btn_secret.gif

- 회원 가입에서 동의하지 않음 다음에 앞으로 했을 때 check 되는 문제 (환멸삼매oc)
  /skin/member/basic/register.skin.php
  http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=20643

- cheditor icon 누락 추가
  /cheditor4/icons/em/pan*

- 기존 코드 복구 (함수명은 동일. tmp disk가 작은 서버에서 속도 문제를 야기해서)
  /lib/2.latest.unicro.lib.php
  /lib/2.latest.group.lib.php
  /lib/2.latest.my.lib.php

  * 새로운 lastest.*.*를 적용한 후 현저히 속도가 떨어지는 경우 (union all이 특정
    횟수이상 과도하게 수행되면 속도가 떨어지는 것 같습니다)에는 과거의 코드를
    그냥 쓰는게 나을 수도 있기 때문 입니다. 대부분은 union all을 한 것이 훨씬 더
    빠릅니다. 하루 페이지뷰 200만을 넘어가면 그때는 union all이 늦을 수도 있구요.


(3차 수정분 - 이하)

- 유니크로 최근글 튜닝 (1 SQL로)
  /lib/latest.unicro.lib.php

- 그룹 최근글 튜닝 (1 SQL로)
  /lib/latest.group.lib.php

- 내가올린글/코멘트, 내글의 반응 튜닝 (1 SQL로)
  /lib/latest.my.lib.php


(2차 수정분 - 이하)

- 방문자수 오류 수정
  /bbs/visit_insert.inc.php

- resize 함수 수정
  /lib/b4.lib.php

- view 화면에서 글쓴이와 로그인이 같은 경우 get_member를 하지 않게 하기
  /bbs/view.php

- 갤러리뷰 튜닝
  /lib/common.lib.php
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/upgrade_bd.php
  /install/sql_opencode.sql

- 최근 코멘트를 굵게 (SQL Query를 하지 않게)
  /lib/b4.lib.php
  /lib/common.lib.php

- 튜닝 - 팝업창
  /lib/popup.lib.php

- 튜닝 - 최근글 (불필요한 sql query 갯수 줄이기)
  /lib/common.lib.php
  /lib/latest.lib.php
  /lib/latest.group.lib.php
  /lib/latest.my.lib.php
  /lib/latest.unicro.lib.php

- 튜닝 현재접속자수 
  /adm/upgrade_bd.php
  /install/sql_opencode.sql


(1차 수정분 - 이하)

- cheditor 4.3.5 (기존 cheditor4 디렉토리를 다른 이름으로 변경해주세요)
  /cheditor4/* 

- 그누보드 튜닝 수정 (visit_insert.inc.php - SQL Query 갯수 줄이기, 눈까리님)
  /bbs/visit_insert.inc.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_turning&wr_id=6&page=2

- .htaccess.bak 파일 수정 (내 사이트와 검색엔진만 이미지 허용하기)
  /.htaccess.bak
 
- 회원 가입환영 쪽지 보내기
  /adm/config_form.php
  /adm/config_form_update.php
  /bbs/register_form_update.php
  /bbs/register_result.php
  /lib/b4.lib.php
 
  /adm/upgrade_bd.php
  /install/sql_opencode.sql
 
- 빈공간만 있는 경우 쪽지가 왔다는 메시지 출력하지 않음
  /head.sub.php
 
- 불당썸 - 2.0.16
  /lib/thumb.lib.php 
 
- 마루호스팅 이전관련 팁 코멘트 처리 
  /lib/common.lib.php
 
- 화면깨짐 방어팁 삭제 (앵무나라님팁 - 서브디렉토리의 $g4[path]가 reset 됨)
  /head.sub.php

- 회원가입/정보 수정시 닉네임 관련 오류 (심각함 ㅠ..ㅠ...)
  /bbs/register_form_update.php
 
- 비회원 코멘트 이름 오류 (다내꺼. 심각함 ㅠ..ㅠ...)
  /bbs/view_comment.php

- 이메일 암호화 함수 추가 ( encode_email )
  /lib/b4.lib.php
 
- 글쓰기 창에서 옵션만 덜렁 나오는거 수정
  /skin/board/*/write.skin.php
 
- db 버젼 변경 사이트에서 탈퇴 비밀번호 오류 
  /bbs/mb_leave_update.php
 
- 전체 검색에 단어 필터링 기능 추가
  /bbs/search.php
 
- 관리자항목 (ip차단 정보) 업데이트 안되는 오류
  /adm/config_form_update.php
 
- db 세션을 사용할 때만, 중복로그인 check를 하게 하기
  /bbs/login_check.php
 
- 불당썸 (수정) - 2.0.15

  /lib/thumb.lib.php

- 딴지걸기 기능 개선 (원글자 mb_id 저장, 원글자 검색 ...)
  /bbs/hidden_comment_search.php


1.0.44 (09/07/15)

이번 버젼은 코드만 대수술 입니다. 
db 변경은 없습니다.
보안을 비롯해서 이것저것 자잘한거를 수정했어요.
 
cheditor 4.3.3 버젼업과 
db 수정이 필요한 비밀번호질답, 가입환영 쪽지 등은 
다음버젼을 기약하겠습니다.
   
----
4.31.11은 보안관련 필수패치 입니다.
 
----
4.31.09 그누보드 버젼은 코드변경은 하지 않고 버젼 코드만 올리기로 했습니다.
zip.db는 1.0.43에서 버젼업을 했고, 변경된 코드는 문제가 되는 것을

해결하는 원천적인 답이 아니기 때문 입니다.
 
---- 

letsgolee님의 데이타 경로 감추기 기능을 적용하기 위해서
30개 이상의 무지하게 많은 파일의 수정이 필요 합니다.
그런데, 하다가 일단 중단 했습니다. 
감추기 기능이 resize 기능과 쫑~이 나버리네요. ㅠ..ㅠ...
 
그래서, data 디렉토리를 config.php에서 바꾸면, 
data 이외의 장소를 쓸 수 있으니 그걸로 10% 만족 합니다.
 
----
 
  /common.php
  /head.sub.php
  /thumb2.php (새로운 불당썸 예제)
  /HISTORY
 
  /adm/admin.lib.php
  /adm/board_copy_update.php
  /adm/board_delete.inc.php
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/g4_info.php
  /adm/member_form.php
  /adm/member_form_update.php
  /adm/member_id_change.php
  /adm/session_delete.php
  /adm/ssh_delete_spam.php
 
  /bbs/board_head.php
  /bbs/board_tail.php
  /bbs/categoryformupdate.php
  /bbs/delete.php
  /bbs/delete_all.php
  /bbs/download.php
  /bbs/download_memo_file.php
  /bbs/formmail.php
  /bbs/memo.php
  /bbs/memo2_chkunlinkfile.php
  /bbs/memo2_form_delete.php
  /bbs/memo2_form_delete_all_trash.php
  /bbs/move_update.php
  /bbs/move2_update.php
  /bbs/register_form.php
  /bbs/register_form_update.php
  /bbs/scrap.php
  /bbs/tb.php
  /bbs/write.php
  /bbs/write_update.php
  /bbs/write_comment_update.php
 
  /cheditor4/insert_image.php
 
  /install/install_db.php
 
  /js/common.js
  /js/sideview.js 
  
  /lib/b4.lib.php 
  /lib/common.lib.php
  /lib/latest.group.lib.php
  /lib/thumb.lib.php
 
  /skin/board/cheditor_unicro_flea/hidden_comment.skin.php
 
  /skin/latest/simple/latest.skin.php
 
  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/register.skin.php
  /skin/member/basic/scrap.skin.php
  /skin/member/basic/img/icon_secret.gif
 
 
- 그누보드 4.31.11 업그레이드
  /HISTORY
  /bbs/register_form_update.php
  /bbs/write_update.php
  /lib/common.lib.php
 
- 최근글에서 비밀글일 때, 잠금열쇄가 출력되게 
  /skin/latest/simple/latest.skin.php
 
- 전체최근글에서 관리자는 비밀글도 볼 수 있게 하기
  /lib/latest.group.lib.php
 
- 서버정보에 현재시간 항목 추가
  /adm/g4_info.php
 
- 불당썸 - 2.0.15
  /lib/thumb.lib.php 
 
- 프로그램 오류수정 (mb_level이 typo 오류 - 권한지정이 먹지 않았슴)
  /skin/board/cheditor_unicro_flea/hidden_comment.skin.php
 
- 그누보드 4.31.10 업그레이드
  /HISTORY
  /bbs/write.php
         
- http://domain/index.php/를 하면 깨어지는 문제 (앵무나라님)
  /head.sub.php

- F5 키 금지
  /head.sub.php
 
- 비밀글 스크랩의 경우 비밀글 아이콘 표시
  /bbs/scrap.php
  /skin/member/basic/scrap.skin.php
  /skin/member/basic/img/icon_secret.gif
 
- 회원가입 체크항목을 한페이지에서 다 볼 수 있게 + 오류 수정
  /skin/member/basic/register.skin.php
 
- 회원 icon size가 22*22보다 작을 때는 원본 크기 그대로 보여주기
  /lib/common.lib.php
 
- (1) 프로그램으로 이미지 경로 감추기 ($g4[path]/data -> $g4[data_path])
  /common.php
  /adm/admin.lib.php
  /adm/board_copy_update.php
  /adm/board_delete.inc.php
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/g4_info.php
  /adm/member_form.php
  /adm/member_form_update.php
  /adm/member_id_change.php
  /adm/session_delete.php
  /adm/ssh_delete_spam.php
  /bbs/board_head.php
  /bbs/board_tail.php
  /bbs/categoryformupdate.php
  /bbs/delete.php
  /bbs/delete_all.php
  /bbs/download.php
  /bbs/download_memo_file.php
  /bbs/memo.php
  /bbs/memo2_chkunlinkfile.php
  /bbs/memo2_form_delete.php
  /bbs/memo2_form_delete_all_trash.php
  /bbs/move_update.php
  /bbs/move2_update.php
  /bbs/register_form.php
  /bbs/register_form_update.php
  /bbs/tb.php
  /bbs/write_update.php
  /cheditor4/insert_image.php
  /install/install_db.php
  /lib/common.lib.php
  /skin/member/basic/memo2_view.skin.php
  http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=19709
 
- 가입시 회원그룹정보 업데이트 안되는거 수정
  /bbs/register_form_update.php
  
 - sideview에서 회원메일정보 노출되는거 방어
  /bbs/formmail.php
  /js/sideview.js
 
- flash_movie에 FlashVar parameter 추가 (시하님 플래쉬 스킨을 위해서)
  /js/common.js 
 
- 불당썸 2.0.14
  /lib/thumb.lib.php
  /thumb2.php (새로운 예제)
 
- 그룹설정에서 gr_use_search=0이면, 게시판에서 전체검색 설정 못하게 하기
  /adm/board_form.php
 
- 쪽지4 함수 정의 (memo4_send)
  /lib/b4.lib.php 


1.0.43 (09/06/30)

  /adm/admin.menu100.php 
  /adm/boardgroup_form_update.php
 /adm/boardgroup_list_update.php
  /adm/g4_info.php
 
  /bbs/zip.db
 
  /common.php
 
  /skin/member/basic/memo2_bottom.skin.php 
  /skin/member/basic/memo2_write.skin.php  
 
- 쪽지4 - 4.0.20
  /skin/member/basic/memo2_bottom.skin.php 
  /skin/member/basic/memo2_write.skin.php  
  
- 우편번호 업데이트 (6월23일자)
  /bbs/zip.db
 
- 그룹이 검색불가 -> 게시판도 검색불가, 목록에서 검색 update 안되는 오류
  /adm/boardgroup_form_update.php
 /adm/boardgroup_list_update.php
 
- exec 명령이 안먹히는 경우 디렉토리 용량을 구할 수 없어 오류가 발생
  /lib/b4.lib.php 
 
- 그누보드 버젼업 (cheditor는 버젼업 하지 않음. 조만간 새것이 출시...)
  /common.php
  (참조사항)
  http://sir.co.kr/bbs/board.php?bo_table=cm_free&wr_id=335574
 
- 그누보드 기본정보
  /adm/admin.menu100.php
  /adm/g4_info.php
  http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=19913


1.0.42 (09/06/18)

  /HISTORY 
  /common.php 
 
  /bbs/list.php 
  /bbs/password_forget3.php 
  /bbs/register_form_update.php 
 
  /lib/thumb.php 
 
- 그누보드 4.31.07 업그레이드
  /HISTORY 
  /common.php 
  /bbs/list.php 
  /bbs/password_forget3.php 
  /bbs/register_form_update.php 
 
  :  회원가입시 주민번호 사용하는 경우 동일 주민번호로 회원가입이 가능한 오류 수정 (letsgolee 님) 
  :  게시물 리스트의 정렬 대상 필드가 아닐때 오류나는 부분 수정 (nasca 님) 
  :  패스워드 분실시 답변 비교시 != 를 !== 로 수정 ( 1 != 1. 의 경우에도 같은 답변으로 인식함) 
  :  정해진 시간에 100% 가비지 콜렉션 

- 불당썸 2.0.13
  /lib/thumb.php 


1.0.41 (09/06/15)

db 변경이 있습니다. phpMyAdmin에서 수행을 해주세요.
 
ALTER TABLE `g4_point` ADD INDEX `mb_id` ( `mb_id` ) 
ALTER TABLE `g4_point` ADD INDEX `po_rel_table` ( `po_rel_table` ) 
ALTER TABLE `g4_point` ADD INDEX `po_rel` ( `po_rel_table` , `po_rel_id` ) 

쪽지4...
 
ALTER TABLE `g4_member` ADD `mb_memo_no_reply_datetime` DATETIME NOT NULL ;


  /adm/admin.menu200.php
  /adm/board_form_update.php 
  /adm/mail_form.php
  /adm/mail_domain_list.php 
  /adm/upgrade_bd.php
 
  /bbs/mb_leave_update.php 
  /bbs/register_form.php 
  /bbs/register_form_update.php 
  /bbs/memo2_config_update.php 
  /bbs/memo2_form_update.php 
  /bbs/memo.php 
 
  /install/sql_opencode.sql
 
  /skin/board/cheditor_banner/list.skin.php
  /skin/member/basic/memo2_bottom.skin.php 
  /skin/member/basic/memo2_config.skin.php 
  /skin/member/basic/memo2_view.skin.php   
 
 
 
- 쪽지4 - 4.0.19
  /bbs/memo2_config_update.php 
  /bbs/memo2_form_update.php 
  /bbs/memo.php 

  /skin/member/basic/memo2_bottom.skin.php 
  /skin/member/basic/memo2_config.skin.php 
  /skin/member/basic/memo2_view.skin.php  
 
- 회원탈퇴 메시지 수정
  /bbs/mb_leave_update.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=884
 
- 이메일 도메인 목록
  /adm/admin.menu200.php
  /adm/mail_domain_list.php 
 
- 웹메일에 cheditor 적용
  /adm/mail_form.php
 
- 추천인을 사용할때만 추천확인하게 하기
  /bbs/register_form_update.php 
 
- 회원그룹을 가입화면에서 처리 가능하게
  /bbs/register_form.php
 
- 배너스킨 오류 (불당썸 수정을 안했네요 ㅠ..ㅠ...)
  /skin/board/cheditor_banner/list.skin.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=851 
 
- 코멘트 읽기 권한
  /adm/board_form_update.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=848
 
- 포인트 게시판 index 수정
  /adm/upgrade_bd.php
  /install/sql_opencode.sql 


1.0.40 (09/06/05)

ALTER TABLE `g4_board` ADD `bo_day_nowrite` VARCHAR( 255 ) NOT NULL ;

---

  /adm/admin.menu200.php
  /adm/nickname_list_delete.php
  /adm/board_form.php
  /adm/board_form_update.php 
  /adm/upgrade_bd.php
 
  /bbs/email_re_certify.php
  /bbs/email_re_crttify_update.php
  /bbs/mb_leave.php
  /bbs/register_form_update.php
  /bbs/singo_popin.php
  /bbs/singo_popin_update.php
  /bbs/view_comment.php
  /bbs/write.php
 
  /install/sql_opencode.sql
 
  /lib/common.lib.php
  /lib/write.lib.php
  /lib/write.skin.lib.php
 
  /skin/member/basic/jquery.ajax_register_form.js
  /skin/member/basic/ajax_mb_email_check.php
  /skin/member/basic/register_form.skin.php
  /skin/member/basic/memo2_write.skin.php 
  /skin/member/basic/memo2_list.skin.php  
 
  /skin/board/cheditor_mart/view.skin.php
  /skin/board/cheditor_mart/hidden_comment.skin.php
  /skin/board/cheditor_oneline/list.skin.php
  /skin/board/cheditor_oneline/write.skin.php
  /skin/board/cheditor_unicro_flea/view.skin.php
  /skin/board/cheditor_unicro_flea/hidden_comment.skin.php
  /skin/board/free_img3/list.skin.php
 
 
 (삭제된 코드)
  /bbs/memo_delete.php
  /bbs/memo_form.php
  /bbs/memo_view.php
  /skin/board/cheditor_oneline/*.php (write.list.view.write_update 4개 제외하고 모두 삭제) 
 
 
 
- 쪽지4 - 4.0.18
  /skin/member/basic/memo2_write.skin.php 
  /skin/member/basic/memo2_list.skin.php  
 
- 새창에서 코멘트 보기 권한 오류
  /bbs/view_comment.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=837
 
- 한줄게시판 스킨오류 수정 및 기타개선
  /skin/board/cheditor_oneline/list.skin.php
  /skin/board/cheditor_oneline/write.skin.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=814
 
- 쓰기(write.php)에서 게시판이 없는 경우 오류메시지 추가
  /bbs/write.php
  http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=19784
 
- hidden_comment 신고시 오류 (message는 어색합니다...ㅠ..ㅠ...)
  /bbs/singo_popin.php
  /bbs/singo_popin_update.php
 
- 딴지글 link에 http://를 붙이고, get_text를 하기
  /skin/board/cheditor_mart/hidden_comment.skin.php
  /skin/board/cheditor_unicro_flea/hidden_comment.skin.php
 
- 게시글 1개에 딴지 1번만 가능하게 (common.lib.php에서 불필요 함수 삭제)
  /lib/common.lib.php
  /skin/board/cheditor_mart/hidden_comment.skin.php
  /skin/board/cheditor_unicro_flea/hidden_comment.skin.php
 
- 사소한 수정들
  /skin/board/cheditor_mart/view.skin.php
  /skin/board/cheditor_unicro_flea/view.skin.php
 
- 갤러리 스킨오류
  /skin/board/free_img3/list.skin.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=814
 
- 닉네임 변경오류
  /bbs/register_form_update.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=817
 
- 탈퇴화면에서 로그아웃 하기 
  /bbs/mb_leave.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack_qna&wr_id=820
 
- mysql 3.x 버젼 설치오류 (새늘님)
  /install/sql_opencode.sql
 
- 실시간쪽지 설정 관련 오류 (다내꺼님)
  /skin/member/basic/register_form.skin.php
 
- 불당썸 2.0.12
  /lib/thumb.lib.php
 
- 글쓰기 제한 기능 (하루에 몇건...)
  /adm/board_form.php
  /adm/board_form_update.php 
  /lib/write.skin.lib.php
 
  /install/sql_opencode.sql
  /adm/upgrade_bd.php
 
- 테스트 코드 삭제
  /lib/write.lib.php
 
- 설치 프로그램 오류 수정
  /install/sql_opencode.sql
 
- 프로그램 수정 잔재 삭제 (환멸삼매oc)
  /adm/nickname_list_delete.php
 
- 이메일 인증 삭제 (메뉴에서만...)
  /adm/admin.menu200.php
 
- 메일재인증 - 중복메일체크 기능 추가
  /bbs/email_re_certify.php
  /bbs/email_re_crttify_update.php
  /skin/member/basic/jquery.ajax_register_form.js
  /skin/member/basic/ajax_mb_email_check.php 
 
- 안쓰는 파일 삭제
  /bbs/memo_delete.php
  /bbs/memo_form.php
  /bbs/memo_view.php


1.0.39 (09/05/06)

/bbs/email_re_certify.php
/bbs/resigster_form_update.php
 
- 회원가입오류
 /bbs/resigster_form_update.php
 
- 이메일 인증이 안된 사용자 로그인시 오류
  /bbs/email_re_certify.php


1.0.38 (09/05/01)

db 변경이 있습니다.
 
홈페이지 인증 (인증 날짜를 기록)
ALTER TABLE `g4_member` ADD `mb_homepage_certify` DATETIME NOT NULL AFTER `mb_email_certify` ;


(1) 이메일 인증에 대해서
 
이메일 유효성 확인 테스트를 메일서버들에 대해서 했더니,
제가 쓰는 nate. gmail은 전혀 문제가 없고 naver, hanmail이 문제가 됩니다.
그래서, email_validate.php를 수행하면, 인증된 계정을 표시해주고
인증되지 않은 계정은 그냥 두기로 했습니다. 
naver와 daum은 사용자가 인증메일을 발신해서 인증하는게 방법인거같아요.
 
(2) 홈페이지 인증
 
sideview를 호출하면서 홈페이지를 인증하려 한 것이 조금 무모했었나 봅니다.
홈페이지도 이메일과 같이 인증필드를 g4_member에 추가를 했습니다.
 
mb_homepage_certify
 
mb_homepage에 값이 있고, certify가 안된 경우에만 check를 하기 때문에
속도는 다시 원래대로 될 겁니다.
 
 
  /adm/admin.menu200.php
  /adm/mail_validate.php
  /adm/upgrade_bd.php 
  /install/sql_opencode.sql
 
  /bbs/register_form_update.php
 
  /lib/b4.lib.php
  /lib/common.lib.php
 
 
 
- 홈페이지 인증 (모른척 하려다 뜨끔 했습니다. ㅠ..ㅠ...)
  /adm/upgrade_bd.php 
  /install/sql_opencode.sql
 
  /bbs/register_form_update.php
 
  /lib/b4.lib.php
  /lib/common.lib.php
 
- 이메일유효성 확인 (negative에서 posive로 변경)
  /adm/admin.menu200.php
  /adm/mail_validate.php
 
- ip 감추기 함수 추가
  /lib/b4.lib.php


1.0.37 (09/04/29)

쪽지4 설정의 db 변경이 있습니다. 쪽지4 설정을 한번 save 하면 db가 반영됩니다.

  /adm/mail_validate.php
  /adm/upgrade_bd.php
 
  /bbs/login_check.php
  /bbs/email_re_certify.php
  /bbs/email_re_certify_update.php
  /bbs/memo2_config_update.php
  /bbs/memo2_withdraw_notice.php
  /bbs/register_form_update.php 
 
  /install/sql_opencode.sql
 
  /lib/common.lib.php
  /lib/b4.lib.php
  /lib/thumb.lib.php
 
  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/memo2_view.skin.php 
  /skin/member/basic/memo2_write.skin.php
 
 
- 설치오류 수정
  /install/sql_opencode.sql
  
- 이메일인증 사용안할 때, 회원가입시 이메일 인증이 되지 않게 하기
  /bbs/register_form_update.php
 
- 이메일인증을 사용하고, 이메일이 인증된 경우에만 sideview에 메일이 나오게
  /lib/common.lib.php
 
- 이메일 재인증
  /bbs/login_check.php
  /bbs/email_re_certify.php
  /bbs/email_re_certify_update.php
  /bbs/register_form_update.php
 
- 이메일 인증 - 제목을 보기 쉽게 사이트명을 넣어서 
  /bbs/register_form_update.php 
 
- getmxrr 대체함수 변경
  /adm/mail_validate.php
  
- 쪽지4 - 4.0.17 
  /adm/upgrade_bd.php
  /install/sql_opencode.sql
 
  /bbs/memo2_config_update.php
  /bbs/memo2_withdraw_notice.php
 
  /extend/b4.lib.php
 
  /lib/thumb.lib.php
 
  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/memo2_view.skin.php 
  /skin/member/basic/memo2_write.skin.php


1.0.36 (09/04/24)

이번 버젼부터는 가입 회원의 ref_url을 기록합니다. 
어떤 경로로 가입하게 되었는지 분석할 때 유용해요 (분석 플은 안짰어요 ㅠ..ㅠ..).
http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=19314
 
당연히 db 변경이 있으므로 업글을 해줘야지만 합니다.

CREATE TABLE `g4_member_register` ( 
`mb_no` INT( 11 ) NOT NULL ,
`mb_id` VARCHAR( 255 ) NOT NULL ,
`ref_url` VARCHAR( 255 ) NOT NULL 
)

성별로 게시판 접근을 제어할 수도 있습니다.
ALTER TABLE `g4_board` ADD `bo_sex` CHAR( 1 ) NOT NULL ;
 

기본적인 세션관리를 파일로 다시 변경했습니다.
http://www.xpressengine.com/comm_freeboard/17950277
 

  /.htaccess
  /error_page.php
  /common.php
  /config.php
  /thumb.php

  /adm/admin.menu200.php
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/mail_validate.php
  /adm/upgrade_bd.php

  /bbs/login_check.php
  /bbs/register_form_update.php
 
  /install/sql_opencode.sql
 
  /lib/b4.lib.php
  /lib/common.lib.php 
  /lib/skin.lib.php 
  /lib/thumb.lib.php
 

- 이메일유효성 확인 (관리자모듈)
  /adm/admin.menu200.php
  /adm/mail_validate.php
 
- 홈페이지의 유효성 정보 확인 함수 수정 (timeout 기능 및 데이터정리기능 추가)
  /lib/b4.lib.php
  /lib/common.lib.php
 
- 기본적으로 파일세션을 쓰게 프로그램 수정
  /common.php
 
- login_check.php에 $mb filed 추가
  /bbs/login_check.php
 
- 성별게시판
  /adm/upgrade_bd.php
  /adm/board_form.php
  /adm/board_form_update.php
  /install/sql_opencode.sql 
  /lib/skin.lib.php 
  
- 404 (페이지 없슴) 오류에 대한 .htaccess 파일 설정
  /.htaccess
  /error_page.php
 
- 회원가입경로 기록하기
  /config.php
  /adm/upgrade_bd.php
  /bbs/register_form_update.php
  /install/sql_opencode.sql
 
- 불당썸 - 2.0.11
  /thumb.php
  /lib/thumb.lib.php 


1.0.35 (09/04/17)

db 변경이 필요한 부분은 1.0.36으로 미루겠습니다. 1.0.36은 좀 오래 걸릴거에요.

  /adm/admin.menu100.php
  /adm/gd_info.php

  /bbs/singo_popin_update.php
  /bbs/view_comment.php

  /lib/b4.lib.php
  /lib/common.lib.php
  /lib/thumb.lib.php

- 쪽지 신고하면 신고내역이 없는거...ㅠ..ㅠ...
  /bbs/singo_popin_update.php

- 불당썸 - 2.0.10
  /lib/thumb.lib.php 

- GD info 
  /adm/admin.menu100.php
  /adm/gd_info.php

- url 입력정보의 유효성 검사
  /lib/b4.lib.php
  /lib/common.lib.php

- sideview 튜닝
  /bbs/view_comment.php

- 코멘트의 select list 수정
  /bbs/view_comment.php

- sideview의 email, homepage 정보를 조회 시점의 정보로 가져오기
  /lib/common.lib.php
  /bbs/view_comment.php
  * 게시글 이외의 경우에는 wr_email이 없으므로 수정하지 않습니다.


1.0.34 (09/04/13)

  /adm/admin.lib.php

  /bbs/memo.php
  /bbs/view_comment.php

  /lib/b4.lib.php

  /skin/member/basic/memo2_list.skin.php
  /skin/member/basic/memo2_view.skin.php


- rezize - 1.0.10
  /lib/b4.lib.php

- 쪽지4 - 4.0.16
  /lib/b4.lib.php
  /skin/member/basic/memo2_list.skin.php
  /skin/member/basic/memo2_view.skin.php

- view_comment의 wr_1 오류 (다내꺼)
  /bbs/view_comment.php

- 레벨1 회원이 삭제 안되는 오류
  /adm/admin.lib.php
 
- 쪽지4 - 4.0.15
  /bbs/memo.php


1.0.33 (09/04/07)

  /thumb.php (예제파일)

  /bbs/write_update.php
  /bbs/proc/mw.time.now.php

  /lib/b4.lib.php
  /lib/thumb.lib.php

  /skin/member/basic/img/icon_undelete.gif
  /skin/member/basic/memo2_view.skin.php

- 관리자가 게시글 날짜를 업데이트 할 때 최신글 테이블도 같이 업데이트 하게
  /bbs/proc/mw.time.now.php

- 불당 Resize - 1.0.9
  /lib/b4.lib.php

- 쪽지4 - 4.0.14 (unreleased)
  /skin/member/basic/img/icon_undelete.gif
  /skin/member/basic/memo2_view.skin.php

- 불당썸 2.0.9
  /lib/thumb.lib.php
  /thumb.php (예제파일)

- 답글에 내글의 반응이 기록되지 않는 오류 수정 (왜 누락했을까요? ㅠ..ㅠ...)
  /bbs/write_update.php


1.0.32 (09/04/06)

쪽지4의 오류 때문에 db 변경이 있습니다. 
불당팩 업그레이드를 하시거나 phpMyAdmin에서 아래의 SQL을 수행해 주세요.

ALTER TABLE `g4_memo_save` DROP PRIMARY KEY , ADD PRIMARY KEY ( `me_id` , `memo_type` ) ;
 

  install/sql_opencode.sql
  adm/upgrade_bd.php

  adm/db_memo2_memo4_upgrade.php 
  bbs/download.php
  bbs/download_memo_file.php
  bbs/memo.php 
  bbs/memo2_form_delete.php 
  bbs/memo2_form_save.php 
  bbs/memo2_config_update.php 
  bbs/memo2_form_update.php 
  bbs/memo2_form_spam.php 
  bbs/realtime_memo.php 
  skin/member/basic/memo2_view.skin.php 
  skin/member/basic/memo2.skin.php 
  skin/member/basic/memo2_bottom.skin.php 
  skin/member/basic/memo2_config.skin.php 
  skin/member/basic/memo2_write.skin.php 
 

- 쪽지4 - 4.0.13

  adm/upgrade_bd.php

  install/sql_opencode.sql

 

  adm/db_memo2_memo4_upgrade.php 
  bbs/memo2_form_delete.php 
  bbs/memo2_form_save.php 
  skin/member/basic/memo2_view.skin.php 
 

- 쪽지4 - 4.0.12

  bbs/memo.php 
  bbs/memo2_config_update.php 
  bbs/memo2_form_update.php 
  bbs/memo2_form_spam.php 
  bbs/realtime_memo.php 
  skin/member/basic/memo2.skin.php 
  skin/member/basic/memo2_bottom.skin.php 
  skin/member/basic/memo2_config.skin.php 
  skin/member/basic/memo2_write.skin.php 

 

- 마루호스팅의 파일다운로드 오류문제 (1초만 다운로드 됨. 코드 추가후 주석처리함)

  /bbs/download.php
  /bbs/download_memo_file.php



1.0.31 (09/03/31)

  common.php

  bbs/memo.php
  bbs/memo2_config_update.php
  bbs/memo2_form_spam.php
  bbs/memo2_form_update.php
  bbs/realtime_memo.php
  skin/member/basic/memo2.skin.php
  skin/member/basic/memo2_bottom.skin.php
  skin/member/basic/memo2_config.skin.php
  skin/member/basic/memo2_write.skin.php

- 쪽지4 - 4.0.11
  bbs/memo.php
  bbs/memo2_config_update.php
  bbs/memo2_form_spam.php
  bbs/memo2_form_update.php
  bbs/realtime_memo.php
  skin/member/basic/memo2.skin.php
  skin/member/basic/memo2_bottom.skin.php
  skin/member/basic/memo2_config.skin.php
  skin/member/basic/memo2_write.skin.php

- 사소한 오류수정
  common.php


1.0.30 (09/03/30)

  /bbs/login_check.php
  /bbs/register_form_update.php
  /bbs/proc/mw.time.now.php

   /skin/member/basic/login_check.skin.php 

- 레벨업/다운 코드 오류
   /skin/member/basic/login_check.skin.php

- 이메일인증 설정에서 메일주소 안나오는 오류
  /bbs/login_check.php

- 현재글 날짜 정보 업데이트 오류
  /bbs/proc/mw.time.now.php

- 회원아이콘등록시 bmp도 가능하게
  /bbs/register_form_update.php


1.0.29 (09/03/27)

  /adm/member_list.php
  /skin/latest/simple/latest.skin.php
  /skin/member/basic/memo2_config.skin.php

- 쪽지4 - 4.0.10
  /skin/member/basic/memo2_config.skin.php

- 사소한 수정 
  /adm/member_list.php

- simple 최근글 스킨오류 수정
  /skin/latest/simple/latest.skin.php


1.0.28 (09/03/26)

  /bbs/memo_form.php
  /bbs/memo2_chkunlinkfile.php 
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_delete_all_trash.php 
  /bbs/zip.db

  /skin/member/basic/memo2_config.skin.php 
  /skin/member/basic/memo2_list.skin.php 
  /skin/member/basic/memo2_view.skin.php 
  /skin/member/basic/memo2_write.skin.php 
  /skin/member/basic/img/send2.gif 
  /skin/member/basic/img/bt02.gif 
  /skin/member/basic/img/bt04.gif 
  /skin/member/basic/img/all_del.gif

- 쪽지4 - 4.0.9
  /bbs/memo_form.php
  /skin/member/basic/memo2_config.skin.php 
  /skin/member/basic/memo2_list.skin.php 
  /skin/member/basic/memo2_view.skin.php 
  /skin/member/basic/img/send2.gif 
  /skin/member/basic/img/bt02.gif 
  /skin/member/basic/img/bt04.gif 
  /skin/member/basic/img/all_del.gif

- 쪽지4 - 4.0.8
  /bbs/memo2_chkunlinkfile.php 
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_delete_all_trash.php 

- 우편번호 업데이트
  /bbs/zip.db

- 쪽지4 - 4.0.7
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_delete_all_trash.php 
  /skin/member/basic/memo2_write.skin.php 


1.0.27 (09/03/24)

이번 버젼에 db 변경은 있지만, 굳이 업글 안해도 됩니다.
쪽지4 설정에서 설정 저장 1번만 하심 되요.

  /adm/upgrade_bd.php
  /install/sql_opencode.sql

  /bbs/mb_leave.php
  /bbs/mb_leave_update.php
  /bbs/memo.php
  /bbs/memo2_config_update.php
  /bbs/realtime_memo.php
  /bbs/register_form_update.php

  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/memo2_online.skin.php


- 쪽지4 - 4.0.6
  /bbs/memo.php
  /bbs/realtime_memo.php
  /bbs/memo2_config_update.php
  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/memo2_online.skin.php

  /adm/upgrade_bd.php
  /install/sql_opencode.sql

- 회원탈퇴 오류
  /bbs/mb_leave.php
  /bbs/mb_leave_update.php

- 회원아이콘등록시 bmp도 가능하게
  /bbs/register_form_update.php

- 컨텐츠몰 코드 삭제 (별도로 작업을 하기 위해서 1.0.27부터 배포에서 제외 합니다) 


1.0.26 (09/03/20)

db가 변경되으며, 관리자가 쪽지4 설정을 저장하거나 불당팩 업그레이드를 하면 추가 됩니다.

  /head.sub.php

  /adm/upgrade_bd.php

  /bbs/mb_leave.php
  /bbs/mb_leave_update.php
  /bbs/memo2_config_update.php
  /bbs/memo2_form_update.php
  /bbs/poll_result.php
  /bbs/realltime* (파일3개)
  /bbs/write_update.php

  /install/sql_opencode.sql

  /lib/thumb.lib.php

  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/register_form.skin.php

- 4.0.5
  /bbs/memo2_config_update.php
  /bbs/memo2_form_update.php
  /bbs/realltime* (파일3개)
  /skin/member/basic/memo2_config.skin.php

- 실시간쪽지기능 수정 (확인해보니 누락이 되어 있네요)
  /head.sub.php

- 회원탈퇴 화면 수정
  /bbs/mb_leave.php
  /bbs/mb_leave_update.php
  /skin/member/basic/register_form.skin.php

- 불당썸 코멘트 수정
  /lib/thumb.lib.php

- 투표/기타의견이 삭제 안되는 오류
  /bbs/poll_result.php

- 확장자만 이미지인 첨부파일은 아예 올리지도 않게 하기
  /bbs/memo2_form_update.php
  /bbs/write_update.php


1.0.25 (09/03/17)

투표기타의견의 db가 오류가 있습니다. 엉뚱한 테이블에 필드를 추가했네요. ㅠ..ㅠ...
g4_poll_etc 에 필드를 추가하시고, g4_poll 테이블의 pc_password 필드는 삭제해주세요.
오래된 bug 인데, 습관 때문인지 못 발견했네요. ㅠ..ㅠ...

ALTER TABLE g4_poll_etc ADD `pc_password` VARCHAR( 255 ) NOT NULL ;
ALTER TABLE g4_poll DROP `pc_password` ;

첨부파일 관련 수정요청은 다음과 같은 이유로 수정하지 않습니다.
나중에 jQuery를 써서 삼빡하게 파일첨부 관리자 만들면 그때 수정하겠습니다.
http://opencode.co.kr/bbs/board.php?bo_table=g4_books&wr_id=10


  /adm/admin.lib.php
  /adm/member_delete.php
  /adm/upgrade_bd.php
  /adm/b4_upgrade/*

  /cheditor4/insert_flash.*

  /install/sql_opencode.sql

  /lib/b4.lib.php
  /lib/thumb.lib.php




- 업그레이드 프로그램 오류 수정
  /adm/b4_upgrade/*

- 회원계정 삭제 오류 (그누보드의 버젼업 사항을 제가 누락 + typo 오류)
  /adm/admin.lib.php
  /adm/member_delete.php

- resize/thumbnail 버젼업
  /lib/b4.lib.php
  /lib/thumb.lib.php

- cheditor4의 플레쉬 삽입 스크립트 오류 수정
  /cheditor4/insert_flash.*

- 투표관련 db 오류
  /adm/upgrade_bd.php
  /adm/b4_upgrade/b4_upgrade_db.php
  /install/sql_opencode.sql


1.0.24 (09/03/13)

최근 2주 동안 삽질한 결과를 모두 반영했습니다. 자잘한 수정도 꽤 했구요.

쪽지4 - 4.0.3
불당썸 - 2.0.6
resize - 1.0.7

일단 큰 골격의 변동은 당분간 없을 것 같아서 요기서 마무리를 하겠습니다.

--
resize 코드의 위치를 bbs/view.php 등에서 해당 스킨으로 다시 이동 합니다.
제 판단이 좀 부족 했던거 같습니다. 쉽게 생각해서 bbs/view.php에 있으면
스킨을 안고쳐도 된다 생각했는데, 그게 너무 성급한 판단이었던거 같습니다.

어떤 경우에는 첨부 이미지를 작게 만들어서 보여주고, 게시글의 이미지는 정상으로
보여질 수 있게 할수도 있는데, 그런 것에 대한 선택권을 모두 없앴기 때문 입니다.

다양한 스킨을 개발 할 수 있도록 resize를 skin으로 이동하겠습니다.
이런 결정을 내리게 된 배경은 resize 함수의 기능이 더 다양해졌기 때문 입니다.

  /memo.config.php
  /head.sub.php

  /adm/admin.lib.php
  /adm/db_memo_memo4_upgrade.php
  /adm/db_memo2_memo4_upgrade.php
  /adm/member_delete.php
  /adm/member_form.php
  /adm/member_form_update.php
  /adm/member_id_change.php
  /adm/point_list.php
  /adm/visit_list.php
  /adm/img/icon_link.gif
  /adm/img/icon_referer.gif
  /adm/img/icon_whois.gif

  /bbs/memo.php
  /bbs/memo2_chkunlinkfile.php
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_delete_all_trash.php 
  /bbs/memo2_form_notice_update.php 
  /bbs/move_update.php
  /bbs/move2_update.php
  /bbs/view.php
  /bbs/view_comment.php

  /install/install_config.php
  /install/sql_opencode.sql

  /js/sideview.js
  /js/common.js
  /js/b4.common.js

  /lib/common.lib.php
  /lib/thumb.lib.php
  /lib/b4.lib.php (신규)

  /modules/attendance.php

  /skin/member/basic/memo2.skin.php 
  /skin/member/basic/memo2_bottom.skin.php 
  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/memo2_list.skin.php 
  /skin/member/basic/memo2_view.skin.php 
  /skin/member/basic/memo2_write.skin.php 
  /skin/member/basic/memo2_list.skin.php 
  /skin/member/basic/memo2_online.skin.php 
  /skin/member/basic/ajax_mb_id_check.php
  /skin/member/basic/jquery.ajax_register_form.js
  /skin/member/basic/register_form_skin.php

  /skin/board/free_image3/list.skin.php
  /skin/board/*/view.skin.php
  /skin/board/*/view_comment.skin.php

- 쪽지4 - 4.0.3
  /memo.config.php
  /bbs/memo2_chkunlinkfile.php
  /skin/member/basic/memo2_config.skin.php

- resize와의 호환을 쉽게 하기 위해서 b4.common.js를 별도 파일로 분리
  /head.sub.php
  /js/b4.common.js
  /js/common.js

- 불당썸과의 호환을 쉽게 하기 위해서 b4.lib.php를 별도 파일로 분리 (해당파일을 common.lib.php에서 읽게 수정)
  /lib/common.lib.php
  /lib/b4.lib.php

- 회원 아이디변경 (프로그램을 열어서 변경할 아이디 정보를 수정해야 함)
  /adm/member_id_change.php

- 우편번호입력시 주소정보 수정 가능하게
  /skin/member/basic/register_form.skin.php

- 게시글 이동,복사 오류 (http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=18926)
  /adm/move_update.php
  /adm/move2_update.php

- 회원삭제시 GET을 POST로 전달하는 오류 (리자님이 수정해야 하는거 먼저 수정합니다)
  /adm/member_delete.php

- 관리자님 갤러리 게시판을 불당썸 버젼으로 변경하기
  /skin/board/free_image3/list.skin.php
  /skin/board/free_image3/view.skin.php

- 최소 아이디를 4자 이상으로 하기 (유니크로 연동 때문입니다)
  /skin/member/basic/ajax_mb_id_check.php
  /skin/member/basic/jquery.ajax_register_form.js
  /skin/member/basic/register_form_skin.php

- 쪽지4 데이터 업그레이드 
  /adm/db_memo_memo4_upgrade.php
  /adm/db_memo2_memo4_upgrade.php

- 회원정보 수정시 비밀번호 분실 질문/답변 항목 등을 추가
  /adm/member_form.php
  /adm/member_form_update.php

- 쪽지4 - 4.0.1
  bbs/memo2_form_notice_update.php 

  extend/b4.lib.php 
  lib/thumb.lib.php 

  skin/member/basic/memo2_list.skin.php 
  skin/member/basic/memo2_online.skin.php 
  skin/member/basic/memo2_view.skin.php 
  skin/member/basic/memo2_write.skin.php 

- 불필요 파일 삭제
  /skin/member/basic/memo.skin.php
  /skin/member/basic/memo_form.skin.php
  /skin/member/basic/memo_view.skin.php

- resize code 위치변경 (core에서 스킨으로)
  /bbs/view.php
  /bbs/view_comment.php
  /lib/common.lib.php
  /skin/board/*/view.skin.php
  /skin/board/*/view_comment.skin.php

- 게시판 권한 보여주기
  /lib/common.lib.php

- 회원탈퇴시 관련 정보 clear 하기
  /adm/admin.lib.php

- view_comment.php에 확장필드 선택 추가 (wr_1 ~ wr_10)
  /bbs/view_comment.php

- point_list.php 포인트 sum 오류
  /adm/point_list.php

- 접속자현황 1.0.2
  /adm/visit_list.php
  /adm/img/icon_link.gif
  /adm/img/icon_referer.gif
  /adm/img/icon_whois.gif

- 사소한 수정 (관리자 기본 이메일을 admin@domain -> admin@domain.domain)
  /install/install_config.php

- sideview 코드 원래대로
  /js/sideview.js

- 출석부 (회원레벨 3 이하만 적용하기)
  /modules/attendance.php

- 설치오류 (copy & paste하다가 실수했네요 ㅠ..ㅠ...)
  /install/sql_opencode.sql

- 쪽지4 - 오류수정/기능개선
  /bbs/memo.php
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_delete_all_trash.php 
  /lib/thumb.lib.php 
  /skin/member/basic/memo2.skin.php 
  /skin/member/basic/memo2_bottom.skin.php 
  /skin/member/basic/memo2_list.skin.php 
  /skin/member/basic/memo2_view.skin.php 
  /skin/member/basic/memo2_write.skin.php 

- 설치오류 (쪽지4)
  /install/sql_opencode.sql

- resize 1.0.6 (코드 변환, 높이 지정)
  /lib/common.lib.php

- resize 1.0.5
  /lib/common.lib.php
  /lib/thumb.lib.php


1.0.23 (09/02/27)

쪽지4의 db 오류로 인해서, 이번 버젼에는 db 변경이 있습니다.
기존 사용자들은 관리자/불당팩업그레이드 메뉴를 실행하시면 됩니다.

---
쪽지4의 기능이 조금 더 안정화 될 때 한꺼번에 배포를 하겠습니다.
---

  config.php

  /adm/poll_form.php
  /adm/poll_form_update.php
  /adm/poll_list.php
  /adm/visit_list.php
  /adm/visit_ip.php
  /adm/upgrade_db.php

  /bbs/memo2_config_update.php 
  /bbs/memo2_chkunlinkfile.php
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_delete_all_trash.php

  /js/common.js

  /lib/common.lib.php
  /lib/thumb.lib.php

  /skin/board/*/view.skin.php (auction, one_line은 제외)

  /skin/member/basic/profile.skin.php
  /skin/member/basic/jquery.ajax_register_form.js
  /skin/member/basic/memo2_group_admin.skin.php
  /skin/member/basic/memo2_online.skin.php
  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/memo2.css
  /skin/member/basic/friend_update.php

  /skin/poll/basic/poll_result.skin.php

  /install/install_db.php
  /install/sql_opencode.sql

- image_window 함수에 줌 기능 추가하기
  /js/common.js

- 관리자 페이지 visit_list.php에서 http_referer 클리닝 하기
  /adm/visit_list.php

- 관리자 페이지에 ip tracking 기능추가
  /adm/visit_list.php
  /adm/visit_ip.php

- 쪽지 삭제시 첨부파일 삭제 기능 추가 
  /bbs/memo2_config_update.php 
  /bbs/memo2_chkunlinkfile.php
  /bbs/memo2_form_delete.php 
  /bbs/memo2_form_delete_all_trash.php 
  /skin/member/basic/memo2_config.skin.php 
  /adm/upgrade_db.php
  /install/install_db.php
  /install/sql_opencode.sql

- 이미지 resize 오류수정 (apache 설정이슈)
  /lib/common.lib.php
  /lib/thumb.lib.php

- 서명위치변경 (게시글 바로 밑으로)
  /skin/board/*/view.skin.php

- 쪽지4 - 기능개선
  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/memo2_online.skin.php
  /skin/member/basic/memo2.css
  /skin/member/basic/friend_update.php

- 투표게시판 (투표개요 항목 추가. 제목만 보구 투표의 개요를 알 수 있나? ㅋㅋ)
  /adm/poll_form.php
  /adm/poll_form_update.php
  /skin/poll/basic/poll_result.skin.php

  /adm/upgrade_db.php
  /install/sql_opencode.sql

- 투표 기본설정 변경 (기본으로 기타의견 입력, 투표종료일=시작일로부터 90일)
  /adm/poll_form.php

- 투표관리 화면에서 제목을 클릭하면 투표결과 페이지를 볼 수 있게 하기
  /adm/poll_list.php

- 관리자는 자기소개 화면에서 회원아이디 볼 수 있게 하기
  /skin/member/basic/profile.skin.php

- ajax 회원 가입 form 관련 오류 (눈까리님)
  /skin/member/basic/jquery.ajax_register_form.js

- 쪽지4 - 그룹이름 변경 오류 (firefox에서)
  /skin/member/basic/memo2_group_admin.skin.php

- 쪽지4 - 휴지통 비우기 오류 (코드 오류가 ㅠ..ㅠ...)
  /bbs/memo2_form_delete_all_trash.php

- 쪽지4 - 삭제오류 (db 정의가 잘못 되었어요)
  /adm/upgrade_db.php
  /install/sql_opencode.sql 

1.0.22 (09/02/20)

- 쪽지4 수정 (resize 적용하게 수정. resize_img_width를 지정. 첨부파일보기 오류 수정)
  /skin/member/basic/memo2_view.skin.php

- resize 코드 적용
  /js/common.js (image_window3 함수 추가)
  /lib/common.lib (첨부파일 resize 코드를 skin으로)

- 추천해준 사람 확인하기
  /skin/member/basic/register_form.skin.php

- jQuery 버젼업 - 1.3.2
  /js/jquery.js

- resize 함수 수정 (오류 수정 + 썸네일 기능추가)
  /lib/common.lib.php

- 썸네일 라이브러리 추가 ( http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=18419 )
  /lib/thumb.lib.php 

1.0.21 (09/02/18)

- resize 함수 오류
  /lib/common.lib.php

- 이미지 위에 마우스 올렸을 때 이미지 툴바 나오지 않게 하기
  /head.sub.php

- free_image3 워터마크 메시지 수정
  /skin/board/free_image3/view.skin.php

- free_image3 수정/삭제 버튼 누락 (이거 어디갔죠??? 귀신이 지웠나???ㅠ..ㅠ...)
  /skin/board/free_image3/view.skin.php

- 이미지 팝업창의 오른쪽 메뉴 없애버리기
  /js/common.js

- 정보비공개 -> 정보공개 언제든 가능하게 + 현재 상태 출력
  /skin/member/basic/register_form.skin.php 

1.0.20 (09/02/17)

- resize 함수 오류수정 (외부 이미지가 출력이 안됨)
  /lib/common.lib.php

- 점검시간을 알려주는 기능은 사용빈도가 낮으므로 코드에는 포함하지 않습니다.
   필요할 때 팁을 참조해서 common.php를 수정하면 됩니다.
   이미지와 html은 최지훈님 협찬 입니다.
  /on_pm.html
  /img/on_*.gif (3개) 

1.0.19 (09/02/16)

현재 등업관리 0.2를 공개해서 테스트 중 입니다. 
충분한 테스트는 없었지만 어지간한 문제는 clear된 것 같아서 포함했습니다.
미뤄뒀던 등업관리를 끝내니 맘이 편해지네요.

http://sir.co.kr/bbs/board.php?bo_table=cm_free&wr_id=308099

--
등업관리 때문에 db 업그레이드가 있습니다. 

그런데, db 업그레이드에 wr_related 필드의 오류는 수정하지 않게 했습니다.
이미 사용하시고 있는 분들의 경우에는 손으로 고쳐주시는게 가장 확실하고
아직 오류 reporting이 없는 것을 보면 쓰시는 분이 없다는 것으로 생각되어서요.

- 단어필터링 테이블 분리 (그누보드 튜닝)
  /config.php
  /adm/config_form.php
  /adm/config_form_update.php
  /adm/upgrade_bd.php
  /bbs/write.php
  /bbs/view_comment.php
  /install/sql_opencode.sql

- get_config 함수 오류 수정
  /lib/common.lib.php

- 회원 등업 관리
  /adm/admin.menu200.php
  /adm/member_level_list.php
  /adm/member_level_update.php
  /adm/member_level_history.php
  /adm/upgrade_bd.php
  /bbs/login_check.php (login_check.skin.php에서 $member 변수를 사용하려면 해당 field를 login_check.php에 추가해야 합니다. 속도 때문 입니다)
  /config.php
  /install/sql_opencode.sql
  /skin/member/basic/login_check.skin.php

- 관리자회원의 id를 생성할 때 mb_open_date 값을 입력
  /install/install_db.php

- 코멘트 잠금에서 security 오류 수정
  /bbs/proc/mw.btn.secret.php

- 자신의 코멘트를 수정할 수 없는 오류 (document.getElementById... -> f. 으로 수정)
  /lib/view.skin.lib.php
  /skin/board/*/view_comment.skin.php

- naver_naver 검색 스킨 오류수정
  /js/suggest.js
  /js/suggest2.js (삭제)

* 오랫동안 고민하던 넘을 수정해 버렸습니다. 사실은 제가 업글을 해야해서 했어요. ㅠ..ㅠ...
   혹시 다른 곳에서 문제 있슴 알려주세요.

- 관련글 오류 수정 (wr_related의 데이터 타입 오류)
  /adm/sql_write.php

아래와 같이 varchar(255) type으로 해당 게시판을 변경해줘야 동작이 됩니다.

ALTER TABLE `g4_write_test2` CHANGE `wr_related` `wr_related` VARCHAR( 255 ) NOT NULL DEFAULT '0' 


그리고, 해당 게시판의 wr_related를 clear 해줘야 합니다. 기본으로 0이란 값이 들어 있어요.
update `g4_write_test2` set wr_related=''

- 비밀글은 관련글 목록에 나오지 않게
  /lib/view.skin.lib.php

- 쪽지4 이미지 resize 코드수정
  /bbs/memo.php
  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/memo2.skin.php

- 게시판 관리자 (핸폰 인증회원 글쓰기 제한 코드 오류수정)
  /adm/board_form.php

- 배추스킨과 충돌이 나지 않게 mw_image_window 함수 이름을 변경 (image_window2)
  /js/common.js
  /lib/common.lib.php

- image protect (게시판별 - admin 또는 글쓴이만 이미지의 저장이 가능하게)
  /head.sub.php
  * jQuery로 된 경우 image가 모두 올라오기 전까지는 이미지의 저장이 가능한 문제가 있슴

- 이미지 resize 관련 코드 수정 (jQuery 삭제, resize_content로 변경, css resize 추가)
  /bbs/view.php
  /bbs/view_comment.php
  /js/board.js
  /lib/common.lib.php
  /lib/view.skin.lib.php
  /skin/board/*/view.skin.php
  /skin/board/*/view_comment.skin.php

  * css resize는 ie8부터 지원이 안되지만, ie7까지는 유효 합니다.

- wr_link1_hit, wr_link2_hit를 list.php에서 select 하게 추가
  /bbs/list.php

- 트랙백 사용이 uncheck인데, trackback 아이콘이 나오는 경우
  /bbs/view.php

- jquery loading을 구글에서 local로 변경 (속도가 상당히 늦다고 하네요)
  /head.sub.php

- free_image3 수정 (icon_trackback.gif path 오류 + 썸네일에 워터마크 안찍게)
  /skin/board/free_image3/view.skin.php
  /skin/board/free_image3/write_update.skin.php

- 목록버튼을 쓰기버튼 왼쪽에 추가하기
  /bbs/list.php 

1.0.18 (09/2/3)

- 갤러리 코드 오류 수정
  /skin/board/free_image3/view.skin.php
  /skin/board/free_image3/img/btn_nosecret.gif
  /skin/board/free_image3/img/btn_secret.gif
  /skin/board/free_image3/img/icon_trackback.gif

- 불필요코드 삭제 (그누3에서 변환하기)
  /convert/*

- 4.31.06 버젼업그레이드 (SQL injection 등의 방어)
  /bbs/point.php
  /bbs/poll_result.php
  /bbs/register_form_update.php 
  /bbs/write_update.php

- 그림에 오른쪽 마우스버튼 사용하지 않게 하기를 jQuery 코드로 변경
  /head.sub.php (관련코드 삭제)
  /js/board.js (resize code 수정)
  /skin/board/*/view.skin.php (마우스 금지 script 추가)

- ajax.js를 jQuery 코드로 변경 + ajax.js include를 그누원본 코드로 변경
  /head.sub.php (ajax.js를 include 하는 것 삭제)
  /bbs/view.php (ajax.js를 include 하게 수정 - 그누원본처럼)
  /js/ajax.js
  /skin/board/*/view.skin.php (track 함수이름 앞에 $. 붙여야지만 함)

- view.skin.php 일부 코드 단순화 (오류수정 - $posting_url 부분)
  /skin/board/*/view.skin.php

- view.skin.lib.php의 일부 java code 위치변경
  /js/ajax.js
  /lib/view.skin.lib.php

- 그누원본 게시판 이미지 resize 코드 삭제 (jQuery resize가 잘 되니까...ㅋㅋ)
  /js/board.js

- jQuery loading을 로컬에서 google hosting으로 변경
  /head.sub.php

  http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.js

- 4.31.05 버젼업그레이드 (wr_id, bo_table의 xss 방어)
  /common.php

1.0.17 (09/1/30)

- 글작성 날짜 업데이트 (게시판관리자/관리자만)
  /bbs/view.php
  /skin/board/*/view.skin.php
  /skin/board/*/img/btn_bow.gif

- 코멘트를 비밀코멘트로 바꾸기 (비밀글 버튼을 코멘트에도~!)
  /bbs/view_comment.php
  /bbs/proc/mw.btn.secret.php
  /skin/board/*/view_comment.skin.php
  /skin/board/*/img/icon_comment_secret.gif
  /skin/board/*/img/icon_comment_nosecret.gif

- 게시글을 비밀글로 바꾸기 (함부로 못쓰게 post 형식으로 변경)
  /bbs/view.php
  /bbs/proc/mw.btn.secret.php
  /lib/view.skin.lib.php

- 불필요 코드 삭제 
  /js/jquery-roundcorners-canvas091/*
  /js/backgroundCanvas/*
  /js/kcaptcha.js

- 코멘트의 action 버튼이 미리보기 새창이 뜨는거 (jQuery resize 때문)
  /js/board.js

- 트랙백 복사 관련 코드 view.skin.php에서 view.skin.lib.php로 이동 (스킨단순화)
  /lib/view.skin.lib.php
  /skin/board/*/view.skin.php 

1.0.16 (09/1/29)

- view_comment.skin.php에서 image resize를 위해서 preg_replace하는 코드 삭제
  /skin/board/*/view_comment.skin.php

- prototype kcaptcha 삭제
  /skin/board/payboard/write.skin.php

- cheditor 모드에서 코멘트 내용없음을 확인하지 못하는 오류 (재코딩)
  /skin/board/*/view_comment.skin.php

- skin.lib.php을 write.skin.lib.php, view.skin.lib.php로 세분화
  /lib/skin.lib.php
  /lib/view.skin.lib.php (신규)
  /lib/write.skin.lib.php (신규)
  /skin/board/*/view.skin.php
  /skin/board/*/write.skin.php

- write.skin.php의 kcpatcha_image 오류 수정 
  /skin/board/cheditor/write.skin.php

- kcaptcha의 image가 있을 때만 .attr과 함수를 정의하게 수정
  /js/jquery.kcaptcha.js 

1.0.15 (09/1/28)

- 글쓰기 captcha를 jQuery로 변경 (cheditor skin에 오류가 없는거 같아서 모두 적용)
  /skin/board/*/write.skin.php

- 기존 image resize java script 코드 삭제 (오류를 보시면 꼭~ 알려주세요~!!!)
  /js/board.js

- memo4 - image resize 및 사소한 수정
  /skin/member/basic/memo2_view.skin.php

- basic 게시판 스킨 삭제 (불당이 안쓰는 것이라 수정을 제대로 못하기 때문)
  /skin/board/basic/*

- 이미지 resize를 jQuery code로 변경
  /bbs/view.php
  /lib/common.lib.php
  /skin/board/*/view.skin.php
http://www.sir.co.kr/bbs/board.php?bo_table=tip_jquery&wr_id=87

- 코멘트 이미지 resize를 jQuery code로 변경
  /skin/board/*/view_comment.skin.php

- 자동출처 코드를 skin.lib.php로 이동 등 (스킨 단순화)
  /lib/skin.lib.php
  /skin/board/*/view.skin.php

- view_comment.skin.php의 자동출처 코드 삭제 (중복/불필요)
  /skin/board/*/view_comment.skin.php

- 게시글 잠금 코드를 view.php로 이동 (스킨 단순화)
  /bbs/view.php
  /lib/skin.lib.php
  /skin/board/*/view.skin.php

- 게시글 추천 스크립트 view.php로 코드이동 (스킨 단순화) 
  /bbs/view.php
  /skin/board/*/view.skin.php 

1.0.14 (09/1/23)

- jquery 1.3.1 업그레이드 (min 버젼 입니다. full version은 jquery.com에 있어요)
  /js/jquery.js

- 회원가입 form의 prototype을 모두 삭제
  /skin/member/basic/jquery.ajax_register_form.js (신규)
  /skin/member/basic/ajax_mb_name_check.php (신규)
  /skin/member/basic/register_form.skin.php

  /skin/member/basic/ajax_register_form.js (삭제)

- 회원가입 form 오류수정 (패스워드 strength msg, name check, 등록 msg 수정시 출력제한...)
  /skin/member/basic/register_form.skin.php

- 쪽지4 - 내용+첨부파일의 이미지 resize를 jQuery로 변경
  /js/board.js
  /skin/member/basic/memo2_view.skin.php

  http://www.sir.co.kr/bbs/board.php?bo_table=tip_jquery&wr_id=87

- 쪽지4 - 첨부파일이 이미지인 경우 이미지를 보여주고 이외의 경우에는 링크를 출력
  /bbs/memo.php
  /skin/member/basic/memo2_view.skin.php

- 4.31.04 버젼업 (보안패치. g4_path 공격)
  /common.php

- 비회원일때만 captcha 관련 파일 읽게 수정 (test 목적으로 cheditor 게시판만 변경)
  /skin/board/cheditor/write.skin.php
  /skin/board/cheditor/view_comment.skin.php

- norobot* 흔적 지우기 (과거 버젼의 captcha 흔적은 싹~!)
  /bbs/register_form.php 
  /bbs/view_comment.php (md5.js include는 view_comment.skin.php 파일로 이동)

- 안쓰는 코드 삭제 (인증코드 관련 오류가 발생하면 알려주세요)
  /bbs/norobot*.php (3개)

- jquery easy widgets 코드 추가 (js만)
  /js/jquery.easywidgets*.js
  /js/jquery.cookie*.js 

1.0.13 (09/1/16)

- jquery kcaptcha 적용
  /adm/config_form.php
  /adm/contents_admin/config.php
  /adm/sms_admin/config.php
  /skin/member/basic/form_mail.skin.php
  /skin/member/basic/register_form.skin.php
  /skin/member/basic/password_forget2.skin.php
  /skin/poll/basic/poll_result.skin.php
  /skin/board/cheditor/write.skin.php
  /skin/board/cheditor/view_comment.skin.php

- jquery kcaptcha
  /js/jquery.kcaptcha.js (신규)

- jquery update (1.2.6 -> 1.3.0)
  http://code.google.com/p/jqueryjs/downloads/detail?name=jquery-1.3.min.js
  /js/jquery.js

1.0.12 (09/1/14)

- js.packed 디렉토리 삭제 (관리가 어려워서 ㅠ..ㅠ. 필요하면 개별 압축 하세욤~!)

- sideview 오류 (http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=18039)
  /js/sideview.js

* 영어단어가 내용보기에서 단어 단위가 아닌 글자 단위로 잘리는 경우를 해결하기
  위해서 ie에서만 통용되는 css를 써야 한다고 합니다. 불당팩의 기본 view.skin.php의
  내용보기에 사용하는 class .ct를 변경했고, 혹시 개별 사용하시는 분을 위해서
  .break, .keep class를 style.css에 추가 했습니다.

.ct { font-family: Verdana, 굴림; color:#222222; word-break:keep-all; } 

- 영어단어가 내용보기에서 글자대로 잘리는 현상 (다내꺼, .br class 추가)
  /style.css

- 관리자/기본설정에서 아이디/별명금지단어 영자로 입력시 테이블 form 변형 (다내꺼)
  /adm/config_form.php

- head.sub.php의 DTD정의 변경 (http://www.sir.co.kr/bbs/board.php?bo_table=cm_free&wr_id=303985)
  /head.sub.php

- nick name history에서 내가 썼던 닉네임은 다시 쓸 수 있게 수정
  /skin/member/basic/ajax_mb_nick_check.php

- write.skin.php에서 java scipt src 문법 표준으로 변경 ( type='text/javascript' )
  /skin/board/*/write.skin.php 

- 쪽지4 cheditor 글쓰기창 기본 높이 (300 -> 300px) js include syntax 변경
  /skin/member/basic/memo2_write.skin.php

- 쪽지4 cheditor가 1줄로 표시되게 ms word에서 paste하는거 hide
  /cheditor4/comment.js

1.0.11 (091/13)

- 메일사용하지 않게 설정했을때 sideview에서 메일보내기가 나오지 않게 하기 (다내꺼)
  /lib/common.lib.php

- cheditor 툴바 아이콘 변경 (기존 아이콘은 icons_4.3.2 디렉토리에)
  /cheditor4/icons/toolbar*.gif

- 쪽지4 파일첨부 없을 때 메시지 수정 (http://sir.co.kr/bbs/board.php?bo_table=g4_pi_memo2&wr_id=838)
  /skin/member/basic/memo2_bottom.skin.php

- cheditor.lib.php 수정 (function cheditor1($id, $width='100%', $height='250px'))
  /lib/cheditor.lib.php

- ajax.js가 2번 로그되지 않게 수정
  /js/ajax.js

- 불필요파일 삭제 
  /cheditor4/shadow/shadow.zip

- write.skin.php에서 기본 높이에 px 붙이기 (    echo cheditor1('wr_content', '100%', '250px'); )
  /skin/board/*/write.skin.php 

1.0.10 (091/7)

- 최근글에서 파일 정보가 나오게 수정 (wr_file_count를 포함)
  /lib/latest.lib.php

- 자기소개 팝업창 크기조정 (스크롤바가 안나오게)
  /js/common.js

- g4_sms4가 정의되지 않은 app(예. gblog)의 sideview에서 오류나는거 방지
  /js/sideview.js

- 쪽지4 글쓰기 (title 정렬 오류. 왜 생겼죠? ㅠ..ㅠ...)
  /skin/member/basic/memo2_write.skin.php

- 게시판 목록의 인기글 오류 (latest -> latest_popular. cheditor에만 샘플 적용됨)
  /skin/board/cheditor/list.skin.php

- 쪽지4 - 설정 layout 정렬오류 
  /skin/member/basic/memo2_config.skin.php

- 쪽지4 - 쪽지창에 사이트 title 표시
  /bbs/memo.php

- latest skin  수정 (css/div 레이아웃에서 width 오류 안나오게)
  /skin/latest/simple/*.php

- outlogin skin 수정 (css/div 레이아웃에서 width 오류 안나오게)
  /skin/outlogin/transparent/*.php

http://www.sir.co.kr/bbs/board.php?bo_table=g4_qa&wr_id=115911 

1.0.9 (08/12/30)

* cheditor 버젼이 바뀌면서 comment.js의 함수도 싹~ 바뀌었는데 그것을 안봤더니
  java script 오류가 나오고, 그 결과로 코멘트 답글이 안달리는 오류가 나왔어요.
  우연히 오류를 봐서 찾다가 보니, 덜덜~ 떨리는 오류라서 급하게 수정했습니다.

(원본)
   editor.resetEditArea(document.getElementById('save_comment_'+comment_id).value);

(수정본)
   editor.resetEditArea('');
   editor.replaceContents(document.getElementById('save_comment_'+comment_id).value);

(원본)
function editorReset () {
   editor.setEditorOpt();
   editor.editArea.focus();
}

(수정본)
function editorReset () {
    editor.setDefaultCss();
    editor.setEditorEvent();
   editor.editArea.focus();
}
---

- 그누보드 기본 style에 naver style을 추가
  /style.css

- 그누보드 4.31.03 (08.12.29일 release)
  /bbs/kcaptcha_session.php
  /lib/common.lib.php

 :  잦은 토큰 에러로 인하여 토큰을 사용하지 않도록 수정 (check_token 함수) 
:  CAPTCHA 이미지 제대로 출력되지 않는 오류 수정 (character-set 문제) 

   http://www.sir.co.kr/bbs/board.php?bo_table=g4_pds&wr_id=4173

- cheditor 불필요한 코드 삭제 (삭제된 코드는 _deleted.zip 파일을 참조하세요)
  /cheditor4/example/
  /cheditor4/attach/
  /cheditor4/4.2.4/
  /cheditor4/4.3.0/
  /cheditor4/4.3.1/
  /cheditor4/4.3.2/

- 코멘트 답변글 오류 (cheditor 4.2.3의 프로그램에서 reset 함수가 빠짐 등. oneline은 제외)
  /skin/board/*/view_comment.skin.php

- 쪽지4 - 4.0.1 오류수정 (회원그룹 관련 리포팅된 오류 수정)
  /skin/member/basic/memo2_group_*.php

- 포인트정리 프로그램 수정 (삭제할꺼가 많은거 부터 삭제하게...)
  /adm/point_clear.php 

1.0.8 (08/12/24)

불당팩 1.0.8에서 db 변경이 있습니다. 
1.0.7에서 업글 할때는 관리자/불당팩 업그레이드를 수행해 주세요.

---

- 포인트정리 프로그램 개선 (정리일자를 지정가능. 30일 이전의 30건이 넘는 내역만 삭제)
  /adm/point_clear.php
  /adm/point_list.php

- 쪽지4 - 4.0.1 친구관리 오류 수정 + 불여우/크롬 호환
  /skin/member/basic/friend_list.php
  /skin/member/basic/friend_update.php
  /skin/member/basic/friend_memo_update.php
  /skin/member/basic/friend_delete.php

- 그누보드튜닝 - g4_login (index 추가)

  /install/sql_opencode.sql
  /adm/upgrade_bd.php

  /gbd_upgrade/upgrade_sql_opencode.sql

- 그누보드튜닝 - g4_login
  /tail.sub.php

- meta 정보 (author, keywords, description)
  /head.sub.php

  /adm/config_form.php
  /adm/config_form_update.php

  /install/sql_opencode.sql
  /adm/upgrade_bd.php

  /gbd_upgrade/upgrade_sql_opencode.sql

ALTER TABLE `g4_config` ADD `cf_meta_author` VARCHAR( 255 ) NOT NULL ,
ADD `cf_meta_keywords` VARCHAR( 255 ) NOT NULL ,
ADD `cf_meta_description` VARCHAR( 255 ) NOT NULL ;

- style.css.pack 파일삭제 (압축을 했더니 한글이 깨어집니다. 굴림...ㅠ..ㅠ...)
  /style.css.pack 

1.0.7 (08/12/22)

- memo.config.php 수정 (업글 때문에)
  /memo.config.php
  
- utf-8 관련 수정 (개별적인 프로그램 테스트는 못 했습니다)
  /skin/board/free_image3/skin.lib.php
  /modules/naver_kin.php
  /cheditor4/*.html 

- adm/repair.php 오류
  /adm/repair.php

- 그누보드 튜닝 (list.php - 게시판 검색)
  /bbs/list.php

1.0.6 (08/12/19)

1.0.6에서 db가 변경되었으므로 관리자/불당팩 업그레이드로 db를 변경해주세요.
---

- 게시글 출력기능 추가
  /skin/board/print_content.cheditor.js (cheditor_* 스킨에 공통된 js)
  /skin/board/*/view.skin.php (auction/basic/free_image3/cheditor_oneline은 제외)
  /skin/board/*/img/btn_print.gif

- file session과 db session을 선택하기 쉽게 코드 수정 (기본은 db세션)
  /common.php

- 쪽지4 - 4.0.1 쪽지출력기능 추가
  /skin/member/basic/memo2_view.skin.php

- 쪽지4 - 4.0.1 쪽지출력기능 설정추가
  /skin/member/basic/memo2_config.skin.php
  /bbs/memo2_config_update.php

  /install/sql_opencode.sql
  /adm/upgrade_bd.php

- 쪽지4 - 4.0.1 config 저장오류시 코드보완 (무조건적 초기화를 안하게)
  /bbs/memo2_config_update.php

- 쪽지4 - 4.0.1 css 파일분리
  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2.css

- 쪽지4 - 4.0.1 html 편집기 mode를 off 했을 때 줄바꿈이 안되는 오류 ($html=2를 기본으로 설정)
  /bbs/memo.php

- 프로그램 오류수정 (http://g4.miwit.com/bbs/board.php?bo_table=g4_qna&wr_id=616)
  * 오류를 일으키는 코드라서 원본으로 복구함

  
1.0.5 (08/12/15)

- 쪽지 sideview 오류 수정
  /js/sideview.js
  /js/common.js

- js 디렉토리 이름변경 (utf-8 변경시 헷갈리시는거 같아서)
  /js : source java script (1.0.4의 js.src)
  /js.packed : compressed java script (1.0.4의 js)

속도를 향상하시고 싶은 경우에는 js.packed의 js 파일을 js로 올리시면 됩니다.

- 별명 글자수 check 오류
  /js/common.js (check_byte2 함수 추가)
  /skin/member/basic/ajax_register_form.js

- set_cookie 함수변경 (배추팁으로)
  /js/common.js 

1.0.4 (08/12/12)

1.0.4에서 db 변경이 있습니다. 

업그레이드를 하는 경우 /adm/upgrade_bd.php를 먼저 업로드해서 실행을 한 다음에 
변경된 파일들을 업로드 해야지만 합니다. 안그러면 세션 오류가 발생해서 무한루프 돕니다.

----
* 편집기 이모티콘을 판다독으로 바꿨습니다. 프로그램을 수정해야 해서 좀 불편해요.
그렇다고 이번 시즌에 사용할 이모티콘 목록을 db에 넣어두는 것도 귀챦기도 하네요.
당분간은 프로그램을 하드코딩해서 쓰다가 나중에 생각이 나면 db로 바꾸겠습니다.

판다독 http://blog.naver.com/pandadog  
----
* 스킨 재구성이란 ??? 
  불필요하게 많은 파일을 삭제하고, 핵심기능은 그누 코드로 이전해서
  이후에 스킨을 수정관리하기 쉽게 하기 위한 것 입니다. 진작에 할 일인데 늦었어요.
  삭제된 파일들은 gdb_delete.zip 압축파일에 들어 있습니다.
----
매뉴얼은 이곳에서...
http://opencode.co.kr/bbs/board.php?bo_table=gnu4_pack&wr_id=160
----

- 실시간쪽지기능 수정
  /bbs/singo_popin_update.php

- 가입일자/포인트 기준으로 레벨업 해주는 예제
  /lib/login_check.skin.php (삭제. 파일위치 변경)
  /modules/login_check.skin.php

- 편집기 이모티콘 변경 (msn style의 꾸질한거에서 판다독으로...ㅋㅋ)
  /cheditor4/insert_emicon.html 
  /cheditor4/em/pan_*.gif 

- 배추스킨 따라잡기 (게시판 목록의 인기게시물 출력기능)
  /adm/board_form.php
  /adm/board_form_update.php
  /lib/latest.lib.php
  /skin/latest/simple_box/*
  /skin/board/cheditor/list.skin.php (샘플 코드로 cheditor 스킨에만 적용했어요)

  /install/sql_opencode.sql
  /adm/upgrade_bd.php

ALTER TABLE `g4_board` ADD `bo_hot_list` TINYINT( 4 ) NOT NULL DEFAULT '0',
ADD `bo_hot_list_basis` VARCHAR( 5 ) NOT NULL DEFAULT 'hit';

- 핸드폰 인증된 회원만 글쓰기 가능하게 하기 (스킨의 관련코드는 스킨정리시 같이 정리)
  /adm/board_form.php
  /adm/board_form_update.php

  /bbs/write.php

  /install/sql_opencode.sql
  /adm/upgrade_bd.php

ALTER TABLE `g4_board` ADD `bo_hhp` TINYINT( 4 ) NOT NULL ;
  
- 스킨 재구성 (파일삭제. 데이터가 없는 스킨 확장 파일. 속도를 위해서)
  /skin/board/cheditor/delete.skin.php
  /skin/board/cheditor/delete.head.skin.php
  /skin/board/cheditor/delete.tail.skin.php
  /skin/board/cheditor/delete_all.head.skin.php
  /skin/board/cheditor/delete_all.skin.php
  /skin/board/cheditor/delete_all.tail.skin.php
  /skin/board/cheditor/download.head.skin.php
  /skin/board/cheditor/download.skin.php
  /skin/board/cheditor/download.tail.skin.php
  /skin/board/cheditor/write_update.skin.php
  /skin/board/cheditor/write_comment_update.skin.php
  /skin/board/cheditor/write_comment_update.head.skin.php
  /skin/board/cheditor/write_comment_update.tail.skin.php
  /skin/board/cheditor/write.head.skin.php

  다른 게시판 스킨의 경우도 불필요한 것은 모두 삭제하였으니 참조하세요.

- 스킨 재구성 (ccl 쓰기를 write_update.skin.php에서 write_update.php로 이동)
  /bbs/write_update.php
  /skin/board/*/write_update.skin.php

- 배추스킨과의 충돌방지 + 스킨의 일부 기능을 함수로 변경
  /lib/common.lib.php
  /lib/skin.lib.php (스킨에서 사용하는 lib을 모아두는 lib. mw_*를 이곳으로 이동)
  /skin/board/*/view.skin.php
  /skin/board/*/write.skin.php

- 그누보드 오류수정 (다음 버젼에서 리자님이 고쳐주실때까지...)
  /adm/mail_list.php (token생성을 안했슴)

- 중복로그인 처리 (불당팁에서 배추팁으로 변경. 제팁은 mb_id를 분리안했거든요)
  /bbs/login_check.php
  /lib/mw.session.db.lib.php

  /install/sql_opencode.sql
  /adm/upgrade_bd.php

* 세션을 db로 관리하기 때문에, db를 먼저 업글한 다음에 프로그램을 업글하거나
  (adm/upgrade_bd.php를 수행후 다른 프로그램을 올려야지 문제가 없습니다)
  프로그램을 업글한 다음에 phpMyAdmin에서 db를 바꿔줘야 합니다.

ALTER TABLE `g4_session` ADD `mb_id` VARCHAR( 20 ) NOT NULL AFTER `ss_data` ;
ALTER TABLE `g4_session` ADD INDEX `mb_id` ( `mb_id` , `ss_ip` );

- 불당팩 업그레이드 프로그램 수정 (쪽지4 설정을 못 읽어들임)
  /adm/upgrade_bd.php

1.0.3 (08/12/10)

- 설치 sql 정리 (/install/sql_gnuboard4.sql이 원본 그누와 같게)
  /install/sql_gnuboard4.sql
  /install/sql_opencode.sql

- 쿠키를 안전하게
  /lib/common.lib.php

- domain forwarding 및 멀티 도메인 사용시를 위해서
  /config.php

- 회원가입 입력창의 언어셋 고정
  /skin/member/basic/register_form.skin.php
  * mb_id, mb_password, mb_password_re, mb_email : 무조건 영문으로
  
- 회원가입 form의 속도개선
  /skin/member/basic/ajax_register_form.js

- popup의 drag jquery 변경 (easydrag -> ppdrag. 플록님이 이게 더 좋데요)
  /js/jquery.ppdrag.js
  /js.src/jquery.ppdrag.js
  /skin/popup/basic/popup.skin.php

- 내용만 있는 popup의 커서를 move type으로 기본지정
  /skin/popup/basic/popup.skin.php

- popup에서 jquery include 관련 코드 오류 수정
  /skin/popup/basic/popup.skin.php 

1.0.2 (08/12/08)

- utf-8 설치오류 (더듬이님)
  /install/sql_opencode.sql

- cheditor 4.3.2 업그레이드 (일부 오류 수정)
  /cheditor4/cheditor.js

1.0.1 (08/12/05)

- 배추의 게시판별 접속로그 튜닝 (데이터를 매일 clean 하게. 메모를 삭제할 때 같이)
  /skin/member/basic/login_check.skin.php

- memo.php의 데이터 삭제 부분 이동 (파일의 용량을 줄이기 위해)
  /bbs/memo.php
  /skin/member/basic/login_check.skin.php

* login_check.skin.php의 파일 loading 횟수는 memo.php보다 아주 작습니다.
  따라서 파일의 용량이 2k 줄어들지만 서버의 traffic은 크게 감소할 겁니다.

- 배추의 게시판별 접속로그 튜닝 (select 한 후 insert)
  /common.php

- utf-8 설치 오류 (board_visit_log_table의 index가 너무 커서 로그변수를 68로 조정)
  (게시판이나 그룹의 id를 늘리고 싶은 경우에는 board_visit_log_table 테이블도 조정해야 함)
  /install/sql_opencode.co.kr

- 중복로그인 방지
  /bbs/login_check.php
  /lib/mw.session.db.lib.php

  /install/sql_opencode.sql
  /adm/upgrade_bd.php

ALTER TABLE `g4_session` ADD `ip_addr` VARCHAR( 255 ) NOT NULL ;

- 신고횟수+기간제한으로 글쓰기를 금지하기 (게시판 설정화면에서 입력)
  (1,3|2,7 과 같이 입력하면 최근 3일간 1번/7일간 2번 신고 있으면 글쓰기 금지시킵니다)
  /lib/write.lib.php
  /bbs/write.php

- 그누튜닝 (없는 파일은 로딩하지 않게 하기. login_check.skin.php)
  /bbs/login_check.php

- (배추) 파일 세션파일 삭제 팁 삭제 (db는 삭제하지 않고 그대로 둠. 속도 때문)
  /skin/member/basic/login_check.skin.php

- cheditor 4.3.2 업그레이드
  /cheditor4/cheditor.js
  /cheditor4/comment.js
  /cheditor4/default.css

- 배추의 db세션의 속도개선 (update then insert)
  (replace into의 update = delete + insert이므로 키를 다시 만들어야 하기에 속도가 늦음)
  /lib/mw.session.db.lib.php
  /lib/common.lib.php

- 쪽지2 4.0.1 (cf_memo_page_rows 오류 대응. 값이 없거나 0보다 작을때)
  /bbs/memo.php


1.0.0 (08/12/04)

- 쪽지4 - 4.0.1 (쓰기오류. me_memo is null???)
  /skin/member/basic/memo2_write.skin.php

- 팝업스킨의 일반화 (jQuery load를 선택적으로 하게)
  /skin/popup/basic/popup.skin.php

- login fail 이후의 action 오류 (typo 오류)
  /bbs/login_check.php

- cheditor 4.3.1 업그레이드
  /cheditor4/default.css
  /cheditor4/insert_emicon.html
  /cheditor4/p.css (신규)
  /cheditor4/comment.js
  /cheditor4/cheditor.js
  /cheditor4/4.3.1/* (4.3.1 코드)

  /lib/cheditor4.lib.php (반드시 업글해야 함)

  /skin/board/cheditor_*/view_comment.skin.php (editorPath의 변경)
  /skin/board/auction/view_comment.skin.php (editorPath의 변경)
  /skin/board/payboard/view_comment.skin.php (editorPath의 변경)

- 쪽지4 - 4.0.1 (install - 불당팩에서는 배포 하지 않음. 별도 배포용)
  /adm/memo4_install.php
  /adm/memo4_install_update.php
  /adm/memo4.sql
  /memo.config.php

- 신고 (신고된 게시글 숫자+제한 기간으로 글쓰기를 금지시키기. 기능은 나중에 추가)
  /adm/board_form.php
  /adm/board_form_update.php
  /install/sql_opencode.sql

ALTER TABLE `g4_board` ADD `bo_singo_nowrite` VARCHAR( 255 ) NOT NULL ;

- 불당팩 설치/업그레이드 관련 관리자 메뉴 변경
  /adm/admin.menu100.php
  /adm/version_bd.php
  /adm/upgrade_bd.php (신규. pre38부터는 버젼 업그레이드를 지원할 것 입니다)

- 사용자그룹정보 미출력 (테스터)
  /adm/member_list.php

- form 위치수정 
  /adm/config_form.php

- 세션삭제 프로그램 수정
  /adm/delete_session.php

--- (rev.10) ---


- 팝업관리자 1.0.3
  /lib/popup.lib.php ($subject_len을 255로 변경)
  /skin/popup/basic/popup.skin.php (writeContents의 id 중복이 없게. 맵오류 등)

- 중복로그인 허용여부 설정 (기본설정. 기능은 추후 추가)
  /adm/config_form.php
  /adm/config_form_update.php

  /install/sql_opencode.sql

ALTER TABLE `g4_config` ADD `cf_double_login` TINYINT( 4 ) NOT NULL ;

- 게시물의 프린트출력 허용여부 (게시판별 설정. 레벨로 지정. 기능은 추후 추가)
  /adm/board_form.php
  /adm/board_form_update.php

  /install/sql_opencode.sql
  ALTER TABLE `g4_board` ADD `bo_print_level` TINYINT( 4 ) NOT NULL ;

- cheditor 4.3.0 업그레이드 (일부 버그로 인해서 메인코드의 업글은 유예함)
  /cheditor4/examples/comment.html
  /cheditor4/icons/edit_mode_code.gif
  /cheditor4/icons/edit_mode_rich.gif
  /cheditor4/icons/edit_mode_view.gif
  /cheditor4/icons/statusbar_bgline.gif
  /cheditor4/icons/button/* (use_*를 제외한&nbsp;이미지파일들이 추가됨. 9개)
  /cheditor4/patterns/thumbnail/dot.gif
  /cheditor4/shadow/*
  /cheditor4/default.css
  /cheditor4/dialog.css
  /cheditor4/*.html (그누에서는 *.php로 다시 코딩되어 있슴)

  /cheditor4/4.2.4/* (4.2.4 버젼의 코드)

  /cheditor4/4.3.0/* (4.3.0 버젼의 코드)

- 게시물복사 오류(테스터님)
  /adm/board_delete.inc.php

--- (rev.9) ---

- 팝업관리자 1.0.1
  /skin/board/cheditor_popup/view.skin.php
  /skin/board/cheditor_popup/write.skin.php
  /skin/popup/basic/popup.skin.php

- jQuery.js를 압축버젼으로 교체 (54k -> 30k)
  /js/jquery.js

- comment.js에서 tag path, Preview를 보이지 않게 설정변경
  /cheditor4/comment.js

- 게시판관리/게시판관리자 헬프 아이콘 위치조정(줄바꿈없게)
  /adm/board_form.php
&nbsp;
- 쪽지4 - 4.0.1 (보완)
  /skin/member/basic/img/spam_cancel_all.gif (신규)

--- (rev.8) ---

- 팝업관리자 (골뱅이님의 개념과 코드를 많이 빌렸습니다)
  /skin/board/cheditor_popup/*
  /skin/popup/basic/*
  /lib/popup.lib.php
  /js/jquery.easydrag.js (압축버젼)
  /js.src/jquery.easydrag.js

  http://www.sir.co.kr/bbs/board.php?bo_table=g4_skin&wr_id=79926 

--- (rev.7) ---

- 며칠후에 개인정보 공개를 수정할 수 있는지 표시
  /skin/member/basic/register_form.skin.php

- 개인정보 공개 수정제한일자가 0일 이상인 경우에는 표시하지 않음
  /skin/member/basic/register_form.skin.php

- 개인정보 수정화면에서 닉네임을 언제 바꿀 수 있는지 표시
  /skin/member/basic/register_form.skin.php

- 갤러리 스킨 보기/쓰기 오류
  /skin/member/free_image3/view.skin.php
  /skin/member/free_image3/write.skin.php

--- (rev.6) ---

- 쪽지4 - 4.0.1 (스팸쪽지 회수)
  /bbs/memo2_form_spam_cancel.php (신규)
  /skin/member/basic/memo2_view.skin.php

- 쪽지4 - 4.0.1 (휴지통비우기. 전체비우기는 휴지통만 허용합니다.)
  /bbs/memo2_form_delete_all_trash.php
  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2_list.skin.php
  /skin/member/basic/img/btn_all_del.gif

- 신고기능의 쪽지발신에 html 옵션을 적용하기
  /bbs/singo_popin_update.php

- 쪽지4 - 4.0.1 (휴지통기능, 자동응답기능, 공지메모기능, 설정관리)
  /bbs/memo.php
  /bbs/memo2_form_delete.php
  /bbs/memo2_config_form_update.php
  /bbs/memo2_form_recover.php
  /bbs/memo2_form_update.php

  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/memo2_view.skin.php

  /install/sql_opencode.sql

ALTER TABLE `g4_memo_trash` ADD `me_from_kind` VARCHAR( 255 ) NOT NULL ;


ALTER TABLE `g4_memo_trash` DROP PRIMARY KEY ,
ADD PRIMARY KEY ( `me_id` , `me_from_kind` ) 

ALTER TABLE `g4_member` ADD `mb_memo_no_reply` TINYINT( 4 ) NOT NULL AFTER `mb_realmemo_sound` ;
ALTER TABLE `g4_member` ADD `mb_memo_no_reply_text` text NOT NULL AFTER `mb_memo_no_reply` ;

- 게시글 쓰기 화면에서 파일목록에 다운로드 횟수 보이게 하기 (조회에서는 다운횟수/업로드일자가 보임)
  /bbs/write.php

- 우편번호 업데이트 11월18일자
  /bbs/zip.db

- 쪽지4 - 4.0.1 (기본 style 재정비)
  /skin/member/basic/memo2.skin.php
  /skin/member/basic/friend_list.php
  /skin/member/basic/memo2_group_admin.skin.php
  /skin/member/basic/memo2_group_member.skin.php
  /skin/member/basic/memo2_online.skin.php
  /skin/member/basic/memo2_memo_address_book.skin.php

- 쪽지 (스팸신고 오류 수정)
  /bbs/singo_popin_update.php

- 쪽지4 - 4.0.1 (보기화면의 버튼 주소 오류)
  /bbs/memo.php

- captcha loading 이미지를 수정 (알기쉽게)
  /img/captcha_loading.gif

- 포인트를 안쓰는 경우 아웃로그인박스에서 포인트가 출력되지 않게 하기
  /skin/outlogin/*/outlogin.skin.2.php

--- (rev.5) ---

- 쪽지4 - 4.0.1 (기본 화면 수정, 불필요 코드삭제 등)
  /bbs/memo.php
  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2_list.skin.php

- unicro cookie를 선택적으로 굽게 하기
  /config.php (필요시에만 관련 주석을 해제)
  /common.php

- 쪽지창이 겹치지 않게 하기 (코드수정)
  /js/common.js
  /js.src/common.js
  /skin/outlogin/basic/outlogin.skin.2.php
  /skin/outlogin/transparent/outlogin.skin.2.php

- 세션관리를 db로 변경(배추팁 - http://sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=17451)
  /config.php
  /common.php

  /lib/mw.session.db.lib.php

  /install/sql_opencode.sql

CREATE TABLE IF NOT EXISTS `g4_session` (
  `id` varchar(32) NOT NULL,
  `ss_datetime` datetime NOT NULL,
  `ss_data` text NOT NULL,
  PRIMARY KEY  (`id`),
  KEY `se_datetime` (`ss_datetime`)
);

- 압축된 css 파일 추가 (사이트 속도개선이 필요한 경우 압축파일을 사용하세요)
  /css.style.pack 

- 코드단순화 (select * from $g4[memer_table] ... get_member 함수로)
  /lib/contents.lib.php
  /bbs/singo_search.php
  /bbs/singo_popin.php
  /bbs/password_forget3.php
  /bbs/email_stop.php
  /bbs/email_certify.php
  /bbs/point_list.php
  /bbs/singo_list.php

- 쪽지2 흔적 지우기 (기본설정 업데이트 오류)
  /adm/config_form.php
  /adm/config_form_update.php

--- (rev.4) ---

- 컨텐츠몰 설치오류 수정
  /adm/contents_admin/install.php

- 컨텐츠몰 실행 오류 수정
  /contents/_common.php

- 쪽지4 - 4.0.1 (베타1 - 쪽지쓰기에 $html 값을 기억하게 하기, 버그수정)
  /bbs/memo.php
  /bbs/memo2_form_update.php
  /bbs/memo2_form_notice_update.php

  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/memo2_write.skin.php

* 현재는 쪽지 편집창이 html에서 쓴 것인지, 그냥 창에서 쓴 것인지 구분이 없어요.

--- (rev.3) ---

- 설치 프로그램 오류 수정 (파일 다운로드 이력에서 필드 1개 누락)
  /install/sql_opencode.sql 

- 갤러리스킨 다운로드 오류 수정
  /skin/member/free_image3/view.skin.php

- 쪽지4 - 4.0.1 (베타1 - memo2.php 코드를 memo.php로 변경)
  /bbs/memo2_form_cancel.php
  /bbs/memo2_form_delete.php
  /bbs/memo2_form_notice_update.php
  /bbs/memo2_form_save.php
  /bbs/memo2_form_update.php

--- (rev.2) ---

- 설치오류 수정
  /config.php
  /install/sql_opencode.sql
  /install/sql_gnuboard4.sql

- 쪽지4 - 4.0.1 (베타1)
  /bbs/memo.php
  /bbs/memo2_config_update.php

  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2_bottom.skin.php
  /skin/member/basic/memo2_config.skin.php

- js 파일 압축 ( http://www.creativyst.com/Prod/3/&nbsp;)
  /js/*&nbsp;  (압축된 js 파일)
  /js.src (js의 소스파일. 원본)

--- (rev.1) ---

- 불당팩 소프트웨어 라이센스 파일 추가
  /install/index.php
  /LICENSE_BD

- 업그레이드 관련 코드 삭제
  /adm/upgeade_*.php (13개)
  /adm/memo2_*.php (3개) 

- 쪽지4 - 4.0.1 적용 (알파버젼. 기능이 50% 정도 동작하고 있습니다 ^^)
  /config.php

* 기존의 쪽지관련 테이블 설정을 모두 뺐습니다. 속도에 영향을 주기 때문입니다.

  /memo.config.php (신규)

  /bbs/memo.php
  /bbs/memo2_config_update.php
  /bbs/memo2.php (삭제)

  /js/common.js

  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2_config.skin.php
  /skin/member/basic/memo2_write.skin.php

  /skin/outlogin/transparent/outlogin.skin.2.php

  /install/install_db.php (memo.config.php를 읽어들이게...)
  /install/sql_gnuboard4.sql (쪽지2 관련 수정사항 삭제. 원본으로 복귀)
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

  * 기존 쪽지 테이블의 이름 바꾸기
RENAME TABLE `democode`.`g4_memo` TO `democode`.`g4_memo_backup` ;


- 쪽지4&nbsp;memo.config.php를 include 해주기
  /bbs/singo_popip_update.php&nbsp;
  /bbs/download_memo_file.php
  /bbs/memo2_form_cancel.php
  /bbs/memo2_form_delete.php
  /bbs/memo2_form_notice_update.php
  /bbs/memo2_form_save.php
  /bbs/memo2_form_spam.php
  /bbs/memo2_form_update.php
  /bbs/singo_member_update.php

- utf-8 설치관련 오류 수정
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

-&nbsp;게시글의 비밀글 표시 오류
  /skin/member/*/view_comment.skin.php

- 신고하는 경우 신고한 사람/신고된 사람의 포인트를 차감 (무분별한 신고를 막기 위해서)
  /adm/config_form.php
  /adm/config_form_update.php

  /bbs/singo_popin_update.php
  /skin/member/basic/singo_popin.skin.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

ALTER TABLE `g4_config` ADD `cf_singo_point_send` INT( 11 ) NOT NULL AFTER `cf_singo_point` ,
ADD `cf_singo_point_recv` INT( 11 ) NOT NULL AFTER `cf_singo_point_send` ;

- 신고기능 보완
  /bbs/singo_popin_update.php

- 설치프로그램 오류 (신고사유)
  /install/sql_opencode.sql

- sms4 예약발송 오류 수정
  /sms/skin/basic/write.skin.php

- 1:1 게시판 수정
  /skin/board/cheditor_1to1/list.skin.php
  /skin/board/cheditor_1to1/view.skin.php

- 파일첨부 버튼 위치고정(상단으로)
  /skin/board/cheditor_*/write.skin.php
  /skin/board/payboard/write.skin.php
  /skin/board/free_image3/write.skin.php

- 컨텐츠몰 설치오류 
  /adm/contents_admin/config.php

- get_group 함수의 범용화(?)
  /lib/common.lib.php

- 게시판 튜닝 script 보완 (태사랑)
  /adm/upgrade_board_index.php

- php 정보 화면깨어짐 해결 (테스터님이 해결해줌^^)
  /adm/phpinfo.php
  /adm/phpinfo_view.php

- 프로그램 오류 (태사랑)
  /modules/my_comment.php

- 비회원 sideview 오류 수정 (태사랑)
  /lib/common.lib.php

- 화면오류 수정
  /adm/poll_list.php

- 다운로드 내역
  /adm/admin.menu300.php
  /adm/board_delete.inc.php
  /adm/download_list.php
  /adm/download_list_delete.php
  /bbs/download.php
  /bbs/move_update.php
  /bbs/move_update2.php

  /adm/upgrade_bd_pack.php
  /install/sql_opencode.php

CREATE TABLE `g4_board_file_download` (
  `dn_id` int(11) NOT NULL auto_increment,
  `bo_table` varchar(20) NOT NULL,
  `wr_id` int(11) NOT NULL,
  `bf_no` int(11) NOT NULL,
  `mb_id` varchar(255) NOT NULL,
  `download_point` int(11) NOT NULL,
  `dn_datetime` datetime NOT NULL,
  `dn_count` int(11) NOT NULL,
  `dn_ip` varchar(255) NOT NULL,
  UNIQUE KEY `dn_id` (`dn_id`),
  KEY `index1` (`bo_table`,`wr_id`),
  KEY `mb_id` (`mb_id`)
) 

- 게시판 복사 오류 (주바라기님)
  /bbs/move.php

- 쪽지4 - 이모티콘 등의 insert를 할 때 페이지 없슴오류 (주바라기님)
  /cheditor/comment.js


pre36 (11/07/2008)

- iconv가 없는 서버에서 오류해결
  /bbs/iconv.php
  /skin/member/basic/ajax_mb_nick_check.php

- payboard 스킨 업데이트 (cheditor 스킨으로)
  /skin/board/payboard/list.skin.php
  /skin/board/payboard/view.skin.php
  /skin/board/payboard/view_comment.skin.php
  /skin/board/payboard/write.skin.php

- 쪽지2 cheditor 스크립트 버젼업 + 크롬대응(4.0.1에 포함될 것)
  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/memo2_write.skin.php

- 코드오류 수정
  /adm/member_form_update.php
  /bbs/singo_member.php
  /bbs/singo_member_update.php

- 코드 수정 (버젼업 미반영)
  /adm/boardgroupmember_update.php

- 그룹아이디 변경시 코드오류 (board_new, mw_visit를 업데이트 못하는 오류)
  /adm/board_form.php
  /adm/board_form_update.php
  
- 코멘트 html 글쓰기 레벨지정
  /adm/board_form.php
  /adm/board_form_update.php
  /bbs/view_comment.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- 코멘트 글쓰기에 cheditor 최근버젼 적용하기 + 버젼업(captcha 변경 등)
  /bbs/view_comment.php
  /skin/board/*/view_comment.skin.php (개발중인것과 한줄글쓰기는 제외)

- 투표기능 버젼업
  /adm/poll_list.php
  /adm/poll_form.php
  /adm/poll_form_update.php
  /adm/upgrade_bd_pack.php
  /bbs/poll_result.php
  /bbs/poll_update.php
  /lib/poll.lib.php
  /skin/poll/basic/poll.skin.php
  /skin/poll/basic/poll_result.skin.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- 게시판 글쓰기에 cheditor 최근버젼 적용하기 + 버젼업
  /skin/board/cheditor_*/write.skin.php (한줄 게시판은 별도 작업합니다. 현재 미적용)
  /skin/board/auction/write.skin.php
  /skin/board/free_image3/write.skin.php

- 비회원 html 글쓰기 오류 수정
  /bbs/write.php

- $g4[path]/bbs를 $g4[bbs_path]로 수정하기
  /skin/board/payboard/view.head.skin.php

- 투표 등록 타이포 오류 (주바라기)
  /adm/poll_form_update.php

- 정보보호진흥원 수정권고사항 반영 (개인정보취급방침을 붉은 색으로...)
  /tail.php

- 투표오류 수정 (비회원 닉네임 안보이는 현상)
  /bbs/poll_result.php

- 투표에 captcha 적용
  /bbs/poll_etc_update.php
  /skin/poll/basic/poll_result.skin.php

- 닉네임변경이력 (관리자)
  /adm/nickname_list.php
  /adm/nickname_list_delete.php

- jquery.js를 기본으로 loading하게 코드를 수정
  /head.sub.php
  /adm/board_form.php

- 코드수정
  /lib/security.lib.php

- 개인정보 관련 사항 설치시 기본으로 db에 넣어주기
  /company/priv1.txt
  /company/priv2.txt
  /company/priv3.txt
  /company/priv4.txt
  /install/install_db.php

- captcha loading시 배꼽 없애주기
  /img/captcha_loading.gif
  /adm/config.php
  /adm/contents_admin/config.php
  /adm/sms_admin/config.php
  /skin/member/basic/formmail.skin.php
  /skin/member/basic/password_forget2.skin.php
  /skin/member/basic/register_form.skin.php
  /skin/board/basic/write.skin.php
  /skin/board/basic/view_comment.skin.php

- 컨텐츠몰 설정에 captcha 적용하기
  /adm/contents_admin/config.php
  /adm/contents_admin/config_update.php

- 컨텐츠몰 설치안되었을 때, 설정하기 누르면 설치하기로 이동하기
  /adm/contents_admin/config.php

- sms 4 설정할 때 captcha 적용하기
  /adm/sms_admin/config.php
  /adm/sms_admin/config_update.php 

- content몰 코드수정 (컨텐츠몰 설정을 필요할 때가 읽어들이게)
  /adm/admin.menu600.contents.php
  /adm/contents_admin/_common.php

- nobot 환경에서만 captcha 체크하게
  /bbs/kcaptcha_check.inc.php

- 안쓰는 token 관련 코드 삭제 + captcha가 안나오는 오류 수정
  /skin/member/basic/register_form.skin.php

- 닉네임 history 오류 수정
  /bbs/register_form_update.php
  /skin/member/basic/ajax_mb_nick_.php

  /install/sql_opencode.php
  /adm/upgrade_bd_pack.php

  ALTER TABLE `$g4_mb_nick` ADD UNIQUE ( `mb_nick` ) ;

- 회원정보공개 일자 초기화 (설치시 - 7일로. 현재는 0일)
  /install/sql_opencode.php

- 누락코드 추가
  /bbs/norobot.inc.php

---------- 코드 업글 (4.31.01) ------------------
  /lib/common.lib.php

---------- 코드 업글 (4.31.01) ------------------

- data 디렉토리 만들기
  /그누설치디렉토리/data/cheditor4/ 디렉토리를 만들고 권한을 0707로 부여 합니다.
  해당코드가 이미지 삽입에 들어 있어서 효율을 위해 분리해 버렸습니다.

  @mkdir("$g4[path]/data/$g4[cheditor4]/", 0707);
  @chmod("$g4[path]/data/$g4[cheditor4]/", 0707);

- 신규파일 

  /cheditor4/*
  /bbs/kcaptcha* (4개의 파일)
  /bbs/fonts/* (디렉토리 전체)
  /img/capslock.gif
  /js/capslock.js
  /js/kcaptcha.js
  /lib/cheditor4.lib.php

- 수정파일
  /head.php
  /head.sub.php 
  /common.php
  /config.php
  /style.css

  /cheditor/* (cheditor와 동일하게 합니다. 존재이유는 과거와의 호환 때문 입니다)
  /install/install_db.php
  /lib/common.lib.php

  /adm/admin.lib.php
  /adm/auth_list.php 
  /adm/auth_list_delete.php
  /adm/auth_update.php
  /adm/board_copy.php 
  /adm/board_copy_update.php 
  /adm/board_delete.php
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/board_list.php
  /adm/board_list_delete.php
  /adm/board_list_update.php
  /adm/boardgroup_delete.php
  /adm/boardgroup_form.php
  /adm/boardgroup_form_update.php
  /adm/boardgroup_list.php
  /adm/boardgroup_list_update.php
  /adm/boardgroupmember_form.php
  /adm/boardgroupmember_list.php
  /adm/boardgroupmember_update.php
  /adm/config_form.php
  /adm/config_form_update.php
  /adm/index.php
  /adm/mail_form.php
  /adm/mail_list.php
  /adm/mail_select_list.php
  /adm/mail_select_update.php
  /adm/mail_update.php
  /adm/member_delete.php
  /adm/member_form.php
  /adm/member_form_update.php
  /adm/member_list.php
  /adm/member_list_delete.php
  /adm/member_list_update.php
  /adm/point_list.php 
  /adm/point_list_delete.php
  /adm/point_update.php
  /adm/poll_form.php 
  /adm/poll_form_update.php 
  /adm/poll_list.php
  /adm/sendmail_test.php
  /adm/version.php

  /bbs/formmail_send.php (*)
  /bbs/login_check.php
  /bbs/move.php 
  /bbs/move_update.php 
  /bbs/password_forget2.php 
  /bbs/password_forget3.php (*)
  /bbs/register_form.php
  /bbs/register_form_update.php (*)
  /bbs/search.php
  /bbs/view.php 
  /bbs/write.php
  /bbs/write_comment_update.php (*)
  /bbs/write_update.php (*)

  /kcaptcha_check.inc.php (신규파일)

  * 표시가 있는 것은 captcha가 적용된 것 입니다.

 // 자동등록방지 검사
  include_once ("./kcaptcha_check.inc.php");

  /skin/latest/basic/latest.skin.php 
  /skin/outlogin/basic/outlogin.skin.1.php
  /skin/outlogin/transparent/outlogin.skin.1.php
  /skin/new/basic/new.skin.php 
  /skin/poll/basic/poll_result.skin.php 
  /skin/search/basic/search.skin.php 

  /skin/member/basic/formmail.skin.php
  /skin/member/basic/login.skin.php 
  /skin/member/basic/member_confirm.skin.php 
  /skin/member/basic/memo_form.skin.php 
  /skin/member/basic/password_forget2.skin.php 
  /skin/member/basic/password_forget3.skin.php 
  /skin/member/basic/password_forget.skin.php 
  /skin/member/basic/password.skin.php 
  /skin/member/basic/register_form.skin.php 
  /skin/member/basic/register.skin.php 


  /adm/board_copy_update.php
  /adm/board_delet_inc.php
  /adm/board_delete.php
  /adm/board_list.php
  /adm/board_sort.php
  /adm/boardgroup_delete.php
  /adm/member_delete_unvisited.php
  /adm/memberGroup_list.php
  /adm/memberGroup_list_update.php
  /adm/phpinfo.php
  /adm/point_clear.php
  /adm/ug_*



--------------------------------------

- 포인트 정리시 정리대상 포인트를 백업해두기
  /adm/point_clear.php
  /install/install_db.php
  /install/sql_opencode.sql

- config db의 분리
  /lib/common.lib.php
  /bbs/register.php

  /install/install_db.php
  /install/sql_opencode.sql

  /adm/config_form_update.php
  /adm/upgrade_bd_pack.php

CREATE TABLE `g4_config_reg` (
`cf_stipulation` TEXT NOT NULL ,
`cf_privacy` TEXT NOT NULL ,
`cf_privacy_1` TEXT NOT NULL ,
`cf_privacy_2` TEXT NOT NULL ,
`cf_privacy_3` TEXT NOT NULL ,
`cf_privacy_4` TEXT NOT NULL 
); 
ALTER TABLE `g4_config`
  DROP `cf_stipulation`,
  DROP `cf_privacy`;

- 정보보호 진흥원 요청에 따른 수정 (회원가입시 동의하지 않음 버튼 추가)
  /skin/member/basic/register.skin.php
  /skin/member/basic/img/btn_agreement.gif
  /skin/member/basic/img/btn_dont_agreement.gif
  
- 정보보호 진흥원 요청에 따른 수정 (회원가입시 개인정보 취급방침 관련 변경)
  /skin/member/basic/register.skin.php

  * 4가지 추가적인 개인정보 관련사항. 사안별로 개별적인 동의 선택 버튼 추가

  /adm/config_form.php
  /adm/config_form_update.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php



ALTER TABLE `g4_config` ADD `cf_privacy_1` TEXT NOT NULL AFTER `cf_privacy` ,
ADD `cf_privacy_2` TEXT NOT NULL AFTER `cf_privacy_1` ,
ADD `cf_privacy_3` TEXT NOT NULL AFTER `cf_privacy_2` ,
ADD `cf_privacy_4` TEXT NOT NULL AFTER `cf_privacy_3` ;


- 정보보호 진흥원 요청에 따른 수정 (하단부 개인정보 취급방침 색상변경)
  /tail.php

- HTML 쓰기권한은 레벨2 이상부터 가능하게 관리자 페이지 수정 (CSRF)
  /adm/board_form.php

- 정보 비공개 처리방식 변경 (가입일/최종접속일은 무조건 보여주게)
  /bbs/profile.php
  /skin/member/basic/profile.skin.php
  
- 접속자 정보에 ip 주소를 추가
  /adm/visit.sub.php
  /adm/visit_ip.php

- 그룹아이디를 10자리에서 20자리로 늘리기
  /adm/boardgroup_form.php
  /adm/boardgroup_form_update.php

ALTER TABLE `g4_board` CHANGE `gr_id` `gr_id` VARCHAR( 20 ) ;
ALTER TABLE `g4_board_new` CHANGE `gr_id` `gr_id` VARCHAR( 20 ) ;
ALTER TABLE `g4_group` CHANGE `gr_id` `gr_id` VARCHAR( 20 ) ;
ALTER TABLE `g4_group_member` CHANGE `gr_id` `gr_id` VARCHAR( 20 ) ;

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php
  
- 그누보드/영카트4 매뉴얼
  /adm/admin.menu950.php
  /adm/img/menu950.gif
  /adm//manual/*

- 관리자 페이지에서 특정메뉴를 새창으로 열기
  /adm/admin.head.php

- 캐차 이미지를 absmiddle로 정렬하기
  /bbs/norobot.inc.php

- 아이디/비밀번호 찾기에서 캐차가 안나오는 오류 수정
  /skin/member/basic/password_forget2.skin.php

- 아이디/비밀번호 찾기에서 계속해서 retry 하는 경우
  /bbs/password_forget3.php

- 지속적으로 비번이 틀리는 ip를 블럭하기
  /config.php

  /adm/config_form.php
  /adm/config_form_update.php
  /adm/admin.menu_200.php
  /adm/login_fail_list.php
  /adm/singo_intercept.php

  /bbs/login_check.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

CREATE TABLE `g4_login_fail_log` ( 
`log_id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`mb_id` VARCHAR( 255 ) NOT NULL ,
`ip_addr` VARCHAR( 255 ) NOT NULL ,
`log_datetime` DATETIME NOT NULL ,
`log_url` VARCHAR( 255 ) NOT NULL 
) 

- 00일후 비밀번호 변경하게 하기
  /adm/config_form.php
  /adm/config_form_update.php

  /bbs/login_check.php
  /bbs/password_change_request.php (신규)

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

ALTER TABLE `g4_config` ADD `cf_password_change_dates` INT( 11 ) NOT NULL ;
ALTER TABLE `g4_member` ADD `mb_password_change_datetime` DATETIME NOT NULL ;

- (관리자 페이지) 설정관련 화면 정리
  /adm/config_form.php

- (관리자 페이지) 쪽지2 설정에 포함된 쪽지설정항목 삭제 (쪽지 dhtml 편집기, 쪽지 첨부파일)
  /adm/config_form.php
  /adm/config_form_update.php

- 사용자가 직접 게시글 대피하기
  /adm/board_form.php
  /adm/board_form_update.php

  /bbs/view.php
  /bbs/move2_update.php (신규)

  /js/common.js

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

ALTER TABLE `g4_board` ADD `bo_move_bo_table` VARCHAR( 20 ) NOT NULL ;

- 공지사항 정렬
  /adm/board_form.php
  /adm/board_form_update.php

  /js/jquery.js (jQuery) (신규)
  /js/javascripttoolbox.js (jQuery 확장기능) (신규)

- geditor 이미지 업로드 오류 (마냐님)
  /geditor/upload.php

- 딴지걸기 검색
  /bbs/hidden_comment_search.php
  /lib/common.lib.php

- 쪽지2 - 2.0.38
  /bbs/memo.php
  /bbs/memo2.php

- 투표하기 오류 수정 (기타의견 삭제가 안되는 오류)
  /bbs/poll_result.php

- Vista, Chrome을 접속 로그에 추가하기
  /lib/visit.lib.php
  
pre35

- 그누보드 튜닝 (인기글)
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

ALTER TABLE `g4_popular` ADD INDEX `pp_word_idx` ( `pp_word` ) ;

- 회원가입통계 오류 수정 (피터팬님)
  /adm/member_join_stat.php

- 포인트 프로그램 개선
  /bbs/point.php
  /skin/member/basic/point.skin.php (신규)

- 전체글/원글/댓글 통계 (미완성 입니다. ㅠ..ㅠ...)
  /adm/admin.menu300.php
  /adm/stat_write.php (신규)

  /adm/statistics_comment.php (삭제)
  /adm/statistics_write.php (삭제) 

pre34

- 쪽지2 - 2.0.38
  /adm/memo2_upgrade.php
  /install/sql_opencode.sql

  /bbs/memo.php
  /bbs/memo2.php

- 유니크로 로그 관리자에서 다수개를 한번에 처리할 때 조회관련 수정
  /adm/unicro_log.php
  http://opencode.co.kr/bbs/board.php?bo_table=gnu4_unicro&wr_id=27

- cheditor_mart 스킨 오류 (주바라기님)
  /skin/board/cheditor_mart/view.skin.php

- free_image3 스킨 오류 (주바라기님)
  /skin/board/free_image3/view.skin.php

- free_image3 스킨에 설정값이 없는 경우 기본설정값을 입력하기 (db update 해줌)
  /skin/board/free_image3/list.skin.php

- 그누보드 튜닝 (투표 - 기타의견)
  /bbs/poll_result.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php


ALTER TABLE `g4_poll_etc` ADD INDEX `po_id` ( `po_id` ) ;

- 그누보드 튜닝 (poll.lib.php)
  /lib/poll.lib.php

- 투표작성 오류 (db schema 누락. 주바라기님)
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- new.php 오류수정 (wr_id가 안나왔어요 ㅠ..ㅠ..)
  /bbs/new.php
  /install/sql_opencode.sql 

pre33

- 수정할 스크랩 메모가 없어도 update 가능하게
  /skin/member/basic/scrap_memo_update.php

- 그누보드 튜닝 (scrap.php)
  /bbs/scrap.php

- 그누보드 튜닝 (search.php)
  /bbs/search.php

- 그누보드 튜닝 (view.php)
  /bbs/view.php

- 그누보드 튜닝 (point.php)
  /bbs/point.php

- 그누보드 튜닝 (new.php)
  /bbs/new.php

- 그누보드 튜닝 (회원가입화면)

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

ALTER TABLE `g4_member` ADD INDEX `mb_nick` ( `mb_nick` ) ;

ALTER TABLE `g4_member` ADD INDEX `mb_email` ( `mb_email` ) 

- 그누보드 튜닝 (view_comment.php)
  /bbs/view_comment.php

- 그누보드 튜닝 (write) (1)
  /adm/upgrade_turning_write_idx.php
  /adm/sql_write.sql

* 기 설치하신 분은 아래의 db 업글 프로그램을 실행해야 합니다.
  /adm/upgrade_turning_write_idx.php

- 그누보드 튜닝 (write) (2)
  /bbs/write.php
  /bbs/write_update.php

- 그누보드 튜닝 (write) (3)
  /bbs/write_update.php

- no_robot.inc.php를 회원이 아닌 경우만 load하게 하기
  /bbs/write.php
  /bbs/write_update.php

* 일부 고약한 로보트가 회원가입하고 자동으로 쓰기를 쏘는 경우가 있습니다.
   하지만 그것 때문에 회원까지 인증번호를 입력하게 하는 것은 아니라 봅니다.
* 현재 회원의 경우 인증번호 입력이 안나오는데 파일을 load하고 있어서 그부분을 수정한 것 입니다. 

pre32 (08/09/17)

- 쪽지2 - 2.0.37 적용
  /bbs/memo.php
  /bbs/memo2.php
  /bbs/memo2_form_cancel.php
  /skin/member/basic/memo2_list.skin.php
  /skin/member/basic/memo2t.skin.php

- 딴지걸기 (유니크로/장터 게시판에 최저가/참조 주소 입력기능 추가)
  config.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php
  /adm/singo_list.php

  /bbs/hidden_comment_update.php (신규)
  /bbs/singo_popin.php
  /bbs/singo_popin_update.php

  /skin/board/cheditor_unicro_flea/view.skin.php
  /skin/board/cheditor_unicro_flea/hidden_comment.skin.php
  /skin/board/cheditor_mart/view.skin.php 
  /skin/board/cheditor_unicro_flea/hidden_comment.skin.php

CREATE TABLE `g4_hidden_comment` (
  `co_id` int(11) NOT NULL auto_increment,
  `bo_table` varchar(20) NOT NULL,
  `wr_id` int(11) NOT NULL,
  `mb_id` varchar(20) NOT NULL,
  `co_content` varchar(255) NOT NULL,
  `co_link` varchar(255) NOT NULL,
  `co_datetime` datetime NOT NULL,
  `wr_singo` tinyint(4) NOT NULL,
  `wr_ip` varchar(255) NOT NULL,
  PRIMARY KEY  (`co_id`),
  KEY `bo_table` (`bo_table`,`wr_id`),
  KEY `mb_id` (`mb_id`)
)

ALTER TABLE `g4_board` ADD `bo_hidden_comment` TINYINT( 4 ) NOT NULL ;

- mart, unicro_flea 스킨의 연락처 업데이트 프로그램 위치변경
  /bbs/mart_memo_update.php (신규)
  /skin/board/cheditor_mart/mart_memo_update.php (삭제)
  /skin/board/cheditor_mart/view.skin.php
  /skin/board/cheditor_unicro_flea/view.skin.php

- 연락처 박스 열리는거 이상하게 동작하는거 수정
  /skin/board/cheditor_mart/view.skin.php
  /skin/board/cheditor_unicro_flea/view.skin.php

- 쪽지 수신할 때 발신자 닉넴을 전부 보여주기
  /head.sub.php
  /bbs/memo2_form_update.php


ALTER TABLE `g4_member` CHANGE `mb_memo_call` `mb_memo_call` TEXT NOT NULL ;

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- 인기검색어 출력여부 선택할 수 있게 하기 (현재는 모든 게시판에서 출력)
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

  /lib/common.lib.php

  /skin/board/*/view.skin.php (cheditor, cheditor_banner, cheditor_cart, cheditor_jisik, cheditor_mart, cheditor_unicro_flea)
  
ALTER TABLE `g4_board` ADD `bo_popular` TINYINT( 4 ) NOT NULL ;
ALTER TABLE `g4_board` ADD `bo_popular_days` INT( 11 ) NOT NULL DEFAULT '14';


- 2009년도 달력
  /bbs/calendar/2009.txt

- 튜닝코드 수정 (sideview)
  /lib/common.lib.php

- 내가 코멘트를 단 비밀글을 열람할 수 있게 하기
  /bbs/board.php
  /bbs/view.php

pre31 (08/09/08)

컨텐츠몰을 pre30에서 추가는 하였지만, 실제 동작은 전혀 하지 못하는 상황입니다.

신고기능을 정교하게 하고, pre29에서 나온 버그를 수정하다가 보니 너무 복잡해서
일단 pre30에서 하지 않고 이후에 작업하기로 했기 때문 입니다.

컨텐츠몰, gshop, 딴지걸기 등의 기능은 코드는 있지만 동작하지 않기에 업데이트 목록에
포함하지 않습니다. 개발을 빨리해야 하는데, 계속지연되고 있네요. ㅠ..ㅠ...


- 그누보드 4.22.06 업그레이드 (08.09.07) 
  /geditor/upload.php 

- 사용자 그룹 (목록 업데이트 오류)
  /adm/ug_list_update.php

- 사용자 그룹 (업데이트 후 게시판 그룹으로 이동하는 오류)
  /adm/ug_list_update.php
  /adm/ug_form.php

- 오래된 글에 코멘트 쓰기를 하든 것에 포인트 부여하지 않기
  /adm/config_form.php
  /adm/config_form_update.php
  /bbs/write_comment_update.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

ALTER TABLE `g4_config` ADD `cf_no_comment_point_days` INT( 11 ) NOT NULL ;

- 2008년도 기념일 일정표
  /bbs/calendar/2008.txt

- 2007년도 기념일 일정표
  /bbs/calendar/2007.txt

- 그누보드 4.22.05 적용 (우편번호 파일만 수정됨)
  /bbs/zip.db

- 설치오류 수정 (4.0.x 호환)
  /install/sql_opencode.sql

- 관리자님 신고기능 - 0회의 경우에는 no action (기본 건수 1회로 설정)
  /adm/board_form.php

- 관리자님 신고기능 - 신고버튼이 코멘트 쓰기 권한이 있는 회원에게만 보이게 하기
  /bbs/view.php

- 관리자님 신고기능 - 코멘트 쓰기 권한이 있는 회원만 신고 가능하게 하기
  /bbs/singo_popin.php 

pre30 (08/08/28)

- 관리자/유니크로 로그보기 오류처리 넣었슴
  /adm/unicro_log.php 

- 관리자님 신고기능 - 신고처리(기본처리. 목록 및 보기에서 표시하기) 횟수 지정
  /adm/board_form.php
  /adm/board_form_update.php
  /adm/singo_list_delete.php

  /bbs/singo_popin_update.php
  /bbs/singo_search_delete.php

  /bbs/list.php
  /bbs/view.php
  /bbs/view_comment.php

  /install/sql_opencode.sql 

ALTER TABLE `g4_board` ADD `bo_singo_action` TINYINT( 4 ) NOT NULL AFTER `bo_singo` ;

- 관리자님 신고기능 - 목록의 style 오류 수정
  /skin/board/cheditor_*/list.skin.php

- 관리자님 신고기능 - 중복신고가 가능하게 수정 
  /bbs/singo_popin.php
  /bbs/singo_popin_update.php

- 관리자님 신고기능 - 사용자가 신고목록 보기에서 삭제 오류 수정
  /bbs/singo_search_delete.php

- 투표하기 - 기타의견 쓰기 레벨 지정하기
  /adm/poll_form.php
  /adm/poll_form_update.php
  /skin/poll/basic/poll_result.skin.php

  /install/sql_opencode.sql

- 쪽지2 - 2.0.36 적용하기
  /adm/memo2_upgrade.php
  /adm/config_form.php
  /adm/config_form_update.php

  /bbs/memo.php
  /bbs/memo2.php
  /bbs/memo2_config_update.php (신규)
  /bbs/memo2_form_spam.php

  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2_config.skin.php (신규)
  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/memo2_write.skin.php

  /install/sql_opencode.sql

- 불량회원(?) 신고하기
  /bbs/singo_member.php (신규)
  /bbs/singo_member_update.php (신규)
  /bbs/singo_member_view.php (신규)
  /adm/singo_list.php  

- 신고된 건수가 있는 회원은 닉네임 변경을 할 수 없게 하기
  /skin/member/basic/ajax_register_form.js
  /skin/member/basic/ajax_mb_nick_check.php

- 게시글 신고횟수 초과로 인한 사용자 레벨 초기화시 쪽지에 관련 메시지 추가하기
  /bbs/singo_popin_update.php

- 쪽지2와 신고기능 연동하기 (쪽지2의 스팸신고를 신고테이블에 등록하기)
  /bbs/memo2_form_spam.php
  /bbs/singo_popin_update.php
 
  /adm/singo_list.php
  /adm/singo_list_delete.php

- 쪽지2 - 2.0.35 적용
  /bbs/memo.php
  /bbs/memo2.php
  /skin/member/basic/img/icon_file.gif
  /skin/member/basic/memo2.skin.php
  /skin/member/basic/memo2_list.skin.php
  /skin/member/basic/friend_list.php
  /skin/member/basic/memo2_group_admin.skin.php
  /skin/member/basic/memo2_group_member.skin.php
  /skin/member/basic/memo2_memo_address_book.skin.php
  /skin/member/basic/memo2_online_skin.php
  /skin/member/basic/memo2_view.skin.php
  /skin/member/basic/memo2_write.skin.php

- 유니크로 장터 게시판 수정 (연락처 수정이 안되었네요 ㅠ..ㅠ..)
  /skin/board/cheditor_unicro_flea/_common.php
  /skin/board/cheditor_unicro_flea/mart_memo_update.php

- 유니크로 게시판 글보기에 관련글, 인기검색어 기능추가 (왜 빠졌지???)
  /skin/board/cheditor_unicro_flea/view.skin.php

- 포인트관리 (투표 포인트에 link 추가하기)
  /adm/point_list.php

- 투표기간을 스킨에서 출력
  /bbs/poll_result.php
  /skin/poll/basic/poll_result.skin.php

- 투표 종료일을 0000-00-00으로 입력시 투표종료가 안되게 수정
  /adm/poll_form.php
  /bbs/poll_update.php

- 투표 제목을 justify에서 center로 속성변경 (제목이 작은 경우 문제가 생김)
  /skin/poll/basic/poll.skin.php

- 코멘트 기능 오류 (비밀코멘트라는 글자까지 편집영역으로 이동하는 오류 등)
  /bbs/view_comment.php
  /skin/board/*/view_comment.php

- 방문자 카운트 오류 (g4_visit 테이블의 vi_id를 auto_increment로 변경)
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- 신고기능 (비회원의 게시글 신고를 하면 $write[mb_id]에 값이 없는 오류 수정)
  /bbs/singo_popin_update.php

- 신고기능 (쪽지보내기 기능추가 - 쪽지2)
  /bbs/singo_popin_update.php

- 신고기능 (지정된 신고사유는 화면으로 출력)
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

  config.php

$g4['singo_reason_table'] = $g4['table_prefix'] . "singo_reason";    // 게시물 신고 사유 테이블 

  /bbs/singo_popin_update.php
  /bbs/view.php
  /bbs/view_comment.php
  /skin/member/basic/singo_popin.skin.php



-- 
-- 테이블 구조 `g4_singo_reason`
-- 

CREATE TABLE `g4_singo_reason` (
  `sg_id` int(11) NOT NULL auto_increment,
  `sg_reason` varchar(255) NOT NULL,
  `sg_use` tinyint(4) NOT NULL,
  `sg_print` tinyint(4) NOT NULL,
  `sg_datetime` datetime NOT NULL,
  PRIMARY KEY  (`sg_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=euckr AUTO_INCREMENT=9 ;

-- 
-- 테이블의 덤프 데이터 `g4_singo_reason`
-- 

INSERT INTO `g4_singo_reason` (`sg_id`, `sg_reason`, `sg_use`, `sg_print`, `sg_datetime`) VALUES 
(1, '무의미한 도배글', 0, 0, '0000-00-00 00:00:00'),
(2, '게시판목적과 무관한 게시글', 0, 0, '0000-00-00 00:00:00'),
(3, '부적절한 물품판매', 0, 1, '0000-00-00 00:00:00'),
(4, '광고.홍보.방문유도', 0, 1, '0000-00-00 00:00:00'),
(5, '성희롱 및 관련 게시글', 0, 0, '0000-00-00 00:00:00'),
(6, '욕설.비방 게시글', 0, 0, '0000-00-00 00:00:00'),
(7, '저작권법을 위반', 0, 0, '0000-00-00 00:00:00'),
(8, '반사회적 게시글', 0, 0, '0000-00-00 00:00:00');

- 신고결과 메시지 수정 (수정후:담당자 확인 후 해당 게시물에 대해서 관련조치를 하겠습니다.)
  /bbs/singo_popin_update.php

- 투표 권한오류 message 수정 (회원 레벨명 반영하게. 권한2 -> 일반회원)
  /bbs/poll_update.php
  /lib/poll.lib.php
  /skin/poll/basic/poll.skin.php
  
  

- 연락처,계좌 입력창이 수정화면에서 안나오는 오류
  /skin/board/cheditor_unicro_flea/write.skin.php
  /skin/board/cheditor_mart/write.skin.php
  
- 1:1 게시판 관리자 기능 삭제 (안쓰는 기능입니다)
  /adm/oneboard_*

pre29 (08/08/13)

- 포인트경매스킨 목록이 붙어 나오는 오류 수정
  /skin/board/auction/list.skin.php

- 지식스킨 목록 신고시 흐리게 하기 (다내꺼)
  /skin/board/cheditor_jisik/list.skin.php

- 유니크로 스킨 이미지 누락 (천재보)
  /skin/board/cheditor_unicro_flea/img/unicro_ico_deal_ok.gif 

- 신고검색 수정 (날짜보기/신고사유 미출력 등)
  /bbs/singo_search.php

- 신고취소 기능 추가 (현재는 자신의 신고를 취소할 수 없슴)
  /bbs/singo_search.php
  /bbs/singo_search_delete.php


pre28 (08/08/07)

- 비회원 기타의견 삭제하기 기능추가
  /bbs/poll_result.php
  /bbs/password.php
  /bbs/poll_etc_update.php
  /skin/member/basic/password.skin.php

- 투표결과 보기에서 mb_nick을 출력하기 (등록후 닉네임 바꾸는 사람을 위해서)
  /bbs/poll_result.php

- 비회원 기타의견 쓰기에 비밀번호 추가하기
  /bbs/poll_etc_update.php
  /skin/poll/basic/poll_result.skin.php

ALTER TABLE `g4_poll_etc` ADD `pc_password` VARCHAR( 255 ) NOT NULL ;

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- 기타의견 쓰기에 referer check 및 $w 해킹방지 추가하기
  /bbs/poll_etc_update.php

- 기타의견에 그림글자 추가하기 (로보트 방지를 위해서)
  /bbs/poll_etc_update.php
  /skin/poll/basic/poll_result.skin.php

- 투표시작일/투표종료일 체크
  /bbs/poll_update.php

- 투표종료일
  /adm/poll_form.php
  /adm/poll_form_update.php

ALTER TABLE `g4_poll` ADD `po_end_date` DATE NOT NULL ; 

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- 투표 시작일을 달력으로 선택할 수 있게 하기
  /adm/poll_form.php

- 중복투표시 alert 해주기
  /bbs/poll_update.php

- 투표 기본 스킨 (basic) 수정
  /skin/poll/basic/poll.skin.php
  /skin/poll/basic/img/title_vote.gif

- 투표 스킨을 관리자메뉴에서 지정할 수 있게 하기 (현재는 프로그램으로 하드코딩)
  /adm/poll_form.php
  /adm/poll_form_update.php
  /lib/poll.lib.php
  /skin/poll/basic/poll.skin.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

ALTER TABLE `g4_poll` ADD `po_skin` VARCHAR( 255 ) NOT NULL ;

- 투표하기 관리자 메뉴에서 기타의견 help 추가 (기타의견이 뭔지 몰랐어요 ㅋㅋ)
  /adm/poll_form.php

- 이미지파일 깨어짐
  /skin/poll/basic/img/title.gif

- 유니크로 게시판 - 관리자는 구매자 지정 게시판에 일반글도 올릴 수 있게 함
  /skin/board/cheditor_unicro/list.skin.php

- 그룹접근권한 관련 오류 메시지 (다내꺼)
  /bbs/board.php

- 신고된 게시글을 목록의 select list에 추가
  /bbs/list.php

- 신고스킨에 신고사유 추가
  /skin/member/basic/singo.skin.php

- 신고된 게시글의 제목을 흐리게 만들어주기 (신고된 글인지 안읽고도 알수 있게)
  /skin/board/cheditor_*/list.skin.php

- 유니크로 로그 (유니크로 안쓰시면 pass~!)
  /adm/img/unicro.ico
  /adm/admin.menu300.php
  /adm/unicro_log.php

- 스킨디렉토리 이름 수정
  /skin/board/cheditor_oneline -> cheditor_oneline_v2 (새로 만드는 한줄)
  /skin/board/cheditor_oneline_old -> cheditor_oneline (기존의 한줄)


pre27 (08/08/01)

pre26에서 발생한 설치오류를 수정하고, 알려주신 버그들도 수정했습니다.

pre26에서 sms4를 급하게 추가하면서, 충분하게 테스트를 못했습니다. 
사실은 sms4를 설치하는 것은 sms4 관리자 메뉴에서 처리하는 것인데, 
그부분을 저는 수동으로 했기에 아무생각 없이 그냥 잊어버렸던겁니다. ㅠ..ㅠ...

하여간 sms4의 연동까지는 처리를 했습니다. 이제는 버그가 없어야지
할텐데 하면서 clean install을 했더니 문제가 없었습니다. 잘 되야 할텐데....

- 사용자그룹 업데이트 오류 
  /adm/ug_list_update.php

- 회원아이콘 등록 메시지 수정 (천재보)
  /skin/member/basic/register_form.skin.php

- 회원아이콘 등록 bmp/jpg/png도 가능하게
  /skin/member/basic/register_form.skin.php
  /bbs/register_form_update.php

- 회원아이콘 등록 파일 크기가 클 때 경고 메시지 보여주기
  /bbs/register_form_update.php

- 설치오류 수정 ( sms4 설치)
  /install/install_db.php

- 게시판관리/게시판그룹/회원그룹 관리 오류 (다내꺼)
  head.php
  head.sub.php

- sms4 연동 (불필요한 sql 삭제)
  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php
  /adm/sms_admin/config_update.php
  /sms/index.php

ALTER TABLE `$g4[config_table]` ADD `cf_sms4_member` TINYINT NOT NULL ,
ADD `cf_sms4_level` TINYINT NOT NULL 


pre26 (08/07/30)

- sms4 연동 (관리자 또는 사용자간 문자 보내기가 허용될 때만 sideview에 나오게)
  /js/sideview.js
  head.sub.php
  /adm/sms_admin/_common.php
  /sms/index.php (오류날꺼 같으면 아예 전송화면으로 이동할 수 없게)

- 사용자 그룹
  /adm/admin.menu200.php

  /adm/ug_list.php
  /adm/up_list_update.php
  /adm/ug_form.php
  /adm/ug_form_update.php
  /adm/ug_delete.php

  /adm/member_form.php
  /adm/member_form_update.php

  config.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

- 불당팩에 sms4 포함
  /adm/admin.menu900.php (신규)
  /adm/sms_admin/* (신규)
  /adm/img/memu900.gif (신규)
  /adm/img/title_memu900.gif (신규)
  HISTORY_SMS4 (신규)

  /lib/sms.lib.php (신규)
  /sms/* (신규)

  config.php (sms.config.php를 포함하도록 수정)

- 핸드폰 인증
  /adm/config_form.php
  /adm/config_form_update.php

  /install/sql_opencode.sql
  /adm/upgrade_bd_pack.php

  /skin/member/basic/register_form.skin.php
  /skin/member/basic/register_update.skin.php

- 게시판목록 비추천이 안나오는거 (다내꺼)
  /bbs/list.php

- 지식게시판 오류수정 (다내꺼)
  /skin/board/cheditor_jisik/view_comment.skin.php

- 회원의 성별정보가 있는 경우 출력 (현재는 출력하지 않아 자신의 성을 알 수 없슴)
  /skin/member/basic/register_form.skin.php

- 게시판/그룹관리자가 게시글 삭제시 작성자 레벨이 높은 경우 삭제 안하고 오류도 없슴(다내꺼)
  /bbs/delete_all.php

- 1:1 게시판 글쓰기 스킨 오류 수정 (다내꺼)
  /skin/board/cheditor_1to1/write.skin.php

- 포인트 경매 스킨 수정(경매물건이 2건일때 목록오류가 발생함)
  /skin/board/auction/auction.lib.php

- 누락된 보안코드 업그레이드 (필수적으로 업글 해야 함)
  common.php

- 스크랩 기능개선 (메모 키워드, 검색 등)
  /adm/upgrade_scrap.php
  /adm/upgrade_bd_pack.php
  /install/sql_opencode.sql

  /bbs/scrap.php
  /bbs/scrap_popin_update.php
  /js/common.js (스크랩 팝업윈도 크기변경)
  /skin/member/basic/scrap.skin.php
  /skin/member/basic/scrap_popin.skin.php
  /skin/member/basic/scrap_memo_update.php (신규)
  /skin/member/basic/img/co_btn_modify.gif (신규)

- 포인트 경매 스킨 수정(목록에서 상품명 text를 삭제-가독성 이슈)
  /skin/board/auction/list.skin.php

- 게시판 그림보기 기능 오류 (변경한 js 코드를 누락)
  /js/common.js

- 회원탈퇴기능 오류 (작동하지 않았다는..ㅠ..ㅠ..)
  /skin/member/basic/register_form.skin.php

- 내가 쓴 코멘트 (latest_my의 옵션값을 comment로 하면 됨)
  /lib/latest.my.lib.php

- get_member 튜닝코드 수정 (돌아해몽님)
  /bbs/profile.php

- 메모2 - 2.0.34
  /bbs/memo2_form_update.php

- 내가 방문한 게시판
  config.php
  tail.php (예제 추가)
  /bbs/board.php
  /adm/upgrade_bd_pack.php
  /install/sql_opencode.sql
  /lib/latest.my.lib.php

- simple 최근글 스킨 수정
  /skin/latest/simple/latest.skin.php

----------- 스크랩 ------------

ALTER TABLE `g4_scrap` ADD `wr_mb_id` VARCHAR( 255 ) NOT NULL ,
ADD `wr_subject` VARCHAR( 255 ) NOT NULL ;

----------- 내가 방문한 게시판 ------------

CREATE TABLE `g4_my_board` (
  `my_id` int(11) NOT NULL auto_increment,
  `mb_id` varchar(20) NOT NULL,
  `bo_table` varchar(20) NOT NULL,
  `my_datetime` datetime NOT NULL,
  PRIMARY KEY  (`my_id`),
  KEY `mb_id` (`mb_id`,`my_datetime`)
) 

---------- 핸드폰 인증 --------------

ALTER TABLE `g4_config` ADD `cf_hp_certify` TINYINT( 4 ) NOT NULL ,
ADD `cf_hp_certify_message` VARCHAR( 255 ) NOT NULL ,
ADD `cf_hp_certify_return` VARCHAR( 20 ) NOT NULL 

ALTER TABLE `g4_member` ADD `mb_hp_certify_datetime` DATETIME NOT NULL ;

---------- 사용자그룹 --------------

CREATE TABLE `g4_user_group` (
  `ug_id` varchar(10) NOT NULL default '',
  `ug_subject` varchar(255) NOT NULL default '',
  `ug_admin` varchar(255) NOT NULL default '',
  `ug_1_subj` varchar(255) NOT NULL default '',
  `ug_2_subj` varchar(255) NOT NULL default '',
  `ug_3_subj` varchar(255) NOT NULL default '',
  `ug_4_subj` varchar(255) NOT NULL default '',
  `ug_5_subj` varchar(255) NOT NULL default '',
  `ug_1` varchar(255) NOT NULL default '',
  `ug_2` varchar(255) NOT NULL default '',
  `ug_3` varchar(255) NOT NULL default '',
  `ug_4` varchar(255) NOT NULL default '',
  `ug_5` varchar(255) NOT NULL default '',
  PRIMARY KEY  (`ug_id`)
);

ALTER TABLE `g4_member` ADD `ug_id` VARCHAR( 10 ) NOT NULL ;
------------------------------------ 

pre25 (08/07/16)

- 신고 필드가 게시판에 생성안되는 오류 수정
  /adm/sql_write.sql

- 스크랩 리스트
  /modules/scrap_list.php

- 코멘트보기에서 관리자에게 비밀글이라는 정보가 출력안되는 경우를 수정
  /skin/board/*/view_comment.skin.php

- 게시판 쓰기 스킨에서 파일설명에 대한 comment 추가 
  /skin/board/*/write.skin.php (auction skin은 제외)

- 게시글 보기 스킨에서 파일설명 출력 기능 추가
  /skin/board/*/view.skin.php (auction, free_img3 스킨은 제외) 
  
pre24 (08/07/15)

- 관리자님 신고기능 (신고사유를 select 할 수 있게)
  /skin/member/basic/singo_popin.skin.php

- 관리자님 신고기능 (회원이 신고 게시글 목록 볼 수 있게)
  /bbs/singo_search.php

- 쪽지2 2.0.33
  /adm/memo2_upgrade.php
  
pre23 (08/07/14)

- 우편번호 파일 업데이트 (2008.06.27 - 곱슬최씨)
  /bbs/zip.db

- 일별 원글 통계 (나중에 기능 업글을 할 예정...)
  /adm/admin.menu300.php
  /adm/statistics_write.php

- 일별 댓글 통계 (나중에 기능 업글을 할 예정...)
  /adm/admin.menu300.php
  /adm/statistics_comment.php

- 게시판 신고기능 
  config.php

  /install/sql_opencode.sql (설치용)
  /install/install_db.php
  /adm/upgrade_db_pack.php (전체 업글용)
  /adm/upgrade_singo.php (신고 업글용)

  /adm/admin.menu300.php

  /adm/board_form.php
  /adm/board_form_update.php
  /adm/board_delete.inc.php (게시판 삭제시 신고내역도 삭제)
  /adm/config_form.php
  /adm/config_form_update.php
  /adm/singo_intercept.php  
  /adm/singo_list.php  
  /adm/singo_list_delete.php
  
  /bbs/delete.php
  /bbs/delete_all.php
  /bbs/delete_comment.php
  /bbs/move_update.php
  /bbs/view.php 
  /bbs/view_comment.php 
  /bbs/singo_popin.php (신규)
  /bbs/singo_popin_update.php (신규)

  /js/common.js

  /skin/member/basic/singo_popin.skin.php  

  /skin/board/cheditor/view.skin.php
  /skin/board/cheditor/view_comment.skin.php
  /skin/board/*/img/icon_singo.gif 


pre23의 db 업그레이드는 /adm/upgrade_singo.php 를 실행하면 됩니다.

pre22 (08/07/11)

- 게시판 그룹 목록의 상단부 흐트러짐 개선
  /adm/boardgroup_list.php

- 게시판 삭제시 게시판 바로가기 테이블의 정보도 삭제
  /adm/board_delete.inc.php

- 게시판 바로가기 코드 정리
  /bbs/my_menu_add.php
  /bbs/my_menu_add_script.php
  /skin/board/*/img/btn_my_menu.gif (현재는 이미지를 불당의 cdn에서 가져옴)

- 게시판 바로가기 코드 오류 수정
  /bbs/my_menu_add.php

- 게시판 바로가기 편집에서 게시판 제목을 누르면 해당 게시판 목록보기로 이동하기
  /bbs/my_menu_edit.php

pre21 (08/07/02)

- 게시판생성 script 오류
  /adm/sql_write.sql

- 게시글 이동시 유니크로 item 테이블 수정하기
  /bbs/move_update.php

- 갤러리 게시판 썸네일 워터마크를 닉네임으로 찍어주기
  /skin/board/free_image3/skin.lib.php
  /skin/board/free_image3/write_update.skin.php
  /img/han.ttf

- 배너 스킨 (신규)
  /skin/board/cheditor_banner/*

- ccl 정보 업데이트를 ccl 적용할 때만 하게 수정
  /skin/board/*/write_update.skin.php

- 회원가입 결과 화면에서 target을 _top으로 변경 (만일 iframe을 쓰는 경우를 위해서)
   /skin/member/basic/register_result.skin.php

pre20 (08/07/01)

- 갤러리 스킨 수정 (exit를 선택 가능하게)
  /skin/board/free_image3/write_update.head.skin.php
  /skin/board/free_image3/view.skin.php

- 갤러리 스킨 수정 (워터마크로 sir.co.kr 대신 자신의 도메인 출력하기)
  /skin/board/free_image3/skin.lib.php

- 갤러리 스킨 수정 (썸네일 누르면 게시글 보기로 이동하기)
  /skin/board/free_image3/list.skin.php

- 지식스킨 채택된 답변 이미지 link 오류 (답변채택이 나왔네요 ㅠ..ㅠ.)
   /skin/board/cheditor_jisik/view_comment.skin.php

- 내글에 대한 반응 (신규 - 기존꺼는 넘 허접 ㅠ..ㅠ...)
   /modules/my_comment.php

- 쪽지2 - 2.0.32
   /bbs/memo.php
   /bbs/memo2.php

- 그룹 최근글 (최근 update 순서로 정렬하는 기능추가)
  /lib/latest.group.lib.php

- 유니크로 최근글
  /lib/latest.unicro.lib.php

pre19 (08/06/30)

- 내가올린글/내글의 반응 스킨타이들 링크 변경
  /lib/latest.my.lib.php

- 지식스킨 채택 코멘트가 안보이는 오류
   /skin/board/cheditor_jisik/view_comment.skin.php

- 중복된 실시간 쪽지 기능 수정
   head.sub.php

- basic skin 삭제 (geditor를 지원하는 스킨)
  /skin/board/basic/* 

- 내가읽은 게시글
   /modules/my_read_list.php

pre18 (08/06/27)

    : 관련글에서 내글이 목록에 나오는거 제외하기 (내글을 제외한 글에서 관련글 찾기)
    /lib/common.lib.php

    : 실시간쪽지 관련 보충 (적용이 안되는거)
    head.php (이곳에서 실시간쪽지를 불러야 적용이 됩니다)
    /bbs/realtime_memo.php
    /bbs/img/Kim_Ae-ni_ver.swf
    /bbs/img/message_*

    : 쪽지2 - 2.0.31
    /skin/member/basic/memo2.skin.php
    /bbs/memo.php
    /bbs/memo2.php

    : 스피드맵 스킨 추가
    /skin/sitemap/speedmap/*

    : 코멘트 읽기 권한
    /adm/board_form.php
    /adm/board_form_update.php
    /adm/upgrade_db_pack.php
    /skin/board/*/view.skin.php
    /install/sql_opencode.sql

    : 지식스킨 포인트 없을 때 wr_1 오류 
    /skin/board/cheditor_jisik/write.skin.php

    : 포인트 경매스킨에 업체 url이 없을 때 새창 뜨는 오류 수정
    /skin/board/auction/list.skin.php 
    

pre17 (08/06/23)

    : 별명 입력시 금지어 체크
    /skin/member/basic/ajax_register_form.js
    /skin/member/basic/ajax_mb_nick_check.php

    : 지식게시판 수정
     - 기본 포인트 지정
     - 걸어야 하는 포인트가 없으면 포인트 지정 안보이게
     - 최소로 걸어야 하는 포인트 알림
     - 답변관련 기능 수정 (업글할 때 지웠어요. 실수로...)
    /skin/board/cheditor_jisik/view.skin.php
    /skin/board/cheditor_jisik/write.skin.php
    /skin/board/cheditor_jisik/view_comment.skin.php
    /bbs/list.php ({}를 안써서 wr_1~wr_10 값이 전달되지 않았슴)

    : 답글 쓰기 할 때 ca_name 오류 
    /skin/board/*/write_skin.php 


pre16 (08/06/20)

    : 사용금지 이메일 도메인 체크 (ajax)
    /skin/member/basic/ajax_register_form.js
    /skin/member/basic/ajax_mb_email_check.php

    : 첨부파일 관련 수정 (엑스엠엘) 취소 - foreach 오류가 발생
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=15109
    /bbs/write_update.php

    : 쪽지2 - 2.0.30
    /skin/member/basic/memo2.skin.php 

    : 실시간 메모 코드오류 수정
    /bbs/realtime_memo.php

    : unicro_09 스킨 삭제
     /skin/board/bbs/cheditor_unicro_09/*

    : unicro_flea 스킨 추가 (계속 수정중이므로 실적용은 하지 마세요)
     /skin/board/bbs/cheditor_unicro_flea/*


pre15 (08/06/19)

    : 지식스킨 mysql 4.x 호환을 위한 수정 (adddate)
    /skin/board/cheditor_jisik/write.skin.php 

    : 로그인할 때 오래된 세션파일 삭제하기 (곱슬최씨)
    /skin/member/basic/login_check.skin.php

    : 유니크로 최근글
    /lib/latest.unicro.lib.php

    : simple 최근글 스킨의 제목을 15자로 cut_str 하게 수정 (지금은 제한 없슴)
    /skin/latest/simple/latest.skin.php

    : 답글의 카테고리를 원본글과 같도록 수정
    /skin/board/*/write.skin.php

    : unicro 관련 수정 (url 등의 설정. 유니크로 프로그램은 곱슬최씨님께서 별매중 ^^)
    config.php

    : list.php에서 wr_1 - wr_10 가져오게 수정 (기존 스킨 호환 + 유니크로)
    /bbs/list.php

    : 비밀코멘트의 가독성 이슈 (글쓴이가 비밀글을 볼 때 비밀글 구분이 안가는 경우)
     /skin/board/*/view_comment.php
     
     
pre14 (08/06/13)

    : 실시간쪽지 + 실시간쪽지 알림 사용여부 
    /bbs/register_form_update.php
    /skin/member/basic/register_form.skin.php

    head.sub.php
    /bbs/realtime_memo*.php (신규. 3개 파일)
    /img/Kim* (1개 파일)
    /img/message_* (5개 파일)

    /install/sql_opencode.sql
    /adm/upgrade_db_pack.php

    : 쪽지2 - 2.0.29
    /bbs/memo.php
    /bbs/memo2.php
    /skin/member/basic/memo2.skin.php
    /skin/member/basic/memo2_memo_address_book.skin.php 

    : 로그아웃 location $link 오류 수정
    /bbs/logout.php

    : config.php 정리
    config.php

    : 비밀코멘트 색상변경 (비밀글 진하게, 색상은 검정으로)
    /skin/board/*/view_comment.skin.php

    : 그누보드 웜 패치
    common.php
    http://www.sir.co.kr/bbs/board.php?bo_table=co_notice&wr_id=1029

    : list.php에서 wr_1 - wr_5 가져오게 수정
    /bbs/list.php

    : 게시판별 인기글
    /bbs/list.php
    /bbs/search.php
    /lib/common.lib.php
    /lib/popular.lib.php

    /skin/board/cheditor/view.skin.php

    /skin/board/cheditor_cart/ (위 1개 파일)
    /skin/board/cheditor_jisik/ (위 1개 파일)
    /skin/board/cheditor_mart/ (위 1개 파일)

    /install/sql_opencode.sql
    /adm/upgrade_db_pack.php

    : mb_nick 히스토리
    config.php
    /adm/upgrade_mb_nick.php
    /bbs/member_nick_check.php
    /bbs/register_form_update.php
    /skin/member/basic/profile.skin.php

    /install/sql_opencode.sql
    /adm/upgrade_db_pack.php

    : 관련글 (배추팁)
    /adm/board_form.php
    /adm/board_form_update.php
    /adm/upgrade_related.php
    /bbs/write_update.php
    /lib/common.lib.php

    /install/sql_opencode.sql
    /adm/sql_write.sql
    /adm/upgrade_db_pack.php
    
    /skin/board/cheditor/write.skin.php
    /skin/board/cheditor/view.skin.php

    /skin/board/cheditor_cart/ (위 2개 파일)
    /skin/board/cheditor_jisik/ (위 2개 파일)
    /skin/board/cheditor_mart/ (위 2개 파일)

    : 메일발송시 사이트 이름 추가 (NTYPE님 팁)
    /bbs/write_update.php

    : 사이트맵 라이브러리화
    /lib/sitemap.lib.php (신규)
    /skin/sitemap/* (신규)
    /modules/sitemap.php
    /modules/img/sitemap* (삭제)

    : 비밀코멘트 보기 <p>태그 때문에 스타일 안먹히는 오류 수정
    /skin/board/*/view_comment.skin.php

    : 그룹최근글 코드 수정 (오류수정 + secret 관련 수정)
    /lib/latest.lib.php 

pre13 (08/05/30)

비밀코멘트에 오류가 있어서 이번에는 수정사항은 많지 않지만 release 합니다.
금번 수정사항은 배추스킨 다음버젼에도 반영될 것 입니다. 배추님 싸랑해요^^

    : 특정 조건일 때 비밀코멘트가 보이는 오류 (배추님 덕분에 잡았어요^^)
    /bbs/view_comment.php

    : 코멘트 스킨 비밀글 보기 좋게 수정
    /skin/board/*/vie_comment.skin.php

    : sitemap 프로그램 재코딩 (Rino님)
    /modules/sitemap.php 
    )

pre12 (08/05/29)

    : 게시글 복사/이동 오류 (관리자)
    /bbs/move_update.php

    : 코멘트 cheditor 이미지 resize 
    /skin/board/*/view_comment.skin.php

    : 사이트맵 정렬 추가 
    /modules/sitemap.php

    : 포인트 경매 스킨 오류 (함수중복)
    /skin/board/auction/auction.lib.php

    : 관리자에서 게시글 복사를 할 때 파일복사가 안되는 오류 수정
    /bbs/move_update.php

    : 쪽지2 2.0.28 버젼업
    /bbs/memo.php
    /bbs/memo2.php 
    /skin/member/basic/memo2.skin.php
    /skin/member/basic/memo2_memo_address_book.skin.php


pre11 (08/05/27)

    : 코멘트에 cheditor 적용하기 (버그 수정)
    /bbs/write_comment_update.php

    /skin/board/cheditor/view_comment.skin.php

    /skin/board/cheditor_1to1/* (위의 1개 파일)
    /skin/board/cheditor_cart/* (위의 1개 파일)
    /skin/board/cheditor_jisik/* (위의 1개 파일)
    /skin/board/cheditor_mart/* (위의 1개 파일)
    /skin/board/cheditor_unicro/* (위의 1개 파일)

    : 비밀코멘트 리플보기 (곱슬최씨)
    /bbs/view_comment.php

    : 링크에서 추천낙시 방지 (헐랭이)
    /bbs/link.php

    : 낚시용 추천링크 방지 (곱슬최씨, 관리자)
    /skin/board/cheditor/view.skin.php

    /skin/board/cheditor_1to1/* (위의 1개 파일)
    /skin/board/cheditor_cart/* (위의 1개 파일)
    /skin/board/cheditor_jisik/* (위의 1개 파일)
    /skin/board/cheditor_mart/* (위의 1개 파일)
    /skin/board/cheditor_unicro/* (위의 1개 파일)

    : 코멘트 공지사항 (배추팁)
    /adm/board_form.php
    /adm/board_form_update.php
    /adm/upgrade_db_pack.php
    /install/sql_opencode.sql

    /skin/board/cheditor/view_comment.skin.php

    /skin/board/cheditor_1to1/* (위의 1개 파일)
    /skin/board/cheditor_cart/* (위의 1개 파일)
    /skin/board/cheditor_jisik/* (위의 1개 파일)
    /skin/board/cheditor_mart/* (위의 1개 파일)
    /skin/board/cheditor_unicro/* (위의 1개 파일) 


pre10 (08/05/23)

    : 게시판 생성시 기본으로 ./_head.php, ./_tail.php를 넣어주기
    /adm/board_form.php

    : 공지사항에 코멘트 금지하기 (PhotoFly)
    /adm/board_form.php
    /adm/board_form_update.php
    /install/sql_opencode.sql
    /skin/board/cheditor/view_comment.skin.php

    /skin/board/cheditor_1to1/* (위의 1개 파일)
    /skin/board/cheditor_cart/* (위의 1개 파일)
    /skin/board/cheditor_jisik/* (위의 1개 파일)
    /skin/board/cheditor_mart/* (위의 1개 파일)
    /skin/board/cheditor_unicro/* (위의 1개 파일)

    : 자동으로 출처를 삽입 (배추팁)
    /js/autosourcing.open.compact.js
    /adm/board_form.php
    /adm/board_form_update.php
    /install/sql_opencode.sql

    /skin/board/cheditor/view.skin.php
    /skin/board/cheditor/view_comment.skin.php

    /skin/board/cheditor_cart/* (위의 2개 파일)
    /skin/board/cheditor_jisik/* (위의 2개 파일)
    /skin/board/cheditor_mart/* (위의 2개 파일)
    /skin/board/cheditor_unicro/* (위의 2개 파일)

    : 게시판별 카운터 (곱슬최씨)
    config.php
    common.php
    /adm/admin.menu200.php
    /adm/mw.adm/* (신규파일)
    /install/sql_opencode.sql
    /adm/board_form_update.php

    : 이미지 첨부파일만 지정할 수 있게 (zzzz님)
    /js/wrest.js

    : 그림첨부시 끄덕거림 해결 (배추팁)
    /skin/board/cheditor/view.skin.php
    /skin/board/cheditor_1to1/view.skin.php
    /skin/board/cheditor_cart/view.skin.php
    /skin/board/cheditor_jisik/view.skin.php
    /skin/board/cheditor_mart/view.skin.php
    /skin/board/cheditor_unicro/view.skin.php

    : 구글 웹마스터 도구에 그누보드 rss 등록하기 (배추팁)
    rss.php
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=15469

    : CCL (배추팁)
    /adm/board_form.php
    /adm/board_form_update.php
    /adm/upgrade_ccl.php (신규파일)
    /adm/sql_write.sql
    /lib/common.lib.php

    /skin/board/cheditor/write.skin.php
    /skin/board/cheditor/write_update.skin.php
    /skin/board/cheditor/view.skin.php
    /skin/board/cheditor/img/ccl_* (신규 이미지 파일)

    /skin/board/cheditor_cart/* (이상 공통)
    /skin/board/cheditor_jisik/* (이상 공통)
    /skin/board/cheditor_mart/* (이상 공통)
    /skin/board/cheditor_unicro/* (이상 공통)

    : 그누보드 튜닝 (자존심님의 팁)
    common.php

    : 최근글 튜닝 (Rino님의 팁)
    /lib/latest.lib.php

    : 코멘트에 chedior 적용 
    /skin/board/cheditor/view_comment.skin.php
    /skin/board/cheditor/img/co_* (이미지 파일)
    /skin/board/cheditor_cart/* (공통)
    /skin/board/cheditor_jisik/* (공통)
    /skin/board/cheditor_mart/* (공통)
    /skin/board/cheditor_unicro/* (공통)

    : 게시판 index 추가
    /adm/sql_write.sql
    /adm/upgrade_bd_pack.php

    : 게시글 잠금 기능 넣기 (배추팁)
    /bbs/proc/mw.btn.secret.php
    /lib/common.lib.php
    /skin/board/cheditor/view.skin.php
    /skin/board/cheditor/img/btn_secret.gif
    /skin/board/cheditor/img/btn_nosecret.gif
    /skin/board/cheditor_cart/* (3개 파일)
    /skin/board/cheditor_jisik/* (3개 파일)
    /skin/board/cheditor_mart/* (3개 파일)
    /skin/board/cheditor_unicro/* (3개 파일)

    : 쪽지2 - 2.0.27 적용
    /skin/member/basic/memo2_write.skin.php

    : sciript-x가 나오지 않게 수정 (유아원님)
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=15351

    : 패스워드 미터 (DAKK님)
    /skin/member/basic/img/m*.gif
    /skin/member/basic/register_form.skin.php
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=15144

    : 첨부파일 관련 수정 (엑스엠엘님)
    /bbs/write_update.php
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=15109

    : 속도개선을 위한 common.lib.php 수정
    /lib/common.lib.php

    : 속도개선을 위한 common.php 수정
    common.php

    : 속도개선을 위한 list.php 선택수정
    /bbs/list.php

    : 속도향상을 위한 get_sideview 수정(2)
    /lib/common.lib.php

    : 속도향상을 위한 min_wr_num 수정
    /bbs/list.php
    /bbs/delete.php
    /bbs/delete_all.php
    /bbs/move_update.php
    /bbs/write_update.php

    : 속도향상을 위한 outlogin 수정
    /lib/outlogin.lib.php
    /adm/auth_update.php
    /adm/auth_list_delete.php

    : 속도향상을 위한 공지관련 수정
    /bbs/list.php

    : 속도향상을 위한 view_comment 수정
    /bbs/view_comment.php

    : 속도향상을 위한 visit
    /bbs/visit_insert.inc.php

    : 최근글 속도향상을 위한 수정 (ccc님 지적사항)
    /lib/latest.group.lib.php
    /lib/latest.my.lib.php
    /lib/latest.lib.php

    : 속도향상을 위한 common.lib.php 수정 (get_file 관련)
    /adm/upgrade_turning.php (이미 설치하신 분들을 위한 업글 스크립트)
    /adm/upgrade_bd_pack.php 
    /bbs/write_update.php
    /lib/common.lib.php

    : 속도향상을 위한 memo2 수정
    /bbs/memo.php
    /bbs/memo2.php

    : 그룹최근글 스킨 오류 수정 (있던 코드를 지웠네요. 수정했습니다 ㅠ..ㅠ)
    /lib/latest.group.lib.php 


pre9 (08/04/01)

    : 게시글 이동시 최신글 테이블에 gr_id가 업데이트 안되는 오류
    /bbs/move_update.php

    : 주소록 최신버젼으로 업데이트 (08/03/27일자 - zzzz님)
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=15065
    /bbs/zip.db

    : 그룹최근글에서 검색제외가 된 게시판글 보이지 않게 하기
    /lib/latest.group.php

    : 배포판의 기본 외관을 불당 스타일로 바꾸기 (기 설치하신 분들은 안바꾸셔도 됩니다)
    /img/logo.gif
    head.php
    index.php
    tail.php

    : 네이버 검색 키 삭제
    /modules/naverkin_api.php

    : 게시판 스킨 변경 (정렬 링크 2개 추가, wr_id, wr_last)
    /skin/board/cheditor/list.skin.php

    : 포인트랭킹 정렬순서 추가 (동점자 처리. mb_point에...)
    /modules/point_ranking.php

    : 팝업관리자2 pre5 (부비컴, rino)
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_skin&wr_id=69933

    config.php ($g4[popup_table], $g4[popup_link_table],  $g4[data_path] 추가)
    head.php (popup.php include)
    autoPOPUP.php (신규파일)
    autoPOPUP_Layer.php (신규파일)
    popup.php (신규파일)
    /install/sql_opencode.sql
    /adm/popup* (4개 파일)
    /skin/popup/*

* 불당팩을 이미설치 하신분은 phpMyAdmin에서 직접 db 테이블 만들어주세요.
팝업관리를 위해서 테이블 2개가 추가되었습니다.

create table `g4_zotta_popup` ( 
  `nidx` mediumint(6) unsigned NOT NULL auto_increment,
  `nwidth` smallint(3) unsigned default NULL,
  `nheight` smallint(3) unsigned default NULL,
  `nleft` smallint(3) default NULL,
  `nright` smallint(3) default NULL,
  `noptions` varchar(255) default NULL,
  `cookie_days` int(11) NOT NULL,
  `szsubject` varchar(255) default NULL,
  `szmemo` text,
  `link_id` int(11) default NULL,
  `szimage` varchar(255) default NULL,
  `szview` char(1) NOT NULL default 'N',
  `popup_type` char(1) NOT NULL,
  `popup_skin` varchar(255) NOT NULL,
  `nstartdate` int(12) unsigned default NULL,
  `nenddate` int(12) unsigned default NULL,
  `ndate` int(12) unsigned default NULL,
  PRIMARY KEY  (`nidx`)
)

CREATE TABLE `g4_zotta_popup_link` (
  `link_id` int(11) NOT NULL auto_increment,
  `link_name` varchar(255) NOT NULL,
  `link_url` varchar(255) NOT NULL,
  PRIMARY KEY  (`link_id`)
) 


pre8 (08/04/01)
    : 공지사항 오류수정 (관리자님 패치후에는 삭제 예정)
    /adm/board_copy_update.php
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=14947

    : config.php 오류 수정 (쿠키도메인을 opencode.co.kr로 썼더라구요 ㅠ..ㅠ)
    config.php

    : 이미지 디렉토리 누락 (있던 것을 제가 지워버렸네요 ㅠ..ㅠ)
    /skin/board/cheditor/img/*

    : 이용약관
    /company/_common.php
    /company/_head.php
    /company/_tail.php
    /company/service.php
    /company/service.html
    /install/install_db.php
    tail.php

    : 책임한계와 법적고지
    /company/disclaimer.php
    /company/disclaimer.html
    tail.php

    : 이메일주소 무단수집 거부
    /company/rejection.php
    /company/rejection.html
    tail.php

    : 개인정보취급방침 ( http://www.kisa.or.kr/ 의 규정에 맞도록 변경 )
    /company/privacy.html
    /company/privacy.php
    /w3c/* (xml 파일들)
    /skin/member/basic/register.skin.php
    tail.php
    /adm/config_form.php
    /install/install_db.php

    : 그룹최근글 함수 수정 (그룹아이디 지정하지 않으면 전체 최근글 출력)
    /lib/latest.group.lib.php 

    : 쪽지2 - 2.0.24 적용
    /bbs/memo2_form_update.php

    : 회원가입 화면의 패스워드 미터
    /skin/member/basic/register_form.skin.php
    http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=14924


pre7 (08/04/01)

    :   불당팩 버젼 정보 추가 (관리자 페이지에)
        /adm/admin.menu100.php
        /adm/version_bd.php
        HISTORY_BD

    :   최근글 검색에 관리자 삭제기능 추가하기 (푸름아빠)
        http://www.sir.co.kr/bbs/board.php?bo_table=g4_skin&wr_id=73872
        /adm/ssh_delete_spam.php
        /bbs/new.php ($list[$i][comment_id] 항목을 결과값에 추가)
        /skin/new/default/new.skin.php

    :   장터게시판 스킨 수정 (게시글 수정할 때 연락처 정보가 복사 안되는거)
        /skin/board/cheditor_mart/write.skin.php

    : 4.22.03 버전업
        :  아이디/패스워드 찾기 페이지 로봇에 의한 접근 차단 (GD Lib 사용자만 사용 가능) 
        HISTORY
        skin/member/basic/password_forget2.skin.php 
        bbs/password_forget2.php 
        bbs/password_forget3.php 


pre6 (08/03/31)

    :    장터게시판 스킨 수정 (답글을 달 때 연락처 정보가 복사되는거 방지)
         /skin/board/cheditor_mart/write.skin.php

    :    cheditor 게시판 스킨의 불필요 파일 삭제 (cheditor가 복사되어 있었네요 ㅠㅠ)

    :   게시판 스킨의 답글 쓰기에서 페이지가 적용되도록 수정
         http://www.sir.co.kr/bbs/board.php?bo_table=g4_tiptech&wr_id=14904
         /skin/board/*/write.skin.php

    :   나의 최근글 관련 오류 수정 (쓸데없이 my_Datetime을 업데이트 해씀)
        /bbs/write.update.php

    :   게시판 바로가기 로그인 박스에 적용하기
        /skin/outlogin/transparent/outlogin.skin.2.php

    :   회원(로그인한 사람)만 sideview가 보이게
        /lib/common.lib.php

    :   관리자 / 그룹 검색 사용 및 검색 순서 (현재는 게시판만 검색 순서가 있슴)
        /adm/boardgroup_list.php
        /adm/boardgroup_list.update.php
        /adm/board_group_form.php
        /adm/board_group_form.update.php

        /install/sql_gnuboard4.sql
        /adm/upgrade_bd_pack.php

        DB변경 
        ALTER TABLE `g4_group` ADD `gr_use_search` TINYINT( 4 ) NOT NULL AFTER `gr_use_access` ,
        ADD `gr_order_search` INT( 11 ) NOT NULL AFTER `gr_use_search` ;
  
    :   그룹 최근글에서 글자수 제한이 고정된 것 (테스트용 cut_str을 안지웠네요 ㅠ..ㅠ)
        /skin/latest/simple/latest.skin.php

    :   그누보드 버젼업 4.22.02
        : 우편번호 파일을 zzzz님이 올리신 파일로 교체 
        /bbs/zip.db
        :  UTF-8 사용시 폼메일 창에서 이름이 깨지던 오류 수정 
        /js/common.js
        : 자동등록방지 이미지에 캐시를 방지하기 위한 코드 추가 (스킨 수정은 없습니다)
        /bbs/no_robot.inc.php